var e3=Object.defineProperty;var t3=(t,e,n)=>e in t?e3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>(t3(t,typeof e!="symbol"?e+"":e,n),n);function s3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function n3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fN={exports:{}},Zh={},gN={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),r3=Symbol.for("react.portal"),i3=Symbol.for("react.fragment"),a3=Symbol.for("react.strict_mode"),l3=Symbol.for("react.profiler"),o3=Symbol.for("react.provider"),c3=Symbol.for("react.context"),d3=Symbol.for("react.forward_ref"),u3=Symbol.for("react.suspense"),h3=Symbol.for("react.memo"),m3=Symbol.for("react.lazy"),Zy=Symbol.iterator;function f3(t){return t===null||typeof t!="object"?null:(t=Zy&&t[Zy]||t["@@iterator"],typeof t=="function"?t:null)}var xN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pN=Object.assign,yN={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||xN}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vN(){}vN.prototype=Wl.prototype;function xx(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||xN}var px=xx.prototype=new vN;px.constructor=xx;pN(px,Wl.prototype);px.isPureReactComponent=!0;var Qy=Array.isArray,bN=Object.prototype.hasOwnProperty,yx={current:null},jN={key:!0,ref:!0,__self:!0,__source:!0};function wN(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)bN.call(e,r)&&!jN.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Qc,type:t,key:a,ref:l,props:i,_owner:yx.current}}function g3(t,e){return{$$typeof:Qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qc}function x3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jy=/\/+/g;function Wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x3(""+t.key):e.toString(36)}function hu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Qc:case r3:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Wm(l,0):r,Qy(i)?(n="",t!=null&&(n=t.replace(Jy,"$&/")+"/"),hu(i,e,n,"",function(d){return d})):i!=null&&(vx(i)&&(i=g3(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Jy,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Qy(t))for(var o=0;o<t.length;o++){a=t[o];var c=r+Wm(a,o);l+=hu(a,e,n,c,i)}else if(c=f3(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=r+Wm(a,o++),l+=hu(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function xd(t,e,n){if(t==null)return t;var r=[],i=0;return hu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function p3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var As={current:null},mu={transition:null},y3={ReactCurrentDispatcher:As,ReactCurrentBatchConfig:mu,ReactCurrentOwner:yx};function NN(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:xd,forEach:function(t,e,n){xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xd(t,function(){e++}),e},toArray:function(t){return xd(t,function(e){return e})||[]},only:function(t){if(!vx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Wl;He.Fragment=i3;He.Profiler=l3;He.PureComponent=xx;He.StrictMode=a3;He.Suspense=u3;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y3;He.act=NN;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pN({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=yx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)bN.call(e,c)&&!jN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Qc,type:t.type,key:i,ref:a,props:r,_owner:l}};He.createContext=function(t){return t={$$typeof:c3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o3,_context:t},t.Consumer=t};He.createElement=wN;He.createFactory=function(t){var e=wN.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:d3,render:t}};He.isValidElement=vx;He.lazy=function(t){return{$$typeof:m3,_payload:{_status:-1,_result:t},_init:p3}};He.memo=function(t,e){return{$$typeof:h3,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=mu.transition;mu.transition={};try{t()}finally{mu.transition=e}};He.unstable_act=NN;He.useCallback=function(t,e){return As.current.useCallback(t,e)};He.useContext=function(t){return As.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return As.current.useDeferredValue(t)};He.useEffect=function(t,e){return As.current.useEffect(t,e)};He.useId=function(){return As.current.useId()};He.useImperativeHandle=function(t,e,n){return As.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return As.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return As.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return As.current.useMemo(t,e)};He.useReducer=function(t,e,n){return As.current.useReducer(t,e,n)};He.useRef=function(t){return As.current.useRef(t)};He.useState=function(t){return As.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return As.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return As.current.useTransition()};He.version="18.3.1";gN.exports=He;var f=gN.exports;const ie=n3(f),kl=s3({__proto__:null,default:ie},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3=f,b3=Symbol.for("react.element"),j3=Symbol.for("react.fragment"),w3=Object.prototype.hasOwnProperty,N3=v3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k3={key:!0,ref:!0,__self:!0,__source:!0};function kN(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)w3.call(e,r)&&!k3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b3,type:t,key:a,ref:l,props:i,_owner:N3.current}}Zh.Fragment=j3;Zh.jsx=kN;Zh.jsxs=kN;fN.exports=Zh;var s=fN.exports,mg={},SN={exports:{}},nn={},TN={exports:{}},CN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var B=D.length;D.push(R);e:for(;0<B;){var X=B-1>>>1,Z=D[X];if(0<i(Z,R))D[X]=R,D[B]=Z,B=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var R=D[0],B=D.pop();if(B!==R){D[0]=B;e:for(var X=0,Z=D.length,$=Z>>>1;X<$;){var Y=2*(X+1)-1,_=D[Y],H=Y+1,U=D[H];if(0>i(_,B))H<Z&&0>i(U,_)?(D[X]=U,D[H]=B,X=H):(D[X]=_,D[Y]=B,X=Y);else if(H<Z&&0>i(U,B))D[X]=U,D[H]=B,X=H;else break e}}return R}function i(D,R){var B=D.sortIndex-R.sortIndex;return B!==0?B:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,g=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(D){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=D)r(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(d)}}function N(D){if(x=!1,j(D),!y)if(n(c)!==null)y=!0,L(w);else{var R=n(d);R!==null&&O(N,R.startTime-D)}}function w(D,R){y=!1,x&&(x=!1,v(k),k=-1),g=!0;var B=m;try{for(j(R),h=n(c);h!==null&&(!(h.expirationTime>R)||D&&!P());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var Z=X(h.expirationTime<=R);R=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&r(c),j(R)}else r(c);h=n(c)}if(h!==null)var $=!0;else{var Y=n(d);Y!==null&&O(N,Y.startTime-R),$=!1}return $}finally{h=null,m=B,g=!1}}var E=!1,M=null,k=-1,T=5,S=-1;function P(){return!(t.unstable_now()-S<T)}function C(){if(M!==null){var D=t.unstable_now();S=D;var R=!0;try{R=M(!0,D)}finally{R?A():(E=!1,M=null)}}else E=!1}var A;if(typeof p=="function")A=function(){p(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=C,A=function(){V.postMessage(null)}}else A=function(){b(C,0)};function L(D){M=D,E||(E=!0,A())}function O(D,R){k=b(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,L(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var B=m;m=R;try{return D()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=m;m=D;try{return R()}finally{m=B}},t.unstable_scheduleCallback=function(D,R,B){var X=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?X+B:X):B=X,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,D={id:u++,callback:R,priorityLevel:D,startTime:B,expirationTime:Z,sortIndex:-1},B>X?(D.sortIndex=B,e(d,D),n(c)===null&&D===n(d)&&(x?(v(k),k=-1):x=!0,O(N,B-X))):(D.sortIndex=Z,e(c,D),y||g||(y=!0,L(w))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var R=m;return function(){var B=m;m=R;try{return D.apply(this,arguments)}finally{m=B}}}})(CN);TN.exports=CN;var S3=TN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=f,en=S3;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EN=new Set,mc={};function Aa(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(mc[t]=e,t=0;t<e.length;t++)EN.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fg=Object.prototype.hasOwnProperty,C3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function E3(t){return fg.call(tv,t)?!0:fg.call(ev,t)?!1:C3.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function D3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P3(t,e,n,r){if(e===null||typeof e>"u"||D3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rs(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ds[t]=new Rs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ds[e]=new Rs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ds[t]=new Rs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ds[t]=new Rs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ds[t]=new Rs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ds[t]=new Rs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ds[t]=new Rs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ds[t]=new Rs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ds[t]=new Rs(t,5,!1,t.toLowerCase(),null,!1,!1)});var bx=/[\-:]([a-z])/g;function jx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bx,jx);ds[e]=new Rs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bx,jx);ds[e]=new Rs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bx,jx);ds[e]=new Rs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ds[t]=new Rs(t,1,!1,t.toLowerCase(),null,!1,!1)});ds.xlinkHref=new Rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ds[t]=new Rs(t,1,!1,t.toLowerCase(),null,!0,!0)});function wx(t,e,n,r){var i=ds.hasOwnProperty(e)?ds[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P3(e,n,i,r)&&(n=null),r||i===null?E3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=T3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),gg=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),PN=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),pg=Symbol.for("react.suspense_list"),Sx=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),MN=Symbol.for("react.offscreen"),sv=Symbol.iterator;function co(t){return t===null||typeof t!="object"?null:(t=sv&&t[sv]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,qm;function _o(t){if(qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qm=e&&e[1]||""}return`
`+qm+t}var Km=!1;function Gm(t,e){if(!t||Km)return"";Km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_o(t):""}function M3(t){switch(t.tag){case 5:return _o(t.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return t=Gm(t.type,!1),t;case 11:return t=Gm(t.type.render,!1),t;case 1:return t=Gm(t.type,!0),t;default:return""}}function yg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Ga:return"Portal";case gg:return"Profiler";case Nx:return"StrictMode";case xg:return"Suspense";case pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PN:return(t.displayName||"Context")+".Consumer";case DN:return(t._context.displayName||"Context")+".Provider";case kx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sx:return e=t.displayName||null,e!==null?e:yg(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return yg(t(e))}catch{}}return null}function _3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yg(e);case 8:return e===Nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _N(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L3(t){var e=_N(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=L3(t))}function LN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_N(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vg(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AN(t,e){e=e.checked,e!=null&&wx(t,"checked",e,!1)}function bg(t,e){AN(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&jg(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jg(t,e,n){(e!=="number"||Bu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lo=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Lo(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function RN(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ng(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,ON=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A3=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){A3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function FN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function VN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var R3=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(R3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function Tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cg=null,ml=null,fl=null;function lv(t){if(t=td(t)){if(typeof Cg!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=sm(e),Cg(t.stateNode,t.type,e))}}function $N(t){ml?fl?fl.push(t):fl=[t]:ml=t}function BN(){if(ml){var t=ml,e=fl;if(fl=ml=null,lv(t),e)for(t=0;t<e.length;t++)lv(e[t])}}function HN(t,e){return t(e)}function zN(){}var Ym=!1;function UN(t,e,n){if(Ym)return t(e,n);Ym=!0;try{return HN(t,e,n)}finally{Ym=!1,(ml!==null||fl!==null)&&(zN(),BN())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Eg=!1;if(Ar)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Eg=!1}function I3(t,e,n,r,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var qo=!1,Hu=null,zu=!1,Dg=null,O3={onError:function(t){qo=!0,Hu=t}};function F3(t,e,n,r,i,a,l,o,c){qo=!1,Hu=null,I3.apply(O3,arguments)}function V3(t,e,n,r,i,a,l,o,c){if(F3.apply(this,arguments),qo){if(qo){var d=Hu;qo=!1,Hu=null}else throw Error(ae(198));zu||(zu=!0,Dg=d)}}function Ra(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(Ra(t)!==t)throw Error(ae(188))}function $3(t){var e=t.alternate;if(!e){if(e=Ra(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ov(i),t;if(a===r)return ov(i),e;a=a.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function qN(t){return t=$3(t),t!==null?KN(t):null}function KN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KN(t);if(e!==null)return e;t=t.sibling}return null}var GN=en.unstable_scheduleCallback,cv=en.unstable_cancelCallback,B3=en.unstable_shouldYield,H3=en.unstable_requestPaint,It=en.unstable_now,z3=en.unstable_getCurrentPriorityLevel,Cx=en.unstable_ImmediatePriority,YN=en.unstable_UserBlockingPriority,Uu=en.unstable_NormalPriority,U3=en.unstable_LowPriority,XN=en.unstable_IdlePriority,Qh=null,cr=null;function W3(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Qh,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:G3,q3=Math.log,K3=Math.LN2;function G3(t){return t>>>=0,t===0?32:31-(q3(t)/K3|0)|0}var bd=64,jd=4194304;function Ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?r=Ao(o):(a&=l,a!==0&&(r=Ao(a)))}else l=n&~i,l!==0?r=Ao(l):a!==0&&(r=Ao(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function Y3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-In(a),o=1<<l,c=i[l];c===-1?(!(o&n)||o&r)&&(i[l]=Y3(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function Pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZN(){var t=bd;return bd<<=1,!(bd&4194240)&&(bd=64),t}function Xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function Z3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Ex(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function QN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JN,Dx,e2,t2,s2,Mg=!1,wd=[],vi=null,bi=null,ji=null,xc=new Map,pc=new Map,ri=[],Q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dv(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(e.pointerId)}}function ho(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=td(e),e!==null&&Dx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J3(t,e,n,r,i){switch(e){case"focusin":return vi=ho(vi,t,e,n,r,i),!0;case"dragenter":return bi=ho(bi,t,e,n,r,i),!0;case"mouseover":return ji=ho(ji,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return xc.set(a,ho(xc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,pc.set(a,ho(pc.get(a)||null,t,e,n,r,i)),!0}return!1}function n2(t){var e=aa(t.target);if(e!==null){var n=Ra(e);if(n!==null){if(e=n.tag,e===13){if(e=WN(n),e!==null){t.blockedOn=e,s2(t.priority,function(){e2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tg=r,n.target.dispatchEvent(r),Tg=null}else return e=td(n),e!==null&&Dx(e),t.blockedOn=n,!1;e.shift()}return!0}function uv(t,e,n){fu(t)&&n.delete(e)}function eC(){Mg=!1,vi!==null&&fu(vi)&&(vi=null),bi!==null&&fu(bi)&&(bi=null),ji!==null&&fu(ji)&&(ji=null),xc.forEach(uv),pc.forEach(uv)}function mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Mg||(Mg=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,eC)))}function yc(t){function e(i){return mo(i,t)}if(0<wd.length){mo(wd[0],t);for(var n=1;n<wd.length;n++){var r=wd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&mo(vi,t),bi!==null&&mo(bi,t),ji!==null&&mo(ji,t),xc.forEach(e),pc.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)n2(n),n.blockedOn===null&&ri.shift()}var gl=Ur.ReactCurrentBatchConfig,qu=!0;function tC(t,e,n,r){var i=rt,a=gl.transition;gl.transition=null;try{rt=1,Px(t,e,n,r)}finally{rt=i,gl.transition=a}}function sC(t,e,n,r){var i=rt,a=gl.transition;gl.transition=null;try{rt=4,Px(t,e,n,r)}finally{rt=i,gl.transition=a}}function Px(t,e,n,r){if(qu){var i=_g(t,e,n,r);if(i===null)lf(t,e,r,Ku,n),dv(t,r);else if(J3(i,t,e,n,r))r.stopPropagation();else if(dv(t,r),e&4&&-1<Q3.indexOf(t)){for(;i!==null;){var a=td(i);if(a!==null&&JN(a),a=_g(t,e,n,r),a===null&&lf(t,e,r,Ku,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else lf(t,e,r,null,n)}}var Ku=null;function _g(t,e,n,r){if(Ku=null,t=Tx(r),t=aa(t),t!==null)if(e=Ra(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ku=t,null}function r2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z3()){case Cx:return 1;case YN:return 4;case Uu:case U3:return 16;case XN:return 536870912;default:return 16}default:return 16}}var ci=null,Mx=null,gu=null;function i2(){if(gu)return gu;var t,e=Mx,n=e.length,r,i="value"in ci?ci.value:ci.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return gu=i.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nd(){return!0}function hv(){return!1}function rn(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nd:hv,this.isPropagationStopped=hv,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_x=rn(ql),ed=Et({},ql,{view:0,detail:0}),nC=rn(ed),Zm,Qm,fo,Jh=Et({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(Zm=t.screenX-fo.screenX,Qm=t.screenY-fo.screenY):Qm=Zm=0,fo=t),Zm)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),mv=rn(Jh),rC=Et({},Jh,{dataTransfer:0}),iC=rn(rC),aC=Et({},ed,{relatedTarget:0}),Jm=rn(aC),lC=Et({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),oC=rn(lC),cC=Et({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dC=rn(cC),uC=Et({},ql,{data:0}),fv=rn(uC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fC[t])?!!e[t]:!1}function Lx(){return gC}var xC=Et({},ed,{key:function(t){if(t.key){var e=hC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pC=rn(xC),yC=Et({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=rn(yC),vC=Et({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),bC=rn(vC),jC=Et({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=rn(jC),NC=Et({},Jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kC=rn(NC),SC=[9,13,27,32],Ax=Ar&&"CompositionEvent"in window,Ko=null;Ar&&"documentMode"in document&&(Ko=document.documentMode);var TC=Ar&&"TextEvent"in window&&!Ko,a2=Ar&&(!Ax||Ko&&8<Ko&&11>=Ko),xv=String.fromCharCode(32),pv=!1;function l2(t,e){switch(t){case"keyup":return SC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function CC(t,e){switch(t){case"compositionend":return o2(e);case"keypress":return e.which!==32?null:(pv=!0,xv);case"textInput":return t=e.data,t===xv&&pv?null:t;default:return null}}function EC(t,e){if(Xa)return t==="compositionend"||!Ax&&l2(t,e)?(t=i2(),gu=Mx=ci=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a2&&e.locale!=="ko"?null:e.data;default:return null}}var DC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DC[t.type]:e==="textarea"}function c2(t,e,n,r){$N(r),e=Gu(e,"onChange"),0<e.length&&(n=new _x("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Go=null,vc=null;function PC(t){b2(t,0)}function em(t){var e=Ja(t);if(LN(e))return t}function MC(t,e){if(t==="change")return e}var d2=!1;if(Ar){var ef;if(Ar){var tf="oninput"in document;if(!tf){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),tf=typeof vv.oninput=="function"}ef=tf}else ef=!1;d2=ef&&(!document.documentMode||9<document.documentMode)}function bv(){Go&&(Go.detachEvent("onpropertychange",u2),vc=Go=null)}function u2(t){if(t.propertyName==="value"&&em(vc)){var e=[];c2(e,vc,t,Tx(t)),UN(PC,e)}}function _C(t,e,n){t==="focusin"?(bv(),Go=e,vc=n,Go.attachEvent("onpropertychange",u2)):t==="focusout"&&bv()}function LC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return em(vc)}function AC(t,e){if(t==="click")return em(e)}function RC(t,e){if(t==="input"||t==="change")return em(e)}function IC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:IC;function bc(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fg.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wv(t,e){var n=jv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jv(n)}}function h2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m2(){for(var t=window,e=Bu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bu(t.document)}return e}function Rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OC(t){var e=m2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h2(n.ownerDocument.documentElement,n)){if(r!==null&&Rx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=wv(n,a);var l=wv(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FC=Ar&&"documentMode"in document&&11>=document.documentMode,Za=null,Lg=null,Yo=null,Ag=!1;function Nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ag||Za==null||Za!==Bu(r)||(r=Za,"selectionStart"in r&&Rx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yo&&bc(Yo,r)||(Yo=r,r=Gu(Lg,"onSelect"),0<r.length&&(e=new _x("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Za)))}function kd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},sf={},f2={};Ar&&(f2=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function tm(t){if(sf[t])return sf[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f2)return sf[t]=e[n];return t}var g2=tm("animationend"),x2=tm("animationiteration"),p2=tm("animationstart"),y2=tm("transitionend"),v2=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){v2.set(t,e),Aa(e,[t])}for(var nf=0;nf<kv.length;nf++){var rf=kv[nf],VC=rf.toLowerCase(),$C=rf[0].toUpperCase()+rf.slice(1);$i(VC,"on"+$C)}$i(g2,"onAnimationEnd");$i(x2,"onAnimationIteration");$i(p2,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(y2,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Sv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V3(r,e,void 0,t),t.currentTarget=null}function b2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Sv(i,o,d),a=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Sv(i,o,d),a=c}}}if(zu)throw t=Dg,zu=!1,Dg=null,t}function ft(t,e){var n=e[Vg];n===void 0&&(n=e[Vg]=new Set);var r=t+"__bubble";n.has(r)||(j2(e,t,2,!1),n.add(r))}function af(t,e,n){var r=0;e&&(r|=4),j2(n,t,r,e)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[Sd]){t[Sd]=!0,EN.forEach(function(n){n!=="selectionchange"&&(BC.has(n)||af(n,!1,t),af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sd]||(e[Sd]=!0,af("selectionchange",!1,e))}}function j2(t,e,n,r){switch(r2(e)){case 1:var i=tC;break;case 4:i=sC;break;default:i=Px}n=i.bind(null,e,n,t),i=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lf(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=aa(o),l===null)return;if(c=l.tag,c===5||c===6){r=a=l;continue e}o=o.parentNode}}r=r.return}UN(function(){var d=a,u=Tx(n),h=[];e:{var m=v2.get(t);if(m!==void 0){var g=_x,y=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":g=pC;break;case"focusin":y="focus",g=Jm;break;case"focusout":y="blur",g=Jm;break;case"beforeblur":case"afterblur":g=Jm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bC;break;case g2:case x2:case p2:g=oC;break;case y2:g=wC;break;case"scroll":g=nC;break;case"wheel":g=kC;break;case"copy":case"cut":case"paste":g=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gv}var x=(e&4)!==0,b=!x&&t==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var p=d,j;p!==null;){j=p;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=gc(p,v),N!=null&&x.push(wc(p,N,j)))),b)break;p=p.return}0<x.length&&(m=new g(m,y,null,n,u),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Tg&&(y=n.relatedTarget||n.fromElement)&&(aa(y)||y[Rr]))break e;if((g||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=d,y=y?aa(y):null,y!==null&&(b=Ra(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(x=mv,N="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=gv,N="onPointerLeave",v="onPointerEnter",p="pointer"),b=g==null?m:Ja(g),j=y==null?m:Ja(y),m=new x(N,p+"leave",g,n,u),m.target=b,m.relatedTarget=j,N=null,aa(u)===d&&(x=new x(v,p+"enter",y,n,u),x.target=j,x.relatedTarget=b,N=x),b=N,g&&y)t:{for(x=g,v=y,p=0,j=x;j;j=Fa(j))p++;for(j=0,N=v;N;N=Fa(N))j++;for(;0<p-j;)x=Fa(x),p--;for(;0<j-p;)v=Fa(v),j--;for(;p--;){if(x===v||v!==null&&x===v.alternate)break t;x=Fa(x),v=Fa(v)}x=null}else x=null;g!==null&&Tv(h,m,g,x,!1),y!==null&&b!==null&&Tv(h,b,y,x,!0)}}e:{if(m=d?Ja(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var w=MC;else if(yv(m))if(d2)w=RC;else{w=LC;var E=_C}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=AC);if(w&&(w=w(t,d))){c2(h,w,n,u);break e}E&&E(t,m,d),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&jg(m,"number",m.value)}switch(E=d?Ja(d):window,t){case"focusin":(yv(E)||E.contentEditable==="true")&&(Za=E,Lg=d,Yo=null);break;case"focusout":Yo=Lg=Za=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,Nv(h,n,u);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":Nv(h,n,u)}var M;if(Ax)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xa?l2(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(a2&&n.locale!=="ko"&&(Xa||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xa&&(M=i2()):(ci=u,Mx="value"in ci?ci.value:ci.textContent,Xa=!0)),E=Gu(d,k),0<E.length&&(k=new fv(k,t,null,n,u),h.push({event:k,listeners:E}),M?k.data=M:(M=o2(n),M!==null&&(k.data=M)))),(M=TC?CC(t,n):EC(t,n))&&(d=Gu(d,"onBeforeInput"),0<d.length&&(u=new fv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=M))}b2(h,e)})}function wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gc(t,n),a!=null&&r.unshift(wc(t,a,i)),a=gc(t,e),a!=null&&r.push(wc(t,a,i))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,i?(c=gc(n,a),c!=null&&l.unshift(wc(n,c,o))):i||(c=gc(n,a),c!=null&&l.push(wc(n,c,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var HC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function Cv(t){return(typeof t=="string"?t:""+t).replace(HC,`
`).replace(zC,"")}function Td(t,e,n){if(e=Cv(e),Cv(t)!==e&&n)throw Error(ae(425))}function Yu(){}var Rg=null,Ig=null;function Og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fg=typeof setTimeout=="function"?setTimeout:void 0,UC=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(qC)}:Fg;function qC(t){setTimeout(function(){throw t})}function of(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yc(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),sr="__reactFiber$"+Kl,Nc="__reactProps$"+Kl,Rr="__reactContainer$"+Kl,Vg="__reactEvents$"+Kl,KC="__reactListeners$"+Kl,GC="__reactHandles$"+Kl;function aa(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dv(t);t!==null;){if(n=t[sr])return n;t=Dv(t)}return e}t=n,n=t.parentNode}return null}function td(t){return t=t[sr]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function sm(t){return t[Nc]||null}var $g=[],el=-1;function Bi(t){return{current:t}}function gt(t){0>el||(t.current=$g[el],$g[el]=null,el--)}function dt(t,e){el++,$g[el]=t.current,t.current=e}var Ai={},ws=Bi(Ai),zs=Bi(!1),Na=Ai;function Tl(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Us(t){return t=t.childContextTypes,t!=null}function Xu(){gt(zs),gt(ws)}function Pv(t,e,n){if(ws.current!==Ai)throw Error(ae(168));dt(ws,e),dt(zs,n)}function w2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,_3(t)||"Unknown",i));return Et({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,Na=ws.current,dt(ws,t),dt(zs,zs.current),!0}function Mv(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=w2(t,e,Na),r.__reactInternalMemoizedMergedChildContext=t,gt(zs),gt(ws),dt(ws,t)):gt(zs),dt(zs,n)}var kr=null,nm=!1,cf=!1;function N2(t){kr===null?kr=[t]:kr.push(t)}function YC(t){nm=!0,N2(t)}function Hi(){if(!cf&&kr!==null){cf=!0;var t=0,e=rt;try{var n=kr;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,nm=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),GN(Cx,Hi),i}finally{rt=e,cf=!1}}return null}var tl=[],sl=0,Qu=null,Ju=0,dn=[],un=0,ka=null,Cr=1,Er="";function ea(t,e){tl[sl++]=Ju,tl[sl++]=Qu,Qu=t,Ju=e}function k2(t,e,n){dn[un++]=Cr,dn[un++]=Er,dn[un++]=ka,ka=t;var r=Cr;t=Er;var i=32-In(r)-1;r&=~(1<<i),n+=1;var a=32-In(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Cr=1<<32-In(e)+i|n<<i|r,Er=a+t}else Cr=1<<a|n<<i|r,Er=t}function Ix(t){t.return!==null&&(ea(t,1),k2(t,1,0))}function Ox(t){for(;t===Qu;)Qu=tl[--sl],tl[sl]=null,Ju=tl[--sl],tl[sl]=null;for(;t===ka;)ka=dn[--un],dn[un]=null,Er=dn[--un],dn[un]=null,Cr=dn[--un],dn[un]=null}var Js=null,Zs=null,pt=!1,En=null;function S2(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _v(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Js=t,Zs=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Js=t,Zs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ka!==null?{id:Cr,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Js=t,Zs=null,!0):!1;default:return!1}}function Bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hg(t){if(pt){var e=Zs;if(e){var n=e;if(!_v(t,e)){if(Bg(t))throw Error(ae(418));e=wi(n.nextSibling);var r=Js;e&&_v(t,e)?S2(r,n):(t.flags=t.flags&-4097|2,pt=!1,Js=t)}}else{if(Bg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,pt=!1,Js=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Js=t}function Cd(t){if(t!==Js)return!1;if(!pt)return Lv(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Og(t.type,t.memoizedProps)),e&&(e=Zs)){if(Bg(t))throw T2(),Error(ae(418));for(;e;)S2(t,e),e=wi(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zs=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zs=null}}else Zs=Js?wi(t.stateNode.nextSibling):null;return!0}function T2(){for(var t=Zs;t;)t=wi(t.nextSibling)}function Cl(){Zs=Js=null,pt=!1}function Fx(t){En===null?En=[t]:En.push(t)}var XC=Ur.ReactCurrentBatchConfig;function go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Av(t){var e=t._init;return e(t._payload)}function C2(t){function e(v,p){if(t){var j=v.deletions;j===null?(v.deletions=[p],v.flags|=16):j.push(p)}}function n(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=Ti(v,p),v.index=0,v.sibling=null,v}function a(v,p,j){return v.index=j,t?(j=v.alternate,j!==null?(j=j.index,j<p?(v.flags|=2,p):j):(v.flags|=2,p)):(v.flags|=1048576,p)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,p,j,N){return p===null||p.tag!==6?(p=xf(j,v.mode,N),p.return=v,p):(p=i(p,j),p.return=v,p)}function c(v,p,j,N){var w=j.type;return w===Ya?u(v,p,j.props.children,N,j.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ti&&Av(w)===p.type)?(N=i(p,j.props),N.ref=go(v,p,j),N.return=v,N):(N=Nu(j.type,j.key,j.props,null,v.mode,N),N.ref=go(v,p,j),N.return=v,N)}function d(v,p,j,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==j.containerInfo||p.stateNode.implementation!==j.implementation?(p=pf(j,v.mode,N),p.return=v,p):(p=i(p,j.children||[]),p.return=v,p)}function u(v,p,j,N,w){return p===null||p.tag!==7?(p=pa(j,v.mode,N,w),p.return=v,p):(p=i(p,j),p.return=v,p)}function h(v,p,j){if(typeof p=="string"&&p!==""||typeof p=="number")return p=xf(""+p,v.mode,j),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pd:return j=Nu(p.type,p.key,p.props,null,v.mode,j),j.ref=go(v,null,p),j.return=v,j;case Ga:return p=pf(p,v.mode,j),p.return=v,p;case ti:var N=p._init;return h(v,N(p._payload),j)}if(Lo(p)||co(p))return p=pa(p,v.mode,j,null),p.return=v,p;Ed(v,p)}return null}function m(v,p,j,N){var w=p!==null?p.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:o(v,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case pd:return j.key===w?c(v,p,j,N):null;case Ga:return j.key===w?d(v,p,j,N):null;case ti:return w=j._init,m(v,p,w(j._payload),N)}if(Lo(j)||co(j))return w!==null?null:u(v,p,j,N,null);Ed(v,j)}return null}function g(v,p,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,o(p,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pd:return v=v.get(N.key===null?j:N.key)||null,c(p,v,N,w);case Ga:return v=v.get(N.key===null?j:N.key)||null,d(p,v,N,w);case ti:var E=N._init;return g(v,p,j,E(N._payload),w)}if(Lo(N)||co(N))return v=v.get(j)||null,u(p,v,N,w,null);Ed(p,N)}return null}function y(v,p,j,N){for(var w=null,E=null,M=p,k=p=0,T=null;M!==null&&k<j.length;k++){M.index>k?(T=M,M=null):T=M.sibling;var S=m(v,M,j[k],N);if(S===null){M===null&&(M=T);break}t&&M&&S.alternate===null&&e(v,M),p=a(S,p,k),E===null?w=S:E.sibling=S,E=S,M=T}if(k===j.length)return n(v,M),pt&&ea(v,k),w;if(M===null){for(;k<j.length;k++)M=h(v,j[k],N),M!==null&&(p=a(M,p,k),E===null?w=M:E.sibling=M,E=M);return pt&&ea(v,k),w}for(M=r(v,M);k<j.length;k++)T=g(M,v,k,j[k],N),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?k:T.key),p=a(T,p,k),E===null?w=T:E.sibling=T,E=T);return t&&M.forEach(function(P){return e(v,P)}),pt&&ea(v,k),w}function x(v,p,j,N){var w=co(j);if(typeof w!="function")throw Error(ae(150));if(j=w.call(j),j==null)throw Error(ae(151));for(var E=w=null,M=p,k=p=0,T=null,S=j.next();M!==null&&!S.done;k++,S=j.next()){M.index>k?(T=M,M=null):T=M.sibling;var P=m(v,M,S.value,N);if(P===null){M===null&&(M=T);break}t&&M&&P.alternate===null&&e(v,M),p=a(P,p,k),E===null?w=P:E.sibling=P,E=P,M=T}if(S.done)return n(v,M),pt&&ea(v,k),w;if(M===null){for(;!S.done;k++,S=j.next())S=h(v,S.value,N),S!==null&&(p=a(S,p,k),E===null?w=S:E.sibling=S,E=S);return pt&&ea(v,k),w}for(M=r(v,M);!S.done;k++,S=j.next())S=g(M,v,k,S.value,N),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?k:S.key),p=a(S,p,k),E===null?w=S:E.sibling=S,E=S);return t&&M.forEach(function(C){return e(v,C)}),pt&&ea(v,k),w}function b(v,p,j,N){if(typeof j=="object"&&j!==null&&j.type===Ya&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case pd:e:{for(var w=j.key,E=p;E!==null;){if(E.key===w){if(w=j.type,w===Ya){if(E.tag===7){n(v,E.sibling),p=i(E,j.props.children),p.return=v,v=p;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ti&&Av(w)===E.type){n(v,E.sibling),p=i(E,j.props),p.ref=go(v,E,j),p.return=v,v=p;break e}n(v,E);break}else e(v,E);E=E.sibling}j.type===Ya?(p=pa(j.props.children,v.mode,N,j.key),p.return=v,v=p):(N=Nu(j.type,j.key,j.props,null,v.mode,N),N.ref=go(v,p,j),N.return=v,v=N)}return l(v);case Ga:e:{for(E=j.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===j.containerInfo&&p.stateNode.implementation===j.implementation){n(v,p.sibling),p=i(p,j.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else e(v,p);p=p.sibling}p=pf(j,v.mode,N),p.return=v,v=p}return l(v);case ti:return E=j._init,b(v,p,E(j._payload),N)}if(Lo(j))return y(v,p,j,N);if(co(j))return x(v,p,j,N);Ed(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,j),p.return=v,v=p):(n(v,p),p=xf(j,v.mode,N),p.return=v,v=p),l(v)):n(v,p)}return b}var El=C2(!0),E2=C2(!1),eh=Bi(null),th=null,nl=null,Vx=null;function $x(){Vx=nl=th=null}function Bx(t){var e=eh.current;gt(eh),t._currentValue=e}function zg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xl(t,e){th=t,Vx=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bs=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Vx!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(th===null)throw Error(ae(308));nl=t,th.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var la=null;function Hx(t){la===null?la=[t]:la.push(t)}function D2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function zx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Hx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ex(t,n)}}function Rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;si=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var m=o.lane,g=o.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,x=o;switch(m=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(g,h,m):y,m==null)break e;h=Et({},h,m);break e;case 2:si=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,l|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ta|=l,t.lanes=l,t.memoizedState=h}}function Iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var sd={},dr=Bi(sd),kc=Bi(sd),Sc=Bi(sd);function oa(t){if(t===sd)throw Error(ae(174));return t}function Ux(t,e){switch(dt(Sc,e),dt(kc,t),dt(dr,sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ng(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ng(e,t)}gt(dr),dt(dr,e)}function Dl(){gt(dr),gt(kc),gt(Sc)}function M2(t){oa(Sc.current);var e=oa(dr.current),n=Ng(e,t.type);e!==n&&(dt(kc,t),dt(dr,n))}function Wx(t){kc.current===t&&(gt(dr),gt(kc))}var wt=Bi(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var df=[];function qx(){for(var t=0;t<df.length;t++)df[t]._workInProgressVersionPrimary=null;df.length=0}var yu=Ur.ReactCurrentDispatcher,uf=Ur.ReactCurrentBatchConfig,Sa=0,St=null,qt=null,Qt=null,rh=!1,Xo=!1,Tc=0,ZC=0;function ms(){throw Error(ae(321))}function Kx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function Gx(t,e,n,r,i,a){if(Sa=a,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yu.current=t===null||t.memoizedState===null?t6:s6,t=n(r,i),Xo){a=0;do{if(Xo=!1,Tc=0,25<=a)throw Error(ae(301));a+=1,Qt=qt=null,e.updateQueue=null,yu.current=n6,t=n(r,i)}while(Xo)}if(yu.current=ih,e=qt!==null&&qt.next!==null,Sa=0,Qt=qt=St=null,rh=!1,e)throw Error(ae(300));return t}function Yx(){var t=Tc!==0;return Tc=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?St.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function pn(){if(qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Qt===null?St.memoizedState:Qt.next;if(e!==null)Qt=e,qt=t;else{if(t===null)throw Error(ae(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Qt===null?St.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Cc(t,e){return typeof e=="function"?e(t):e}function hf(t){var e=pn(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((Sa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=r):c=c.next=h,St.lanes|=u,Ta|=u}d=d.next}while(d!==null&&d!==a);c===null?l=r:c.next=o,$n(r,e.memoizedState)||(Bs=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,St.lanes|=a,Ta|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=pn(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);$n(a,e.memoizedState)||(Bs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function _2(){}function L2(t,e){var n=St,r=pn(),i=e(),a=!$n(r.memoizedState,i);if(a&&(r.memoizedState=i,Bs=!0),r=r.queue,Xx(I2.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Qt!==null&&Qt.memoizedState.tag&1){if(n.flags|=2048,Ec(9,R2.bind(null,n,r,i,e),void 0,null),ts===null)throw Error(ae(349));Sa&30||A2(n,e,i)}return i}function A2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R2(t,e,n,r){e.value=n,e.getSnapshot=r,O2(e)&&F2(t)}function I2(t,e,n){return n(function(){O2(e)&&F2(t)})}function O2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function F2(t){var e=Ir(t,1);e!==null&&On(e,t,1,-1)}function Ov(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:t},e.queue=t,t=t.dispatch=e6.bind(null,St,t),[e.memoizedState,t]}function Ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V2(){return pn().memoizedState}function vu(t,e,n,r){var i=Qn();St.flags|=t,i.memoizedState=Ec(1|e,n,void 0,r===void 0?null:r)}function rm(t,e,n,r){var i=pn();r=r===void 0?null:r;var a=void 0;if(qt!==null){var l=qt.memoizedState;if(a=l.destroy,r!==null&&Kx(r,l.deps)){i.memoizedState=Ec(e,n,a,r);return}}St.flags|=t,i.memoizedState=Ec(1|e,n,a,r)}function Fv(t,e){return vu(8390656,8,t,e)}function Xx(t,e){return rm(2048,8,t,e)}function $2(t,e){return rm(4,2,t,e)}function B2(t,e){return rm(4,4,t,e)}function H2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z2(t,e,n){return n=n!=null?n.concat([t]):null,rm(4,4,H2.bind(null,e,t),n)}function Zx(){}function U2(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W2(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q2(t,e,n){return Sa&21?($n(n,e)||(n=ZN(),St.lanes|=n,Ta|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bs=!0),t.memoizedState=n)}function QC(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=uf.transition;uf.transition={};try{t(!1),e()}finally{rt=n,uf.transition=r}}function K2(){return pn().memoizedState}function JC(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G2(t))Y2(e,n);else if(n=D2(t,e,n,r),n!==null){var i=Ls();On(n,t,r,i),X2(n,e,r)}}function e6(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G2(t))Y2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,n);if(i.hasEagerState=!0,i.eagerState=o,$n(o,l)){var c=e.interleaved;c===null?(i.next=i,Hx(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=D2(t,e,i,r),n!==null&&(i=Ls(),On(n,t,r,i),X2(n,e,r))}}function G2(t){var e=t.alternate;return t===St||e!==null&&e===St}function Y2(t,e){Xo=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ex(t,n)}}var ih={readContext:xn,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},t6={readContext:xn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vu(4194308,4,H2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return vu(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JC.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:Zx,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=QC.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,i=Qn();if(pt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),ts===null)throw Error(ae(349));Sa&30||A2(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Fv(I2.bind(null,r,a,t),[t]),r.flags|=2048,Ec(9,R2.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Qn(),e=ts.identifierPrefix;if(pt){var n=Er,r=Cr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s6={readContext:xn,useCallback:U2,useContext:xn,useEffect:Xx,useImperativeHandle:z2,useInsertionEffect:$2,useLayoutEffect:B2,useMemo:W2,useReducer:hf,useRef:V2,useState:function(){return hf(Cc)},useDebugValue:Zx,useDeferredValue:function(t){var e=pn();return q2(e,qt.memoizedState,t)},useTransition:function(){var t=hf(Cc)[0],e=pn().memoizedState;return[t,e]},useMutableSource:_2,useSyncExternalStore:L2,useId:K2,unstable_isNewReconciler:!1},n6={readContext:xn,useCallback:U2,useContext:xn,useEffect:Xx,useImperativeHandle:z2,useInsertionEffect:$2,useLayoutEffect:B2,useMemo:W2,useReducer:mf,useRef:V2,useState:function(){return mf(Cc)},useDebugValue:Zx,useDeferredValue:function(t){var e=pn();return qt===null?e.memoizedState=t:q2(e,qt.memoizedState,t)},useTransition:function(){var t=mf(Cc)[0],e=pn().memoizedState;return[t,e]},useMutableSource:_2,useSyncExternalStore:L2,useId:K2,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var im={isMounted:function(t){return(t=t._reactInternals)?Ra(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ls(),i=Si(t),a=Mr(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ni(t,a,i),e!==null&&(On(e,t,i,r),pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ls(),i=Si(t),a=Mr(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ni(t,a,i),e!==null&&(On(e,t,i,r),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ls(),r=Si(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(On(e,t,r,n),pu(e,t,r))}};function Vv(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!bc(n,r)||!bc(i,a):!0}function Z2(t,e,n){var r=!1,i=Ai,a=e.contextType;return typeof a=="object"&&a!==null?a=xn(a):(i=Us(e)?Na:ws.current,r=e.contextTypes,a=(r=r!=null)?Tl(t,i):Ai),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=im,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&im.enqueueReplaceState(e,e.state,null)}function Wg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=xn(a):(a=Us(e)?Na:ws.current,i.context=Tl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ug(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&im.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var n="",r=e;do n+=M3(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ff(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r6=typeof WeakMap=="function"?WeakMap:Map;function Q2(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lh||(lh=!0,s0=r),qg(t,e)},n}function J2(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qg(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){qg(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y6.bind(null,t,e,n),e.then(t,t))}function Hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var i6=Ur.ReactCurrentOwner,Bs=!1;function Cs(t,e,n,r){e.child=t===null?E2(e,null,n,r):El(e,t.child,n,r)}function Uv(t,e,n,r,i){n=n.render;var a=e.ref;return xl(e,i),r=Gx(t,e,n,r,a,i),n=Yx(),t!==null&&!Bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(pt&&n&&Ix(e),e.flags|=1,Cs(t,e,r,i),e.child)}function Wv(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ip(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,e5(t,e,a,r,i)):(t=Nu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:bc,n(l,r)&&t.ref===e.ref)return Or(t,e,i)}return e.flags|=1,t=Ti(a,r),t.ref=e.ref,t.return=e,e.child=t}function e5(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(bc(a,r)&&t.ref===e.ref)if(Bs=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Bs=!0);else return e.lanes=t.lanes,Or(t,e,i)}return Kg(t,e,n,r,i)}function t5(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(il,Ys),Ys|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(il,Ys),Ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,dt(il,Ys),Ys|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,dt(il,Ys),Ys|=r;return Cs(t,e,i,n),e.child}function s5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kg(t,e,n,r,i){var a=Us(n)?Na:ws.current;return a=Tl(e,a),xl(e,i),n=Gx(t,e,n,r,a,i),r=Yx(),t!==null&&!Bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(pt&&r&&Ix(e),e.flags|=1,Cs(t,e,n,i),e.child)}function qv(t,e,n,r,i){if(Us(n)){var a=!0;Zu(e)}else a=!1;if(xl(e,i),e.stateNode===null)bu(t,e),Z2(e,n,r),Wg(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Us(n)?Na:ws.current,d=Tl(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&$v(e,l,r,d),si=!1;var m=e.memoizedState;l.state=m,sh(e,r,l,i),c=e.memoizedState,o!==r||m!==c||zs.current||si?(typeof u=="function"&&(Ug(e,n,u,r),c=e.memoizedState),(o=si||Vv(e,n,o,r,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,P2(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:kn(e.type,o),l.props=d,h=e.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Us(n)?Na:ws.current,c=Tl(e,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&$v(e,l,r,c),si=!1,m=e.memoizedState,l.state=m,sh(e,r,l,i);var y=e.memoizedState;o!==h||m!==y||zs.current||si?(typeof g=="function"&&(Ug(e,n,g,r),y=e.memoizedState),(d=si||Vv(e,n,d,r,m,y,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),l.props=r,l.state=y,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Gg(t,e,n,r,a,i)}function Gg(t,e,n,r,i,a){s5(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Mv(e,n,!1),Or(t,e,a);r=e.stateNode,i6.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=El(e,t.child,null,a),e.child=El(e,null,o,a)):Cs(t,e,o,a),e.memoizedState=r.state,i&&Mv(e,n,!0),e.child}function n5(t){var e=t.stateNode;e.pendingContext?Pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pv(t,e.context,!1),Ux(t,e.containerInfo)}function Kv(t,e,n,r,i){return Cl(),Fx(i),e.flags|=256,Cs(t,e,n,r),e.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function r5(t,e,n){var r=e.pendingProps,i=wt.current,a=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(wt,i&1),t===null)return Hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=om(l,r,0,null),t=pa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Xg(n),e.memoizedState=Yg,t):Qx(e,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return a6(t,e,l,r,o,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ti(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ti(o,a):(a=pa(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?Xg(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Yg,r}return a=t.child,t=a.sibling,r=Ti(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qx(t,e){return e=om({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&Fx(r),El(e,t.child,null,n),t=Qx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a6(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=ff(Error(ae(422))),Dd(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=om({mode:"visible",children:r.children},i,0,null),a=pa(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&El(e,t.child,null,l),e.child.memoizedState=Xg(l),e.memoizedState=Yg,a);if(!(e.mode&1))return Dd(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ae(419)),r=ff(a,r,void 0),Dd(t,e,l,r)}if(o=(l&t.childLanes)!==0,Bs||o){if(r=ts,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ir(t,i),On(r,t,i,-1))}return rp(),r=ff(Error(ae(421))),Dd(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Zs=wi(i.nextSibling),Js=e,pt=!0,En=null,t!==null&&(dn[un++]=Cr,dn[un++]=Er,dn[un++]=ka,Cr=t.id,Er=t.overflow,ka=e),e=Qx(e,r.children),e.flags|=4096,e)}function Gv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zg(t.return,e,n)}function gf(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function i5(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Cs(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gv(t,n,e);else if(t.tag===19)Gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gf(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gf(e,!0,n,null,a);break;case"together":gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ta|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l6(t,e,n){switch(e.tag){case 3:n5(e),Cl();break;case 5:M2(e);break;case 1:Us(e.type)&&Zu(e);break;case 4:Ux(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?r5(t,e,n):(dt(wt,wt.current&1),t=Or(t,e,n),t!==null?t.sibling:null);dt(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,t5(t,e,n)}return Or(t,e,n)}var a5,Zg,l5,o5;a5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zg=function(){};l5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oa(dr.current);var a=null;switch(n){case"input":i=vg(t,i),r=vg(t,r),a=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),a=[];break;case"textarea":i=wg(t,i),r=wg(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}kg(n,r);var l;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(mc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(o=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(mc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ft("scroll",t),a||o===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};o5=function(t,e,n,r){n!==r&&(e.flags|=4)};function xo(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function o6(t,e,n){var r=e.pendingProps;switch(Ox(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(e),null;case 1:return Us(e.type)&&Xu(),fs(e),null;case 3:return r=e.stateNode,Dl(),gt(zs),gt(ws),qx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(i0(En),En=null))),Zg(t,e),fs(e),null;case 5:Wx(e);var i=oa(Sc.current);if(n=e.type,t!==null&&e.stateNode!=null)l5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return fs(e),null}if(t=oa(dr.current),Cd(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[sr]=e,r[Nc]=a,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)ft(Ro[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":nv(r,a),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ft("invalid",r);break;case"textarea":iv(r,a),ft("invalid",r)}kg(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Td(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Td(r.textContent,o,t),i=["children",""+o]):mc.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ft("scroll",r)}switch(n){case"input":yd(r),rv(r,a,!0);break;case"textarea":yd(r),av(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[sr]=e,t[Nc]=r,a5(t,e,!1,!1),e.stateNode=t;e:{switch(l=Sg(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)ft(Ro[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":nv(t,r),i=vg(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ft("invalid",t);break;case"textarea":iv(t,r),i=wg(t,r),ft("invalid",t);break;default:i=r}kg(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?VN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ON(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fc(t,c):typeof c=="number"&&fc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ft("scroll",t):c!=null&&wx(t,a,c,l))}switch(n){case"input":yd(t),rv(t,r,!1);break;case"textarea":yd(t),av(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?hl(t,!!r.multiple,a,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fs(e),null;case 6:if(t&&e.stateNode!=null)o5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=oa(Sc.current),oa(dr.current),Cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(a=r.nodeValue!==n)&&(t=Js,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return fs(e),null;case 13:if(gt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Zs!==null&&e.mode&1&&!(e.flags&128))T2(),Cl(),e.flags|=98560,a=!1;else if(a=Cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ae(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[sr]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fs(e),a=!1}else En!==null&&(i0(En),En=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Kt===0&&(Kt=3):rp())),e.updateQueue!==null&&(e.flags|=4),fs(e),null);case 4:return Dl(),Zg(t,e),t===null&&jc(e.stateNode.containerInfo),fs(e),null;case 10:return Bx(e.type._context),fs(e),null;case 17:return Us(e.type)&&Xu(),fs(e),null;case 19:if(gt(wt),a=e.memoizedState,a===null)return fs(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)xo(a,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=nh(t),l!==null){for(e.flags|=128,xo(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(wt,wt.current&1|2),e.child}t=t.sibling}a.tail!==null&&It()>Ml&&(e.flags|=128,r=!0,xo(a,!1),e.lanes=4194304)}else{if(!r)if(t=nh(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!pt)return fs(e),null}else 2*It()-a.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,xo(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=It(),e.sibling=null,n=wt.current,dt(wt,r?n&1|2:n&1),e):(fs(e),null);case 22:case 23:return np(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ys&1073741824&&(fs(e),e.subtreeFlags&6&&(e.flags|=8192)):fs(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function c6(t,e){switch(Ox(e),e.tag){case 1:return Us(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),gt(zs),gt(ws),qx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wx(e),null;case 13:if(gt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(wt),null;case 4:return Dl(),null;case 10:return Bx(e.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var Pd=!1,ps=!1,d6=typeof WeakSet=="function"?WeakSet:Set,xe=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function Qg(t,e,n){try{n()}catch(r){_t(t,e,r)}}var Yv=!1;function u6(t,e){if(Rg=qu,t=m2(),Rx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(o=l+i),h!==a||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++d===i&&(o=l),m===a&&++u===r&&(c=l),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ig={focusedElem:t,selectionRange:n},qu=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:kn(e.type,x),b);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(N){_t(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=Yv,Yv=!1,y}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qg(e,n,a)}i=i.next}while(i!==r)}}function am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c5(t){var e=t.alternate;e!==null&&(t.alternate=null,c5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Nc],delete e[Vg],delete e[KC],delete e[GC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d5(t){return t.tag===5||t.tag===3||t.tag===4}function Xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(e0(t,e,n),t=t.sibling;t!==null;)e0(t,e,n),t=t.sibling}function t0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(t0(t,e,n),t=t.sibling;t!==null;)t0(t,e,n),t=t.sibling}var ns=null,Sn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)u5(t,e,n),n=n.sibling}function u5(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:ps||rl(n,e);case 6:var r=ns,i=Sn;ns=null,Gr(t,e,n),ns=r,Sn=i,ns!==null&&(Sn?(t=ns,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ns.removeChild(n.stateNode));break;case 18:ns!==null&&(Sn?(t=ns,n=n.stateNode,t.nodeType===8?of(t.parentNode,n):t.nodeType===1&&of(t,n),yc(t)):of(ns,n.stateNode));break;case 4:r=ns,i=Sn,ns=n.stateNode.containerInfo,Sn=!0,Gr(t,e,n),ns=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!ps&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Qg(n,e,l),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!ps&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_t(n,e,o)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(ps=(r=ps)||n.memoizedState!==null,Gr(t,e,n),ps=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d6),e.forEach(function(r){var i=b6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ns=o.stateNode,Sn=!1;break e;case 3:ns=o.stateNode.containerInfo,Sn=!0;break e;case 4:ns=o.stateNode.containerInfo,Sn=!0;break e}o=o.return}if(ns===null)throw Error(ae(160));u5(a,l,i),ns=null,Sn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){_t(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h5(e,t),e=e.sibling}function h5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),qn(t),r&4){try{Zo(3,t,t.return),am(3,t)}catch(x){_t(t,t.return,x)}try{Zo(5,t,t.return)}catch(x){_t(t,t.return,x)}}break;case 1:bn(e,t),qn(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(bn(e,t),qn(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var i=t.stateNode;try{fc(i,"")}catch(x){_t(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&AN(i,a),Sg(o,l);var d=Sg(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?VN(i,h):u==="dangerouslySetInnerHTML"?ON(i,h):u==="children"?fc(i,h):wx(i,u,h,d)}switch(o){case"input":bg(i,a);break;case"textarea":RN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?hl(i,!!a.multiple,g,!1):m!==!!a.multiple&&(a.defaultValue!=null?hl(i,!!a.multiple,a.defaultValue,!0):hl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nc]=a}catch(x){_t(t,t.return,x)}}break;case 6:if(bn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){_t(t,t.return,x)}}break;case 3:if(bn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(x){_t(t,t.return,x)}break;case 4:bn(e,t),qn(t);break;case 13:bn(e,t),qn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tp=It())),r&4&&Zv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ps=(d=ps)||u,bn(e,t),ps=d):bn(e,t),qn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(xe=t,u=t.child;u!==null;){for(h=xe=u;xe!==null;){switch(m=xe,g=m.child,m.tag){case 0:case 11:case 14:case 15:Zo(4,m,m.return);break;case 1:rl(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){_t(r,n,x)}}break;case 5:rl(m,m.return);break;case 22:if(m.memoizedState!==null){Jv(h);continue}}g!==null?(g.return=m,xe=g):Jv(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=FN("display",l))}catch(x){_t(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){_t(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),qn(t),r&4&&Zv(t);break;case 21:break;default:bn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d5(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fc(i,""),r.flags&=-33);var a=Xv(t);t0(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Xv(t);e0(t,o,l);break;default:throw Error(ae(161))}}catch(c){_t(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h6(t,e,n){xe=t,m5(t)}function m5(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Pd;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ps;o=Pd;var d=ps;if(Pd=l,(ps=c)&&!d)for(xe=i;xe!==null;)l=xe,c=l.child,l.tag===22&&l.memoizedState!==null?eb(i):c!==null?(c.return=l,xe=c):eb(i);for(;a!==null;)xe=a,m5(a),a=a.sibling;xe=i,Pd=o,ps=d}Qv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xe=a):Qv(t)}}function Qv(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ps||am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ps)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Iv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iv(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&yc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}ps||e.flags&512&&Jg(e)}catch(m){_t(e,e.return,m)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Jv(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function eb(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{am(4,e)}catch(c){_t(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){_t(e,i,c)}}var a=e.return;try{Jg(e)}catch(c){_t(e,a,c)}break;case 5:var l=e.return;try{Jg(e)}catch(c){_t(e,l,c)}}}catch(c){_t(e,e.return,c)}if(e===t){xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,xe=o;break}xe=e.return}}var m6=Math.ceil,ah=Ur.ReactCurrentDispatcher,Jx=Ur.ReactCurrentOwner,fn=Ur.ReactCurrentBatchConfig,Ke=0,ts=null,zt=null,ls=0,Ys=0,il=Bi(0),Kt=0,Dc=null,Ta=0,lm=0,ep=0,Qo=null,Vs=null,tp=0,Ml=1/0,Nr=null,lh=!1,s0=null,ki=null,Md=!1,di=null,oh=0,Jo=0,n0=null,ju=-1,wu=0;function Ls(){return Ke&6?It():ju!==-1?ju:ju=It()}function Si(t){return t.mode&1?Ke&2&&ls!==0?ls&-ls:XC.transition!==null?(wu===0&&(wu=ZN()),wu):(t=rt,t!==0||(t=window.event,t=t===void 0?16:r2(t.type)),t):1}function On(t,e,n,r){if(50<Jo)throw Jo=0,n0=null,Error(ae(185));Jc(t,n,r),(!(Ke&2)||t!==ts)&&(t===ts&&(!(Ke&2)&&(lm|=n),Kt===4&&ii(t,ls)),Ws(t,r),n===1&&Ke===0&&!(e.mode&1)&&(Ml=It()+500,nm&&Hi()))}function Ws(t,e){var n=t.callbackNode;X3(t,e);var r=Wu(t,t===ts?ls:0);if(r===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?YC(tb.bind(null,t)):N2(tb.bind(null,t)),WC(function(){!(Ke&6)&&Hi()}),n=null;else{switch(QN(r)){case 1:n=Cx;break;case 4:n=YN;break;case 16:n=Uu;break;case 536870912:n=XN;break;default:n=Uu}n=j5(n,f5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f5(t,e){if(ju=-1,wu=0,Ke&6)throw Error(ae(327));var n=t.callbackNode;if(pl()&&t.callbackNode!==n)return null;var r=Wu(t,t===ts?ls:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ch(t,r);else{e=r;var i=Ke;Ke|=2;var a=x5();(ts!==t||ls!==e)&&(Nr=null,Ml=It()+500,xa(t,e));do try{x6();break}catch(o){g5(t,o)}while(1);$x(),ah.current=a,Ke=i,zt!==null?e=0:(ts=null,ls=0,e=Kt)}if(e!==0){if(e===2&&(i=Pg(t),i!==0&&(r=i,e=r0(t,i))),e===1)throw n=Dc,xa(t,0),ii(t,r),Ws(t,It()),n;if(e===6)ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!f6(i)&&(e=ch(t,r),e===2&&(a=Pg(t),a!==0&&(r=a,e=r0(t,a))),e===1))throw n=Dc,xa(t,0),ii(t,r),Ws(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:ta(t,Vs,Nr);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=tp+500-It(),10<e)){if(Wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ls(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fg(ta.bind(null,t,Vs,Nr),e);break}ta(t,Vs,Nr);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-In(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m6(r/1960))-r,10<r){t.timeoutHandle=Fg(ta.bind(null,t,Vs,Nr),r);break}ta(t,Vs,Nr);break;case 5:ta(t,Vs,Nr);break;default:throw Error(ae(329))}}}return Ws(t,It()),t.callbackNode===n?f5.bind(null,t):null}function r0(t,e){var n=Qo;return t.current.memoizedState.isDehydrated&&(xa(t,e).flags|=256),t=ch(t,e),t!==2&&(e=Vs,Vs=n,e!==null&&i0(e)),t}function i0(t){Vs===null?Vs=t:Vs.push.apply(Vs,t)}function f6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!$n(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~ep,e&=~lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function tb(t){if(Ke&6)throw Error(ae(327));pl();var e=Wu(t,0);if(!(e&1))return Ws(t,It()),null;var n=ch(t,e);if(t.tag!==0&&n===2){var r=Pg(t);r!==0&&(e=r,n=r0(t,r))}if(n===1)throw n=Dc,xa(t,0),ii(t,e),Ws(t,It()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ta(t,Vs,Nr),Ws(t,It()),null}function sp(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(Ml=It()+500,nm&&Hi())}}function Ca(t){di!==null&&di.tag===0&&!(Ke&6)&&pl();var e=Ke;Ke|=1;var n=fn.transition,r=rt;try{if(fn.transition=null,rt=1,t)return t()}finally{rt=r,fn.transition=n,Ke=e,!(Ke&6)&&Hi()}}function np(){Ys=il.current,gt(il)}function xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UC(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(Ox(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:Dl(),gt(zs),gt(ws),qx();break;case 5:Wx(r);break;case 4:Dl();break;case 13:gt(wt);break;case 19:gt(wt);break;case 10:Bx(r.type._context);break;case 22:case 23:np()}n=n.return}if(ts=t,zt=t=Ti(t.current,null),ls=Ys=e,Kt=0,Dc=null,ep=lm=Ta=0,Vs=Qo=null,la!==null){for(e=0;e<la.length;e++)if(n=la[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}la=null}return t}function g5(t,e){do{var n=zt;try{if($x(),yu.current=ih,rh){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rh=!1}if(Sa=0,Qt=qt=St=null,Xo=!1,Tc=0,Jx.current=null,n===null||n.return===null){Kt=1,Dc=e,zt=null;break}e:{var a=t,l=n.return,o=n,c=e;if(e=ls,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Hv(l);if(g!==null){g.flags&=-257,zv(g,l,o,a,e),g.mode&1&&Bv(a,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Bv(a,d,e),rp();break e}c=Error(ae(426))}}else if(pt&&o.mode&1){var b=Hv(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zv(b,l,o,a,e),Fx(Pl(c,o));break e}}a=c=Pl(c,o),Kt!==4&&(Kt=2),Qo===null?Qo=[a]:Qo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=Q2(a,c,e);Rv(a,v);break e;case 1:o=c;var p=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ki===null||!ki.has(j)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=J2(a,o,e);Rv(a,N);break e}}a=a.return}while(a!==null)}y5(n)}catch(w){e=w,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(1)}function x5(){var t=ah.current;return ah.current=ih,t===null?ih:t}function rp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),ts===null||!(Ta&268435455)&&!(lm&268435455)||ii(ts,ls)}function ch(t,e){var n=Ke;Ke|=2;var r=x5();(ts!==t||ls!==e)&&(Nr=null,xa(t,e));do try{g6();break}catch(i){g5(t,i)}while(1);if($x(),Ke=n,ah.current=r,zt!==null)throw Error(ae(261));return ts=null,ls=0,Kt}function g6(){for(;zt!==null;)p5(zt)}function x6(){for(;zt!==null&&!B3();)p5(zt)}function p5(t){var e=b5(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,e===null?y5(t):zt=e,Jx.current=null}function y5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c6(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,zt=null;return}}else if(n=o6(n,e,Ys),n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Kt===0&&(Kt=5)}function ta(t,e,n){var r=rt,i=fn.transition;try{fn.transition=null,rt=1,p6(t,e,n,r)}finally{fn.transition=i,rt=r}return null}function p6(t,e,n,r){do pl();while(di!==null);if(Ke&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Z3(t,a),t===ts&&(zt=ts=null,ls=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,j5(Uu,function(){return pl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fn.transition,fn.transition=null;var l=rt;rt=1;var o=Ke;Ke|=4,Jx.current=null,u6(t,n),h5(n,t),OC(Ig),qu=!!Rg,Ig=Rg=null,t.current=n,h6(n),H3(),Ke=o,rt=l,fn.transition=a}else t.current=n;if(Md&&(Md=!1,di=t,oh=i),a=t.pendingLanes,a===0&&(ki=null),W3(n.stateNode),Ws(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lh)throw lh=!1,t=s0,s0=null,t;return oh&1&&t.tag!==0&&pl(),a=t.pendingLanes,a&1?t===n0?Jo++:(Jo=0,n0=t):Jo=0,Hi(),null}function pl(){if(di!==null){var t=QN(oh),e=fn.transition,n=rt;try{if(fn.transition=null,rt=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,oh=0,Ke&6)throw Error(ae(331));var i=Ke;for(Ke|=4,xe=t.current;xe!==null;){var a=xe,l=a.child;if(xe.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(xe=d;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:Zo(8,u,a)}var h=u.child;if(h!==null)h.return=u,xe=h;else for(;xe!==null;){u=xe;var m=u.sibling,g=u.return;if(c5(u),u===d){xe=null;break}if(m!==null){m.return=g,xe=m;break}xe=g}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}xe=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,xe=l;else e:for(;xe!==null;){if(a=xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,xe=v;break e}xe=a.return}}var p=t.current;for(xe=p;xe!==null;){l=xe;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,xe=j;else e:for(l=p;xe!==null;){if(o=xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:am(9,o)}}catch(w){_t(o,o.return,w)}if(o===l){xe=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,xe=N;break e}xe=o.return}}if(Ke=i,Hi(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Qh,t)}catch{}r=!0}return r}finally{rt=n,fn.transition=e}}return!1}function sb(t,e,n){e=Pl(n,e),e=Q2(t,e,1),t=Ni(t,e,1),e=Ls(),t!==null&&(Jc(t,1,e),Ws(t,e))}function _t(t,e,n){if(t.tag===3)sb(t,t,n);else for(;e!==null;){if(e.tag===3){sb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Pl(n,t),t=J2(e,t,1),e=Ni(e,t,1),t=Ls(),e!==null&&(Jc(e,1,t),Ws(e,t));break}}e=e.return}}function y6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ls(),t.pingedLanes|=t.suspendedLanes&n,ts===t&&(ls&n)===n&&(Kt===4||Kt===3&&(ls&130023424)===ls&&500>It()-tp?xa(t,0):ep|=n),Ws(t,e)}function v5(t,e){e===0&&(t.mode&1?(e=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):e=1);var n=Ls();t=Ir(t,e),t!==null&&(Jc(t,e,n),Ws(t,n))}function v6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v5(t,n)}function b6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),v5(t,n)}var b5;b5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zs.current)Bs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bs=!1,l6(t,e,n);Bs=!!(t.flags&131072)}else Bs=!1,pt&&e.flags&1048576&&k2(e,Ju,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bu(t,e),t=e.pendingProps;var i=Tl(e,ws.current);xl(e,n),i=Gx(null,e,r,t,i,n);var a=Yx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Us(r)?(a=!0,Zu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zx(e),i.updater=im,e.stateNode=i,i._reactInternals=e,Wg(e,r,t,n),e=Gg(null,e,r,!0,a,n)):(e.tag=0,pt&&a&&Ix(e),Cs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=w6(r),t=kn(r,t),i){case 0:e=Kg(null,e,r,t,n);break e;case 1:e=qv(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=Wv(null,e,r,kn(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),qv(t,e,r,i,n);case 3:e:{if(n5(e),t===null)throw Error(ae(387));r=e.pendingProps,a=e.memoizedState,i=a.element,P2(t,e),sh(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Pl(Error(ae(423)),e),e=Kv(t,e,r,n,i);break e}else if(r!==i){i=Pl(Error(ae(424)),e),e=Kv(t,e,r,n,i);break e}else for(Zs=wi(e.stateNode.containerInfo.firstChild),Js=e,pt=!0,En=null,n=E2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),r===i){e=Or(t,e,n);break e}Cs(t,e,r,n)}e=e.child}return e;case 5:return M2(e),t===null&&Hg(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,Og(r,i)?l=null:a!==null&&Og(r,a)&&(e.flags|=32),s5(t,e),Cs(t,e,l,n),e.child;case 6:return t===null&&Hg(e),null;case 13:return r5(t,e,n);case 4:return Ux(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=El(e,null,r,n):Cs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Uv(t,e,r,i,n);case 7:return Cs(t,e,e.pendingProps,n),e.child;case 8:return Cs(t,e,e.pendingProps.children,n),e.child;case 12:return Cs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,dt(eh,r._currentValue),r._currentValue=l,a!==null)if($n(a.value,l)){if(a.children===i.children&&!zs.current){e=Or(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Mr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),zg(a.return,n,e),o.lanes|=n;break}c=c.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ae(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),zg(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Cs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xl(e,n),i=xn(i),r=r(i),e.flags|=1,Cs(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),Wv(t,e,r,i,n);case 15:return e5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),bu(t,e),e.tag=1,Us(r)?(t=!0,Zu(e)):t=!1,xl(e,n),Z2(e,r,i),Wg(e,r,i,n),Gg(null,e,r,!0,t,n);case 19:return i5(t,e,n);case 22:return t5(t,e,n)}throw Error(ae(156,e.tag))};function j5(t,e){return GN(t,e)}function j6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new j6(t,e,n,r)}function ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function w6(t){if(typeof t=="function")return ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kx)return 11;if(t===Sx)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")ip(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ya:return pa(n.children,i,a,e);case Nx:l=8,i|=8;break;case gg:return t=hn(12,n,e,i|2),t.elementType=gg,t.lanes=a,t;case xg:return t=hn(13,n,e,i),t.elementType=xg,t.lanes=a,t;case pg:return t=hn(19,n,e,i),t.elementType=pg,t.lanes=a,t;case MN:return om(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DN:l=10;break e;case PN:l=9;break e;case kx:l=11;break e;case Sx:l=14;break e;case ti:l=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=hn(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function pa(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function om(t,e,n,r){return t=hn(22,t,r,e),t.elementType=MN,t.lanes=n,t.stateNode={isHidden:!1},t}function xf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function pf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xm(0),this.expirationTimes=Xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ap(t,e,n,r,i,a,l,o,c){return t=new N6(t,e,n,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=hn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zx(a),t}function k6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w5(t){if(!t)return Ai;t=t._reactInternals;e:{if(Ra(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Us(n))return w2(t,n,e)}return e}function N5(t,e,n,r,i,a,l,o,c){return t=ap(n,r,!0,t,i,a,l,o,c),t.context=w5(null),n=t.current,r=Ls(),i=Si(n),a=Mr(r,i),a.callback=e??null,Ni(n,a,i),t.current.lanes=i,Jc(t,i,r),Ws(t,r),t}function cm(t,e,n,r){var i=e.current,a=Ls(),l=Si(i);return n=w5(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,l),t!==null&&(On(t,i,l,a),pu(t,i,l)),l}function dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lp(t,e){nb(t,e),(t=t.alternate)&&nb(t,e)}function S6(){return null}var k5=typeof reportError=="function"?reportError:function(t){console.error(t)};function op(t){this._internalRoot=t}dm.prototype.render=op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));cm(t,e,null,null)};dm.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){cm(null,t,null,null)}),e[Rr]=null}};function dm(t){this._internalRoot=t}dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=t2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&n2(t)}};function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rb(){}function T6(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=dh(l);a.call(d)}}var l=N5(e,r,t,0,null,!1,!1,"",rb);return t._reactRootContainer=l,t[Rr]=l.current,jc(t.nodeType===8?t.parentNode:t),Ca(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var d=dh(c);o.call(d)}}var c=ap(t,0,!1,null,null,!1,!1,"",rb);return t._reactRootContainer=c,t[Rr]=c.current,jc(t.nodeType===8?t.parentNode:t),Ca(function(){cm(e,c,n,r)}),c}function hm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=dh(l);o.call(c)}}cm(e,l,t,i)}else l=T6(n,e,t,i,r);return dh(l)}JN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ao(e.pendingLanes);n!==0&&(Ex(e,n|1),Ws(e,It()),!(Ke&6)&&(Ml=It()+500,Hi()))}break;case 13:Ca(function(){var r=Ir(t,1);if(r!==null){var i=Ls();On(r,t,1,i)}}),lp(t,1)}};Dx=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Ls();On(e,t,134217728,n)}lp(t,134217728)}};e2=function(t){if(t.tag===13){var e=Si(t),n=Ir(t,e);if(n!==null){var r=Ls();On(n,t,e,r)}lp(t,e)}};t2=function(){return rt};s2=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};Cg=function(t,e,n){switch(e){case"input":if(bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sm(r);if(!i)throw Error(ae(90));LN(r),bg(r,i)}}}break;case"textarea":RN(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};HN=sp;zN=Ca;var C6={usingClientEntryPoint:!1,Events:[td,Ja,sm,$N,BN,sp]},po={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E6={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qN(t),t===null?null:t.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||S6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Qh=_d.inject(E6),cr=_d}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(e))throw Error(ae(200));return k6(t,e,null,n)};nn.createRoot=function(t,e){if(!cp(t))throw Error(ae(299));var n=!1,r="",i=k5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ap(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,jc(t.nodeType===8?t.parentNode:t),new op(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=qN(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Ca(t)};nn.hydrate=function(t,e,n){if(!um(e))throw Error(ae(200));return hm(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!cp(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=k5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=N5(e,null,t,1,n??null,i,!1,a,l),t[Rr]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dm(e)};nn.render=function(t,e,n){if(!um(e))throw Error(ae(200));return hm(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!um(t))throw Error(ae(40));return t._reactRootContainer?(Ca(function(){hm(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};nn.unstable_batchedUpdates=sp;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!um(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return hm(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function S5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S5)}catch(t){console.error(t)}}S5(),SN.exports=nn;var T5=SN.exports,ib=T5;mg.createRoot=ib.createRoot,mg.hydrateRoot=ib.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const ab="popstate";function D6(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:o}=r.location;return a0("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uh(i)}return M6(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P6(){return Math.random().toString(36).substr(2,8)}function lb(t,e){return{usr:t.state,key:t.key,idx:e}}function a0(t,e,n,r){return n===void 0&&(n=null),Pc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gl(e):e,{state:n,key:e&&e.key||r||P6()})}function uh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function M6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,o=ui.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Pc({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=ui.Pop;let b=u(),v=b==null?null:b-d;d=b,c&&c({action:o,location:x.location,delta:v})}function m(b,v){o=ui.Push;let p=a0(x.location,b,v);n&&n(p,b),d=u()+1;let j=lb(p,d),N=x.createHref(p);try{l.pushState(j,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(N)}a&&c&&c({action:o,location:x.location,delta:1})}function g(b,v){o=ui.Replace;let p=a0(x.location,b,v);n&&n(p,b),d=u();let j=lb(p,d),N=x.createHref(p);l.replaceState(j,"",N),a&&c&&c({action:o,location:x.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof b=="string"?b:uh(b);return p=p.replace(/ $/,"%20"),Ft(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let x={get action(){return o},get location(){return t(i,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ab,h),c=b,()=>{i.removeEventListener(ab,h),c=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(b){return l.go(b)}};return x}var ob;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ob||(ob={}));function _6(t,e,n){return n===void 0&&(n="/"),L6(t,e,n,!1)}function L6(t,e,n,r){let i=typeof e=="string"?Gl(e):e,a=dp(i.pathname||"/",n);if(a==null)return null;let l=E5(t);A6(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=W6(a);o=z6(l[c],d,r)}return o}function E5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ci([r,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(Ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),E5(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:B6(d,a.index),routesMeta:u})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of D5(a.path))i(a,l,c)}),e}function D5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=D5(r.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function A6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R6=/^:[\w-]+$/,I6=3,O6=2,F6=1,V6=10,$6=-2,cb=t=>t==="*";function B6(t,e){let n=t.split("/"),r=n.length;return n.some(cb)&&(r+=$6),e&&(r+=O6),n.filter(i=>!cb(i)).reduce((i,a)=>i+(R6.test(a)?I6:a===""?F6:V6),r)}function H6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z6(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},a="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=db({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=db({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:Ci([a,h.pathname]),pathnameBase:Y6(Ci([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Ci([a,h.pathnameBase]))}return l}function db(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:m,isOptional:g}=u;if(m==="*"){let x=o[h]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[h];return g&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:t}}function U6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function W6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gl(t):t;return{pathname:n?n.startsWith("/")?n:K6(n,e):e,search:X6(r),hash:Z6(i)}}function K6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(t,e){let n=G6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gl(t):(i=Pc({},t),Ft(!i.pathname||!i.pathname.includes("?"),yf("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),yf("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),yf("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=n;else{let h=e.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?e[h]:"/"}let c=q6(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ci=t=>t.join("/").replace(/\/\/+/g,"/"),Y6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P5=["post","put","patch","delete"];new Set(P5);const J6=["get",...P5];new Set(J6);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const mp=f.createContext(null),eE=f.createContext(null),zi=f.createContext(null),mm=f.createContext(null),Wr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),M5=f.createContext(null);function tE(t,e){let{relative:n}=e===void 0?{}:e;Yl()||Ft(!1);let{basename:r,navigator:i}=f.useContext(zi),{hash:a,pathname:l,search:o}=L5(t,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:Ci([r,l])),i.createHref({pathname:c,search:o,hash:a})}function Yl(){return f.useContext(mm)!=null}function ks(){return Yl()||Ft(!1),f.useContext(mm).location}function _5(t){f.useContext(zi).static||f.useLayoutEffect(t)}function hs(){let{isDataRoute:t}=f.useContext(Wr);return t?gE():sE()}function sE(){Yl()||Ft(!1);let t=f.useContext(mp),{basename:e,future:n,navigator:r}=f.useContext(zi),{matches:i}=f.useContext(Wr),{pathname:a}=ks(),l=JSON.stringify(up(i,n.v7_relativeSplatPath)),o=f.useRef(!1);return _5(()=>{o.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=hp(d,JSON.parse(l),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ci([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,l,a,t])}function nE(){let{matches:t}=f.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function L5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=f.useContext(zi),{matches:i}=f.useContext(Wr),{pathname:a}=ks(),l=JSON.stringify(up(i,r.v7_relativeSplatPath));return f.useMemo(()=>hp(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function rE(t,e){return iE(t,e)}function iE(t,e,n,r){Yl()||Ft(!1);let{navigator:i,static:a}=f.useContext(zi),{matches:l}=f.useContext(Wr),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=ks(),h;if(e){var m;let v=typeof e=="string"?Gl(e):e;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||Ft(!1),h=v}else h=u;let g=h.pathname||"/",y=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:_6(t,{pathname:y}),b=dE(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Ci([d,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Ci([d,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,n,r);return e&&b?f.createElement(mm.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ui.Pop}},b):b}function aE(){let t=fE(),e=Q6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,a)}const lE=f.createElement(aE,null);class oE extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(Wr.Provider,{value:this.props.routeContext},f.createElement(M5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cE(t){let{routeContext:e,match:n,children:r}=t,i=f.useContext(mp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Wr.Provider,{value:e},r)}function dE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Ft(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:g}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,m)=>{let g,y=!1,x=null,b=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||lE,c&&(d<0&&m===0?(xE("route-fallback",!1),y=!0,b=null):d===m&&(y=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(l.slice(0,m+1)),p=()=>{let j;return g?j=x:y?j=b:h.route.Component?j=f.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,f.createElement(cE,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(oE,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var A5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A5||{}),hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hh||{});function uE(t){let e=f.useContext(mp);return e||Ft(!1),e}function hE(t){let e=f.useContext(eE);return e||Ft(!1),e}function mE(t){let e=f.useContext(Wr);return e||Ft(!1),e}function R5(t){let e=mE(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function fE(){var t;let e=f.useContext(M5),n=hE(hh.UseRouteError),r=R5(hh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gE(){let{router:t}=uE(A5.UseNavigateStable),e=R5(hh.UseNavigateStable),n=f.useRef(!1);return _5(()=>{n.current=!0}),f.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mc({fromRouteId:e},a)))},[t,e])}const ub={};function xE(t,e,n){!e&&!ub[t]&&(ub[t]=!0)}function pE(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Jn(t){let{to:e,replace:n,state:r,relative:i}=t;Yl()||Ft(!1);let{future:a,static:l}=f.useContext(zi),{matches:o}=f.useContext(Wr),{pathname:c}=ks(),d=hs(),u=hp(e,up(o,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:i}),[d,h,i,n,r]),null}function de(t){Ft(!1)}function yE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ui.Pop,navigator:a,static:l=!1,future:o}=t;Yl()&&Ft(!1);let c=e.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:a,static:l,future:Mc({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof r=="string"&&(r=Gl(r));let{pathname:u="/",search:h="",hash:m="",state:g=null,key:y="default"}=r,x=f.useMemo(()=>{let b=dp(u,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:g,key:y},navigationType:i}},[c,u,h,m,g,y,i]);return x==null?null:f.createElement(zi.Provider,{value:d},f.createElement(mm.Provider,{children:n,value:x}))}function vE(t){let{children:e,location:n}=t;return rE(l0(e),n)}new Promise(()=>{});function l0(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,i)=>{if(!f.isValidElement(r))return;let a=[...e,i];if(r.type===f.Fragment){n.push.apply(n,l0(r.props.children,a));return}r.type!==de&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=l0(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function bE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wE(t,e){return t.button===0&&(!e||e==="_self")&&!jE(t)}function c0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function NE(t,e){let n=c0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const kE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SE="6";try{window.__reactRouterVersion=SE}catch{}const TE="startTransition",hb=kl[TE];function CE(t){let{basename:e,children:n,future:r,window:i}=t,a=f.useRef();a.current==null&&(a.current=D6({window:i,v5Compat:!0}));let l=a.current,[o,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},u=f.useCallback(h=>{d&&hb?hb(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>l.listen(u),[l,u]),f.useEffect(()=>pE(r),[r]),f.createElement(yE,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=f.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=bE(e,kE),{basename:g}=f.useContext(zi),y,x=!1;if(typeof d=="string"&&DE.test(d)&&(y=d,EE))try{let j=new URL(window.location.href),N=d.startsWith("//")?new URL(j.protocol+d):new URL(d),w=dp(N.pathname,g);N.origin===j.origin&&w!=null?d=w+N.search+N.hash:x=!0}catch{}let b=tE(d,{relative:i}),v=PE(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function p(j){r&&r(j),j.defaultPrevented||v(j)}return f.createElement("a",o0({},m,{href:y||b,onClick:x||a?r:p,ref:n,target:c}))});var mb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mb||(mb={}));var fb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fb||(fb={}));function PE(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,c=hs(),d=ks(),u=L5(t,{relative:l});return f.useCallback(h=>{if(wE(h,n)){h.preventDefault();let m=r!==void 0?r:uh(d)===uh(u);c(t,{replace:m,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,r,i,n,t,a,l,o])}function I5(t){let e=f.useRef(c0(t)),n=f.useRef(!1),r=ks(),i=f.useMemo(()=>NE(r.search,n.current?null:e.current),[r.search]),a=hs(),l=f.useCallback((o,c)=>{const d=c0(typeof o=="function"?o(i):o);n.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var ME=Object.defineProperty,_E=(t,e,n)=>e in t?ME(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vf=(t,e,n)=>(_E(t,typeof e!="symbol"?e+"":e,n),n);let LE=class{constructor(){vf(this,"current",this.detect()),vf(this,"handoffState","pending"),vf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_r=new LE,Tt=(t,e)=>{_r.isServer?f.useEffect(t,e):f.useLayoutEffect(t,e)};function Ps(t){let e=f.useRef(t);return Tt(()=>{e.current=t},[t]),e}let ke=function(t){let e=Ps(t);return ie.useCallback((...n)=>e.current(...n),[e])};function nd(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Bn(){let t=[],e={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),e.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return nd(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Bn();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function rd(){let[t]=f.useState(Bn);return f.useEffect(()=>()=>t.dispose(),[t]),t}function AE(){let t=typeof document>"u";return"useSyncExternalStore"in kl?(e=>e.useSyncExternalStore)(kl)(()=>()=>{},()=>!1,()=>!t):!1}function Xl(){let t=AE(),[e,n]=f.useState(_r.isHandoffComplete);return e&&_r.isHandoffComplete===!1&&n(!1),f.useEffect(()=>{e!==!0&&n(!0)},[e]),f.useEffect(()=>_r.handoff(),[]),t?!1:e}var gb;let os=(gb=ie.useId)!=null?gb:function(){let t=Xl(),[e,n]=ie.useState(t?()=>_r.nextId():null);return Tt(()=>{e===null&&n(_r.nextId())},[e]),e!=null?""+e:void 0};function tt(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,tt),r}function Zl(t){return _r.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let d0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var lt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(lt||{}),Dr=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Dr||{}),RE=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(RE||{});function id(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(d0)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var fm=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(fm||{});function gm(t,e=0){var n;return t===((n=Zl(t))==null?void 0:n.body)?!1:tt(e,{0(){return t.matches(d0)},1(){let r=t;for(;r!==null;){if(r.matches(d0))return!0;r=r.parentElement}return!1}})}function O5(t){let e=Zl(t);Bn().nextFrame(()=>{e&&!gm(e.activeElement,0)&&Ei(t)})}var IE=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(IE||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ei(t){t==null||t.focus({preventScroll:!0})}let OE=["textarea","input"].join(",");function FE(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,OE))!=null?n:!1}function ca(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),a=e(r);if(i===null||a===null)return 0;let l=i.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function VE(t,e){return Jt(id(),e,{relativeTo:t})}function Jt(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,l=Array.isArray(t)?n?ca(t):t:id(t);i.length>0&&l.length>1&&(l=l.filter(g=>!i.includes(g))),r=r??a.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(r))-1;if(e&4)return Math.max(0,l.indexOf(r))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},u=0,h=l.length,m;do{if(u>=h||u+h<=0)return 0;let g=c+u;if(e&16)g=(g+h)%h;else{if(g<0)return 3;if(g>=h)return 1}m=l[g],m==null||m.focus(d),u+=o}while(m!==a.activeElement);return e&6&&FE(m)&&m.select(),2}function F5(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $E(){return/Android/gi.test(window.navigator.userAgent)}function BE(){return F5()||$E()}function Ld(t,e,n){let r=Ps(e);f.useEffect(()=>{function i(a){r.current(a)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function V5(t,e,n){let r=Ps(e);f.useEffect(()=>{function i(a){r.current(a)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function fp(t,e,n=!0){let r=f.useRef(!1);f.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(l,o){if(!r.current||l.defaultPrevented)return;let c=o(l);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function u(h){return typeof h=="function"?u(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let u of d){if(u===null)continue;let h=u instanceof HTMLElement?u:u.current;if(h!=null&&h.contains(c)||l.composed&&l.composedPath().includes(h))return}return!gm(c,fm.Loose)&&c.tabIndex!==-1&&l.preventDefault(),e(l,c)}let a=f.useRef(null);Ld("pointerdown",l=>{var o,c;r.current&&(a.current=((c=(o=l.composedPath)==null?void 0:o.call(l))==null?void 0:c[0])||l.target)},!0),Ld("mousedown",l=>{var o,c;r.current&&(a.current=((c=(o=l.composedPath)==null?void 0:o.call(l))==null?void 0:c[0])||l.target)},!0),Ld("click",l=>{BE()||a.current&&(i(l,()=>a.current),a.current=null)},!0),Ld("touchend",l=>i(l,()=>l.target instanceof HTMLElement?l.target:null),!0),V5("blur",l=>i(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function qr(...t){return f.useMemo(()=>Zl(...t),[...t])}function xb(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function gp(t,e){let[n,r]=f.useState(()=>xb(t));return Tt(()=>{r(xb(t))},[t.type,t.as]),Tt(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let $5=Symbol();function B5(t,e=!0){return Object.assign(t,{[$5]:e})}function ht(...t){let e=f.useRef(t);f.useEffect(()=>{e.current=t},[t]);let n=ke(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[$5]))?void 0:n}function pb(t){return[t.screenX,t.screenY]}function HE(){let t=f.useRef([-1,-1]);return{wasMoved(e){let n=pb(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=pb(e)}}}function zE({container:t,accept:e,walk:n,enabled:r=!0}){let i=f.useRef(e),a=f.useRef(n);f.useEffect(()=>{i.current=e,a.current=n},[e,n]),Tt(()=>{if(!t||!r)return;let l=Zl(t);if(!l)return;let o=i.current,c=a.current,d=Object.assign(h=>o(h),{acceptNode:o}),u=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)c(u.currentNode)},[t,r,i,a])}function xp(t,e){let n=f.useRef([]),r=ke(t);f.useEffect(()=>{let i=[...n.current];for(let[a,l]of e.entries())if(n.current[a]!==l){let o=r(e,i);return n.current=e,o}},[r,...e])}function mh(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var yn=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(yn||{}),hi=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(hi||{});function mt({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:a=!0,name:l,mergeRefs:o}){o=o??WE;let c=H5(e,t);if(a)return Ad(c,n,r,l,o);let d=i??0;if(d&2){let{static:u=!1,...h}=c;if(u)return Ad(h,n,r,l,o)}if(d&1){let{unmount:u=!0,...h}=c;return tt(u?0:1,{0(){return null},1(){return Ad({...h,hidden:!0,style:{display:"none"}},n,r,l,o)}})}return Ad(c,n,r,l,o)}function Ad(t,e={},n,r,i){let{as:a=n,children:l,refName:o="ref",...c}=bf(t,["unmount","static"]),d=t.ref!==void 0?{[o]:t.ref}:{},u=typeof l=="function"?l(e):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let h={};if(e){let m=!1,g=[];for(let[y,x]of Object.entries(e))typeof x=="boolean"&&(m=!0),x===!0&&g.push(y);m&&(h["data-headlessui-state"]=g.join(" "))}if(a===f.Fragment&&Object.keys(yb(c)).length>0){if(!f.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let m=u.props,g=typeof(m==null?void 0:m.className)=="function"?(...x)=>mh(m==null?void 0:m.className(...x),c.className):mh(m==null?void 0:m.className,c.className),y=g?{className:g}:{};return f.cloneElement(u,Object.assign({},H5(u.props,yb(bf(c,["ref"]))),h,d,{ref:i(u.ref,d.ref)},y))}return f.createElement(a,Object.assign({},bf(c,["ref"]),a!==f.Fragment&&d,a!==f.Fragment&&h),u)}function UE(){let t=f.useRef([]),e=f.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function WE(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function H5(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...a){let l=n[r];for(let o of l){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return e}function ot(t){var e;return Object.assign(f.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function yb(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function bf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let qE="div";var Fr=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Fr||{});function KE(t,e){var n;let{features:r=1,...i}=t,a={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return mt({ourProps:a,theirProps:i,slot:{},defaultTag:qE,name:"Hidden"})}let Vr=ot(KE),pp=f.createContext(null);pp.displayName="OpenClosedContext";var Nt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Nt||{});function Ql(){return f.useContext(pp)}function yp({value:t,children:e}){return ie.createElement(pp.Provider,{value:t},e)}function GE(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ai=[];GE(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&ai[0]!==e.target&&(ai.unshift(e.target),ai=ai.filter(n=>n!=null&&n.isConnected),ai.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function xm(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&YE(n)?!1:r}function YE(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function XE(t){throw new Error("Unexpected object: "+t)}var Ln=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ln||{});function ZE(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let a=0;a<n.length;++a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 1:{for(let a=i-1;a>=0;--a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 2:{for(let a=i+1;a<n.length;++a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 3:{for(let a=n.length-1;a>=0;--a)if(!e.resolveDisabled(n[a],a,n))return a;return r}case 4:{for(let a=0;a<n.length;++a)if(e.resolveId(n[a],a,n)===t.id)return a;return r}case 5:return null;default:XE(t)}}var Ue=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ue||{});function vp(t,e,n,r){let i=Ps(n);f.useEffect(()=>{t=t??window;function a(l){i.current(l)}return t.addEventListener(e,a,r),()=>t.removeEventListener(e,a,r)},[t,e,r])}function Jl(){let t=f.useRef(!1);return Tt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function z5(t){let e=ke(t),n=f.useRef(!1);f.useEffect(()=>(n.current=!1,()=>{n.current=!0,nd(()=>{n.current&&e()})}),[e])}var Qs=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Qs||{});function bp(){let t=f.useRef(0);return V5("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function U5(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let QE="div";var W5=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(W5||{});function JE(t,e){let n=f.useRef(null),r=ht(n,e),{initialFocus:i,containers:a,features:l=30,...o}=t;Xl()||(l=1);let c=qr(n);sD({ownerDocument:c},!!(l&16));let d=nD({ownerDocument:c,container:n,initialFocus:i},!!(l&2));rD({ownerDocument:c,container:n,containers:a,previousActiveElement:d},!!(l&8));let u=bp(),h=ke(x=>{let b=n.current;b&&(v=>v())(()=>{tt(u.current,{[Qs.Forwards]:()=>{Jt(b,lt.First,{skipElements:[x.relatedTarget]})},[Qs.Backwards]:()=>{Jt(b,lt.Last,{skipElements:[x.relatedTarget]})}})})}),m=rd(),g=f.useRef(!1),y={ref:r,onKeyDown(x){x.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(x){let b=U5(a);n.current instanceof HTMLElement&&b.add(n.current);let v=x.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(q5(b,v)||(g.current?Jt(n.current,tt(u.current,{[Qs.Forwards]:()=>lt.Next,[Qs.Backwards]:()=>lt.Previous})|lt.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&Ei(x.target)))}};return ie.createElement(ie.Fragment,null,!!(l&4)&&ie.createElement(Vr,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Fr.Focusable}),mt({ourProps:y,theirProps:o,defaultTag:QE,name:"FocusTrap"}),!!(l&4)&&ie.createElement(Vr,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Fr.Focusable}))}let eD=ot(JE),yo=Object.assign(eD,{features:W5});function tD(t=!0){let e=f.useRef(ai.slice());return xp(([n],[r])=>{r===!0&&n===!1&&nd(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=ai.slice())},[t,ai,e]),ke(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function sD({ownerDocument:t},e){let n=tD(e);xp(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ei(n())},[e]),z5(()=>{e&&Ei(n())})}function nD({ownerDocument:t,container:e,initialFocus:n},r){let i=f.useRef(null),a=Jl();return xp(()=>{if(!r)return;let l=e.current;l&&nd(()=>{if(!a.current)return;let o=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===o){i.current=o;return}}else if(l.contains(o)){i.current=o;return}n!=null&&n.current?Ei(n.current):Jt(l,lt.First)===Dr.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function rD({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let a=Jl();vp(t==null?void 0:t.defaultView,"focus",l=>{if(!i||!a.current)return;let o=U5(n);e.current instanceof HTMLElement&&o.add(e.current);let c=r.current;if(!c)return;let d=l.target;d&&d instanceof HTMLElement?q5(o,d)?(r.current=d,Ei(d)):(l.preventDefault(),l.stopPropagation(),Ei(c)):Ei(r.current)},!0)}function q5(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let K5=f.createContext(!1);function iD(){return f.useContext(K5)}function u0(t){return ie.createElement(K5.Provider,{value:t.force},t.children)}function aD(t){let e=iD(),n=f.useContext(G5),r=qr(t),[i,a]=f.useState(()=>{if(!e&&n!==null||_r.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let o=r.createElement("div");return o.setAttribute("id","headlessui-portal-root"),r.body.appendChild(o)});return f.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),f.useEffect(()=>{e||n!==null&&a(n.current)},[n,a,e]),i}let lD=f.Fragment;function oD(t,e){let n=t,r=f.useRef(null),i=ht(B5(u=>{r.current=u}),e),a=qr(r),l=aD(r),[o]=f.useState(()=>{var u;return _r.isServer?null:(u=a==null?void 0:a.createElement("div"))!=null?u:null}),c=f.useContext(h0),d=Xl();return Tt(()=>{!l||!o||l.contains(o)||(o.setAttribute("data-headlessui-portal",""),l.appendChild(o))},[l,o]),Tt(()=>{if(o&&c)return c.register(o)},[c,o]),z5(()=>{var u;!l||!o||(o instanceof Node&&l.contains(o)&&l.removeChild(o),l.childNodes.length<=0&&((u=l.parentElement)==null||u.removeChild(l)))}),d?!l||!o?null:T5.createPortal(mt({ourProps:{ref:i},theirProps:n,defaultTag:lD,name:"Portal"}),o):null}let cD=f.Fragment,G5=f.createContext(null);function dD(t,e){let{target:n,...r}=t,i={ref:ht(e)};return ie.createElement(G5.Provider,{value:n},mt({ourProps:i,theirProps:r,defaultTag:cD,name:"Popover.Group"}))}let h0=f.createContext(null);function Y5(){let t=f.useContext(h0),e=f.useRef([]),n=ke(a=>(e.current.push(a),t&&t.register(a),()=>r(a))),r=ke(a=>{let l=e.current.indexOf(a);l!==-1&&e.current.splice(l,1),t&&t.unregister(a)}),i=f.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,f.useMemo(()=>function({children:a}){return ie.createElement(h0.Provider,{value:i},a)},[i])]}let uD=ot(oD),hD=ot(dD),m0=Object.assign(uD,{Group:hD});function mD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const fD=typeof Object.is=="function"?Object.is:mD,{useState:gD,useEffect:xD,useLayoutEffect:pD,useDebugValue:yD}=kl;function vD(t,e,n){const r=e(),[{inst:i},a]=gD({inst:{value:r,getSnapshot:e}});return pD(()=>{i.value=r,i.getSnapshot=e,jf(i)&&a({inst:i})},[t,r,e]),xD(()=>(jf(i)&&a({inst:i}),t(()=>{jf(i)&&a({inst:i})})),[t]),yD(r),r}function jf(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!fD(n,r)}catch{return!0}}function bD(t,e,n){return e()}const jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wD=!jD,ND=wD?bD:vD,kD="useSyncExternalStore"in kl?(t=>t.useSyncExternalStore)(kl):ND;function SD(t){return kD(t.subscribe,t.getSnapshot,t.getSnapshot)}function TD(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...a){let l=e[i].call(n,...a);l&&(n=l,r.forEach(o=>o()))}}}function CD(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,a=t-i;n.style(r,"paddingRight",`${a}px`)}}}function ED(){return F5()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(a=>a()).some(a=>a.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Bn();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;e.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let c=o.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),u=t.querySelector(d);u&&!r(u)&&(l=u)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(o.target instanceof HTMLElement)if(r(o.target)){let c=o.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(o.target instanceof HTMLElement)if(r(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()},{passive:!1}),e.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;a!==c&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function DD(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function PD(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let da=TD(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Bn(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:PD(n)},i=[ED(),CD(),DD()];i.forEach(({before:a})=>a==null?void 0:a(r)),i.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});da.subscribe(()=>{let t=da.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&da.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&da.dispatch("TEARDOWN",n)}});function MD(t,e,n){let r=SD(da),i=t?r.get(t):void 0,a=i?i.count>0:!1;return Tt(()=>{if(!(!t||!e))return da.dispatch("PUSH",t,n),()=>da.dispatch("POP",t,n)},[e,t]),a}let wf=new Map,vo=new Map;function vb(t,e=!0){Tt(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var l;if(!r)return;let o=(l=vo.get(r))!=null?l:1;if(o===1?vo.delete(r):vo.set(r,o-1),o!==1)return;let c=wf.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,wf.delete(r))}let a=(n=vo.get(r))!=null?n:0;return vo.set(r,a+1),a!==0||(wf.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function X5({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let i=f.useRef((r=n==null?void 0:n.current)!=null?r:null),a=qr(i),l=ke(()=>{var o,c,d;let u=[];for(let h of t)h!==null&&(h instanceof HTMLElement?u.push(h):"current"in h&&h.current instanceof HTMLElement&&u.push(h.current));if(e!=null&&e.current)for(let h of e.current)u.push(h);for(let h of(o=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(i.current)||h.contains((d=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:d.host)||u.some(m=>h.contains(m))||u.push(h));return u});return{resolveContainers:l,contains:ke(o=>l().some(c=>c.contains(o))),mainTreeNodeRef:i,MainTreeNode:f.useMemo(()=>function(){return n!=null?null:ie.createElement(Vr,{features:Fr.Hidden,ref:i})},[i,n])}}function _D(){let t=f.useRef(null);return{mainTreeNodeRef:t,MainTreeNode:f.useMemo(()=>function(){return ie.createElement(Vr,{features:Fr.Hidden,ref:t})},[t])}}let jp=f.createContext(()=>{});jp.displayName="StackContext";var f0=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(f0||{});function LD(){return f.useContext(jp)}function AD({children:t,onUpdate:e,type:n,element:r,enabled:i}){let a=LD(),l=ke((...o)=>{e==null||e(...o),a(...o)});return Tt(()=>{let o=i===void 0||i===!0;return o&&l(0,n,r),()=>{o&&l(1,n,r)}},[l,n,r,i]),ie.createElement(jp.Provider,{value:l},t)}let Z5=f.createContext(null);function Q5(){let t=f.useContext(Z5);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Q5),e}return t}function RD(){let[t,e]=f.useState([]);return[t.length>0?t.join(" "):void 0,f.useMemo(()=>function(n){let r=ke(a=>(e(l=>[...l,a]),()=>e(l=>{let o=l.slice(),c=o.indexOf(a);return c!==-1&&o.splice(c,1),o}))),i=f.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return ie.createElement(Z5.Provider,{value:i},n.children)},[e])]}let ID="p";function OD(t,e){let n=os(),{id:r=`headlessui-description-${n}`,...i}=t,a=Q5(),l=ht(e);Tt(()=>a.register(r),[r,a.register]);let o={ref:l,...a.props,id:r};return mt({ourProps:o,theirProps:i,slot:a.slot||{},defaultTag:ID,name:a.name||"Description"})}let FD=ot(OD),VD=Object.assign(FD,{});var $D=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))($D||{}),BD=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(BD||{});let HD={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},fh=f.createContext(null);fh.displayName="DialogContext";function ad(t){let e=f.useContext(fh);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ad),n}return e}function zD(t,e,n=()=>[document.body]){MD(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function UD(t,e){return tt(e.type,HD,t,e)}let WD="div",qD=yn.RenderStrategy|yn.Static;function KD(t,e){let n=os(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:a,initialFocus:l,role:o="dialog",__demoMode:c=!1,...d}=t,[u,h]=f.useState(0),m=f.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(m.current||(m.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Ql();i===void 0&&g!==null&&(i=(g&Nt.Open)===Nt.Open);let y=f.useRef(null),x=ht(y,e),b=qr(y),v=t.hasOwnProperty("open")||g!==null,p=t.hasOwnProperty("onClose");if(!v&&!p)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!p)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let j=i?0:1,[N,w]=f.useReducer(UD,{titleId:null,descriptionId:null,panelRef:f.createRef()}),E=ke(()=>a(!1)),M=ke(re=>w({type:0,id:re})),k=Xl()?c?!1:j===0:!1,T=u>1,S=f.useContext(fh)!==null,[P,C]=Y5(),A={get current(){var re;return(re=N.panelRef.current)!=null?re:y.current}},{resolveContainers:I,mainTreeNodeRef:V,MainTreeNode:L}=X5({portals:P,defaultContainers:[A]}),O=T?"parent":"leaf",D=g!==null?(g&Nt.Closing)===Nt.Closing:!1,R=(()=>S||D?!1:k)(),B=f.useCallback(()=>{var re,Te;return(Te=Array.from((re=b==null?void 0:b.querySelectorAll("body > *"))!=null?re:[]).find(Fe=>Fe.id==="headlessui-portal-root"?!1:Fe.contains(V.current)&&Fe instanceof HTMLElement))!=null?Te:null},[V]);vb(B,R);let X=(()=>T?!0:k)(),Z=f.useCallback(()=>{var re,Te;return(Te=Array.from((re=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?re:[]).find(Fe=>Fe.contains(V.current)&&Fe instanceof HTMLElement))!=null?Te:null},[V]);vb(Z,X);let $=(()=>!(!k||T))();fp(I,re=>{re.preventDefault(),E()},$);let Y=(()=>!(T||j!==0))();vp(b==null?void 0:b.defaultView,"keydown",re=>{Y&&(re.defaultPrevented||re.key===Ue.Escape&&(re.preventDefault(),re.stopPropagation(),E()))});let _=(()=>!(D||j!==0||S))();zD(b,_,I),f.useEffect(()=>{if(j!==0||!y.current)return;let re=new ResizeObserver(Te=>{for(let Fe of Te){let Ss=Fe.target.getBoundingClientRect();Ss.x===0&&Ss.y===0&&Ss.width===0&&Ss.height===0&&E()}});return re.observe(y.current),()=>re.disconnect()},[j,y,E]);let[H,U]=RD(),W=f.useMemo(()=>[{dialogState:j,close:E,setTitleId:M},N],[j,N,E,M]),J=f.useMemo(()=>({open:j===0}),[j]),ce={ref:x,id:r,role:o,"aria-modal":j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":H};return ie.createElement(AD,{type:"Dialog",enabled:j===0,element:y,onUpdate:ke((re,Te)=>{Te==="Dialog"&&tt(re,{[f0.Add]:()=>h(Fe=>Fe+1),[f0.Remove]:()=>h(Fe=>Fe-1)})})},ie.createElement(u0,{force:!0},ie.createElement(m0,null,ie.createElement(fh.Provider,{value:W},ie.createElement(m0.Group,{target:y},ie.createElement(u0,{force:!1},ie.createElement(U,{slot:J,name:"Dialog.Description"},ie.createElement(yo,{initialFocus:l,containers:I,features:k?tt(O,{parent:yo.features.RestoreFocus,leaf:yo.features.All&~yo.features.FocusLock}):yo.features.None},ie.createElement(C,null,mt({ourProps:ce,theirProps:d,slot:J,defaultTag:WD,features:qD,visible:j===0,name:"Dialog"}))))))))),ie.createElement(L,null))}let GD="div";function YD(t,e){let n=os(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:a,close:l}]=ad("Dialog.Overlay"),o=ht(e),c=ke(u=>{if(u.target===u.currentTarget){if(xm(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),l()}}),d=f.useMemo(()=>({open:a===0}),[a]);return mt({ourProps:{ref:o,id:r,"aria-hidden":!0,onClick:c},theirProps:i,slot:d,defaultTag:GD,name:"Dialog.Overlay"})}let XD="div";function ZD(t,e){let n=os(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:a},l]=ad("Dialog.Backdrop"),o=ht(e);f.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let c=f.useMemo(()=>({open:a===0}),[a]);return ie.createElement(u0,{force:!0},ie.createElement(m0,null,mt({ourProps:{ref:o,id:r,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:XD,name:"Dialog.Backdrop"})))}let QD="div";function JD(t,e){let n=os(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:a},l]=ad("Dialog.Panel"),o=ht(e,l.panelRef),c=f.useMemo(()=>({open:a===0}),[a]),d=ke(u=>{u.stopPropagation()});return mt({ourProps:{ref:o,id:r,onClick:d},theirProps:i,slot:c,defaultTag:QD,name:"Dialog.Panel"})}let eP="h2";function tP(t,e){let n=os(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:a,setTitleId:l}]=ad("Dialog.Title"),o=ht(e);f.useEffect(()=>(l(r),()=>l(null)),[r,l]);let c=f.useMemo(()=>({open:a===0}),[a]);return mt({ourProps:{ref:o,id:r},theirProps:i,slot:c,defaultTag:eP,name:"Dialog.Title"})}let sP=ot(KD),nP=ot(ZD),rP=ot(JD),iP=ot(YD),aP=ot(tP),ut=Object.assign(sP,{Backdrop:nP,Panel:rP,Overlay:iP,Title:aP,Description:VD}),bb=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function jb(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let l=a?(n=i.innerText)!=null?n:"":r;return bb.test(l)&&(l=l.replace(bb,"")),l}function lP(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let a=document.getElementById(i);if(a){let l=a.getAttribute("aria-label");return typeof l=="string"?l.trim():jb(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return jb(t).trim()}function oP(t){let e=f.useRef(""),n=f.useRef("");return ke(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let a=lP(r).trim().toLowerCase();return e.current=i,n.current=a,a})}var cP=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(cP||{}),dP=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(dP||{}),uP=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(uP||{});function Nf(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=ca(e(t.items.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let hP={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n;let r=Nf(t),i=ZE(e,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(l=>{var o;return((o=l.dataRef.current.textValue)==null?void 0:o.startsWith(r))&&!l.dataRef.current.disabled}),a=i?t.items.indexOf(i):-1;return a===-1||a===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=Nf(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=Nf(t,r=>{let i=r.findIndex(a=>a.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}}},wp=f.createContext(null);wp.displayName="MenuContext";function pm(t){let e=f.useContext(wp);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pm),n}return e}function mP(t,e){return tt(e.type,hP,t,e)}let fP=f.Fragment;function gP(t,e){let{__demoMode:n=!1,...r}=t,i=f.useReducer(mP,{__demoMode:n,menuState:n?0:1,buttonRef:f.createRef(),itemsRef:f.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsRef:l,buttonRef:o},c]=i,d=ht(e);fp([o,l],(g,y)=>{var x;c({type:1}),gm(y,fm.Loose)||(g.preventDefault(),(x=o.current)==null||x.focus())},a===0);let u=ke(()=>{c({type:1})}),h=f.useMemo(()=>({open:a===0,close:u}),[a,u]),m={ref:d};return ie.createElement(wp.Provider,{value:i},ie.createElement(yp,{value:tt(a,{0:Nt.Open,1:Nt.Closed})},mt({ourProps:m,theirProps:r,slot:h,defaultTag:fP,name:"Menu"})))}let xP="button";function pP(t,e){var n;let r=os(),{id:i=`headlessui-menu-button-${r}`,...a}=t,[l,o]=pm("Menu.Button"),c=ht(l.buttonRef,e),d=rd(),u=ke(x=>{switch(x.key){case Ue.Space:case Ue.Enter:case Ue.ArrowDown:x.preventDefault(),x.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:Ln.First}));break;case Ue.ArrowUp:x.preventDefault(),x.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:Ln.Last}));break}}),h=ke(x=>{switch(x.key){case Ue.Space:x.preventDefault();break}}),m=ke(x=>{if(xm(x.currentTarget))return x.preventDefault();t.disabled||(l.menuState===0?(o({type:1}),d.nextFrame(()=>{var b;return(b=l.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(x.preventDefault(),o({type:0})))}),g=f.useMemo(()=>({open:l.menuState===0}),[l]),y={ref:c,id:i,type:gp(t,l.buttonRef),"aria-haspopup":"menu","aria-controls":(n=l.itemsRef.current)==null?void 0:n.id,"aria-expanded":l.menuState===0,onKeyDown:u,onKeyUp:h,onClick:m};return mt({ourProps:y,theirProps:a,slot:g,defaultTag:xP,name:"Menu.Button"})}let yP="div",vP=yn.RenderStrategy|yn.Static;function bP(t,e){var n,r;let i=os(),{id:a=`headlessui-menu-items-${i}`,...l}=t,[o,c]=pm("Menu.Items"),d=ht(o.itemsRef,e),u=qr(o.itemsRef),h=rd(),m=Ql(),g=(()=>m!==null?(m&Nt.Open)===Nt.Open:o.menuState===0)();f.useEffect(()=>{let p=o.itemsRef.current;p&&o.menuState===0&&p!==(u==null?void 0:u.activeElement)&&p.focus({preventScroll:!0})},[o.menuState,o.itemsRef,u]),zE({container:o.itemsRef.current,enabled:o.menuState===0,accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let y=ke(p=>{var j,N;switch(h.dispose(),p.key){case Ue.Space:if(o.searchQuery!=="")return p.preventDefault(),p.stopPropagation(),c({type:3,value:p.key});case Ue.Enter:if(p.preventDefault(),p.stopPropagation(),c({type:1}),o.activeItemIndex!==null){let{dataRef:w}=o.items[o.activeItemIndex];(N=(j=w.current)==null?void 0:j.domRef.current)==null||N.click()}O5(o.buttonRef.current);break;case Ue.ArrowDown:return p.preventDefault(),p.stopPropagation(),c({type:2,focus:Ln.Next});case Ue.ArrowUp:return p.preventDefault(),p.stopPropagation(),c({type:2,focus:Ln.Previous});case Ue.Home:case Ue.PageUp:return p.preventDefault(),p.stopPropagation(),c({type:2,focus:Ln.First});case Ue.End:case Ue.PageDown:return p.preventDefault(),p.stopPropagation(),c({type:2,focus:Ln.Last});case Ue.Escape:p.preventDefault(),p.stopPropagation(),c({type:1}),Bn().nextFrame(()=>{var w;return(w=o.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case Ue.Tab:p.preventDefault(),p.stopPropagation(),c({type:1}),Bn().nextFrame(()=>{VE(o.buttonRef.current,p.shiftKey?lt.Previous:lt.Next)});break;default:p.key.length===1&&(c({type:3,value:p.key}),h.setTimeout(()=>c({type:4}),350));break}}),x=ke(p=>{switch(p.key){case Ue.Space:p.preventDefault();break}}),b=f.useMemo(()=>({open:o.menuState===0}),[o]),v={"aria-activedescendant":o.activeItemIndex===null||(n=o.items[o.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=o.buttonRef.current)==null?void 0:r.id,id:a,onKeyDown:y,onKeyUp:x,role:"menu",tabIndex:0,ref:d};return mt({ourProps:v,theirProps:l,slot:b,defaultTag:yP,features:vP,visible:g,name:"Menu.Items"})}let jP=f.Fragment;function wP(t,e){let n=os(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...a}=t,[l,o]=pm("Menu.Item"),c=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===r:!1,d=f.useRef(null),u=ht(e,d);Tt(()=>{if(l.__demoMode||l.menuState!==0||!c||l.activationTrigger===0)return;let w=Bn();return w.requestAnimationFrame(()=>{var E,M;(M=(E=d.current)==null?void 0:E.scrollIntoView)==null||M.call(E,{block:"nearest"})}),w.dispose},[l.__demoMode,d,c,l.menuState,l.activationTrigger,l.activeItemIndex]);let h=oP(d),m=f.useRef({disabled:i,domRef:d,get textValue(){return h()}});Tt(()=>{m.current.disabled=i},[m,i]),Tt(()=>(o({type:5,id:r,dataRef:m}),()=>o({type:6,id:r})),[m,r]);let g=ke(()=>{o({type:1})}),y=ke(w=>{if(i)return w.preventDefault();o({type:1}),O5(l.buttonRef.current)}),x=ke(()=>{if(i)return o({type:2,focus:Ln.Nothing});o({type:2,focus:Ln.Specific,id:r})}),b=HE(),v=ke(w=>b.update(w)),p=ke(w=>{b.wasMoved(w)&&(i||c||o({type:2,focus:Ln.Specific,id:r,trigger:0}))}),j=ke(w=>{b.wasMoved(w)&&(i||c&&o({type:2,focus:Ln.Nothing}))}),N=f.useMemo(()=>({active:c,disabled:i,close:g}),[c,i,g]);return mt({ourProps:{id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:x,onPointerEnter:v,onMouseEnter:v,onPointerMove:p,onMouseMove:p,onPointerLeave:j,onMouseLeave:j},theirProps:a,slot:N,defaultTag:jP,name:"Menu.Item"})}let NP=ot(gP),kP=ot(pP),SP=ot(bP),TP=ot(wP),Kn=Object.assign(NP,{Button:kP,Items:SP,Item:TP});var CP=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(CP||{}),EP=(t=>(t[t.TogglePopover=0]="TogglePopover",t[t.ClosePopover=1]="ClosePopover",t[t.SetButton=2]="SetButton",t[t.SetButtonId=3]="SetButtonId",t[t.SetPanel=4]="SetPanel",t[t.SetPanelId=5]="SetPanelId",t))(EP||{});let DP={0:t=>{let e={...t,popoverState:tt(t.popoverState,{0:1,1:0})};return e.popoverState===0&&(e.__demoMode=!1),e},1(t){return t.popoverState===1?t:{...t,popoverState:1}},2(t,e){return t.button===e.button?t:{...t,button:e.button}},3(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},4(t,e){return t.panel===e.panel?t:{...t,panel:e.panel}},5(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},Np=f.createContext(null);Np.displayName="PopoverContext";function ym(t){let e=f.useContext(Np);if(e===null){let n=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ym),n}return e}let kp=f.createContext(null);kp.displayName="PopoverAPIContext";function Sp(t){let e=f.useContext(kp);if(e===null){let n=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sp),n}return e}let Tp=f.createContext(null);Tp.displayName="PopoverGroupContext";function J5(){return f.useContext(Tp)}let vm=f.createContext(null);vm.displayName="PopoverPanelContext";function PP(){return f.useContext(vm)}function MP(t,e){return tt(e.type,DP,t,e)}let _P="div";function LP(t,e){var n;let{__demoMode:r=!1,...i}=t,a=f.useRef(null),l=ht(e,B5(L=>{a.current=L})),o=f.useRef([]),c=f.useReducer(MP,{__demoMode:r,popoverState:r?0:1,buttons:o,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:f.createRef(),afterPanelSentinel:f.createRef()}),[{popoverState:d,button:u,buttonId:h,panel:m,panelId:g,beforePanelSentinel:y,afterPanelSentinel:x},b]=c,v=qr((n=a.current)!=null?n:u),p=f.useMemo(()=>{if(!u||!m)return!1;for(let Z of document.querySelectorAll("body > *"))if(Number(Z==null?void 0:Z.contains(u))^Number(Z==null?void 0:Z.contains(m)))return!0;let L=id(),O=L.indexOf(u),D=(O+L.length-1)%L.length,R=(O+1)%L.length,B=L[D],X=L[R];return!m.contains(B)&&!m.contains(X)},[u,m]),j=Ps(h),N=Ps(g),w=f.useMemo(()=>({buttonId:j,panelId:N,close:()=>b({type:1})}),[j,N,b]),E=J5(),M=E==null?void 0:E.registerPopover,k=ke(()=>{var L;return(L=E==null?void 0:E.isFocusWithinPopoverGroup())!=null?L:(v==null?void 0:v.activeElement)&&((u==null?void 0:u.contains(v.activeElement))||(m==null?void 0:m.contains(v.activeElement)))});f.useEffect(()=>M==null?void 0:M(w),[M,w]);let[T,S]=Y5(),P=X5({mainTreeNodeRef:E==null?void 0:E.mainTreeNodeRef,portals:T,defaultContainers:[u,m]});vp(v==null?void 0:v.defaultView,"focus",L=>{var O,D,R,B;L.target!==window&&L.target instanceof HTMLElement&&d===0&&(k()||u&&m&&(P.contains(L.target)||(D=(O=y.current)==null?void 0:O.contains)!=null&&D.call(O,L.target)||(B=(R=x.current)==null?void 0:R.contains)!=null&&B.call(R,L.target)||b({type:1})))},!0),fp(P.resolveContainers,(L,O)=>{b({type:1}),gm(O,fm.Loose)||(L.preventDefault(),u==null||u.focus())},d===0);let C=ke(L=>{b({type:1});let O=(()=>L?L instanceof HTMLElement?L:"current"in L&&L.current instanceof HTMLElement?L.current:u:u)();O==null||O.focus()}),A=f.useMemo(()=>({close:C,isPortalled:p}),[C,p]),I=f.useMemo(()=>({open:d===0,close:C}),[d,C]),V={ref:l};return ie.createElement(vm.Provider,{value:null},ie.createElement(Np.Provider,{value:c},ie.createElement(kp.Provider,{value:A},ie.createElement(yp,{value:tt(d,{0:Nt.Open,1:Nt.Closed})},ie.createElement(S,null,mt({ourProps:V,theirProps:i,slot:I,defaultTag:_P,name:"Popover"}),ie.createElement(P.MainTreeNode,null))))))}let AP="button";function RP(t,e){let n=os(),{id:r=`headlessui-popover-button-${n}`,...i}=t,[a,l]=ym("Popover.Button"),{isPortalled:o}=Sp("Popover.Button"),c=f.useRef(null),d=`headlessui-focus-sentinel-${os()}`,u=J5(),h=u==null?void 0:u.closeOthers,m=PP()!==null;f.useEffect(()=>{if(!m)return l({type:3,buttonId:r}),()=>{l({type:3,buttonId:null})}},[m,r,l]);let[g]=f.useState(()=>Symbol()),y=ht(c,e,m?null:P=>{if(P)a.buttons.current.push(g);else{let C=a.buttons.current.indexOf(g);C!==-1&&a.buttons.current.splice(C,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),P&&l({type:2,button:P})}),x=ht(c,e),b=qr(c),v=ke(P=>{var C,A,I;if(m){if(a.popoverState===1)return;switch(P.key){case Ue.Space:case Ue.Enter:P.preventDefault(),(A=(C=P.target).click)==null||A.call(C),l({type:1}),(I=a.button)==null||I.focus();break}}else switch(P.key){case Ue.Space:case Ue.Enter:P.preventDefault(),P.stopPropagation(),a.popoverState===1&&(h==null||h(a.buttonId)),l({type:0});break;case Ue.Escape:if(a.popoverState!==0)return h==null?void 0:h(a.buttonId);if(!c.current||b!=null&&b.activeElement&&!c.current.contains(b.activeElement))return;P.preventDefault(),P.stopPropagation(),l({type:1});break}}),p=ke(P=>{m||P.key===Ue.Space&&P.preventDefault()}),j=ke(P=>{var C,A;xm(P.currentTarget)||t.disabled||(m?(l({type:1}),(C=a.button)==null||C.focus()):(P.preventDefault(),P.stopPropagation(),a.popoverState===1&&(h==null||h(a.buttonId)),l({type:0}),(A=a.button)==null||A.focus()))}),N=ke(P=>{P.preventDefault(),P.stopPropagation()}),w=a.popoverState===0,E=f.useMemo(()=>({open:w}),[w]),M=gp(t,c),k=m?{ref:x,type:M,onKeyDown:v,onClick:j}:{ref:y,id:a.buttonId,type:M,"aria-expanded":a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,onKeyDown:v,onKeyUp:p,onClick:j,onMouseDown:N},T=bp(),S=ke(()=>{let P=a.panel;if(!P)return;function C(){tt(T.current,{[Qs.Forwards]:()=>Jt(P,lt.First),[Qs.Backwards]:()=>Jt(P,lt.Last)})===Dr.Error&&Jt(id().filter(A=>A.dataset.headlessuiFocusGuard!=="true"),tt(T.current,{[Qs.Forwards]:lt.Next,[Qs.Backwards]:lt.Previous}),{relativeTo:a.button})}C()});return ie.createElement(ie.Fragment,null,mt({ourProps:k,theirProps:i,slot:E,defaultTag:AP,name:"Popover.Button"}),w&&!m&&o&&ie.createElement(Vr,{id:d,features:Fr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}))}let IP="div",OP=yn.RenderStrategy|yn.Static;function FP(t,e){let n=os(),{id:r=`headlessui-popover-overlay-${n}`,...i}=t,[{popoverState:a},l]=ym("Popover.Overlay"),o=ht(e),c=Ql(),d=(()=>c!==null?(c&Nt.Open)===Nt.Open:a===0)(),u=ke(m=>{if(xm(m.currentTarget))return m.preventDefault();l({type:1})}),h=f.useMemo(()=>({open:a===0}),[a]);return mt({ourProps:{ref:o,id:r,"aria-hidden":!0,onClick:u},theirProps:i,slot:h,defaultTag:IP,features:OP,visible:d,name:"Popover.Overlay"})}let VP="div",$P=yn.RenderStrategy|yn.Static;function BP(t,e){let n=os(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,...a}=t,[l,o]=ym("Popover.Panel"),{close:c,isPortalled:d}=Sp("Popover.Panel"),u=`headlessui-focus-sentinel-before-${os()}`,h=`headlessui-focus-sentinel-after-${os()}`,m=f.useRef(null),g=ht(m,e,k=>{o({type:4,panel:k})}),y=qr(m),x=UE();Tt(()=>(o({type:5,panelId:r}),()=>{o({type:5,panelId:null})}),[r,o]);let b=Ql(),v=(()=>b!==null?(b&Nt.Open)===Nt.Open:l.popoverState===0)(),p=ke(k=>{var T;switch(k.key){case Ue.Escape:if(l.popoverState!==0||!m.current||y!=null&&y.activeElement&&!m.current.contains(y.activeElement))return;k.preventDefault(),k.stopPropagation(),o({type:1}),(T=l.button)==null||T.focus();break}});f.useEffect(()=>{var k;t.static||l.popoverState===1&&((k=t.unmount)==null||k)&&o({type:4,panel:null})},[l.popoverState,t.unmount,t.static,o]),f.useEffect(()=>{if(l.__demoMode||!i||l.popoverState!==0||!m.current)return;let k=y==null?void 0:y.activeElement;m.current.contains(k)||Jt(m.current,lt.First)},[l.__demoMode,i,m,l.popoverState]);let j=f.useMemo(()=>({open:l.popoverState===0,close:c}),[l,c]),N={ref:g,id:r,onKeyDown:p,onBlur:i&&l.popoverState===0?k=>{var T,S,P,C,A;let I=k.relatedTarget;I&&m.current&&((T=m.current)!=null&&T.contains(I)||(o({type:1}),((P=(S=l.beforePanelSentinel.current)==null?void 0:S.contains)!=null&&P.call(S,I)||(A=(C=l.afterPanelSentinel.current)==null?void 0:C.contains)!=null&&A.call(C,I))&&I.focus({preventScroll:!0})))}:void 0,tabIndex:-1},w=bp(),E=ke(()=>{let k=m.current;if(!k)return;function T(){tt(w.current,{[Qs.Forwards]:()=>{var S;Jt(k,lt.First)===Dr.Error&&((S=l.afterPanelSentinel.current)==null||S.focus())},[Qs.Backwards]:()=>{var S;(S=l.button)==null||S.focus({preventScroll:!0})}})}T()}),M=ke(()=>{let k=m.current;if(!k)return;function T(){tt(w.current,{[Qs.Forwards]:()=>{var S;if(!l.button)return;let P=id(),C=P.indexOf(l.button),A=P.slice(0,C+1),I=[...P.slice(C+1),...A];for(let V of I.slice())if(V.dataset.headlessuiFocusGuard==="true"||(S=l.panel)!=null&&S.contains(V)){let L=I.indexOf(V);L!==-1&&I.splice(L,1)}Jt(I,lt.First,{sorted:!1})},[Qs.Backwards]:()=>{var S;Jt(k,lt.Previous)===Dr.Error&&((S=l.button)==null||S.focus())}})}T()});return ie.createElement(vm.Provider,{value:r},v&&d&&ie.createElement(Vr,{id:u,ref:l.beforePanelSentinel,features:Fr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}),mt({mergeRefs:x,ourProps:N,theirProps:a,slot:j,defaultTag:VP,features:$P,visible:v,name:"Popover.Panel"}),v&&d&&ie.createElement(Vr,{id:h,ref:l.afterPanelSentinel,features:Fr.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}))}let HP="div";function zP(t,e){let n=f.useRef(null),r=ht(n,e),[i,a]=f.useState([]),l=_D(),o=ke(x=>{a(b=>{let v=b.indexOf(x);if(v!==-1){let p=b.slice();return p.splice(v,1),p}return b})}),c=ke(x=>(a(b=>[...b,x]),()=>o(x))),d=ke(()=>{var x;let b=Zl(n);if(!b)return!1;let v=b.activeElement;return(x=n.current)!=null&&x.contains(v)?!0:i.some(p=>{var j,N;return((j=b.getElementById(p.buttonId.current))==null?void 0:j.contains(v))||((N=b.getElementById(p.panelId.current))==null?void 0:N.contains(v))})}),u=ke(x=>{for(let b of i)b.buttonId.current!==x&&b.close()}),h=f.useMemo(()=>({registerPopover:c,unregisterPopover:o,isFocusWithinPopoverGroup:d,closeOthers:u,mainTreeNodeRef:l.mainTreeNodeRef}),[c,o,d,u,l.mainTreeNodeRef]),m=f.useMemo(()=>({}),[]),g=t,y={ref:r};return ie.createElement(Tp.Provider,{value:h},mt({ourProps:y,theirProps:g,slot:m,defaultTag:HP,name:"Popover.Group"}),ie.createElement(l.MainTreeNode,null))}let UP=ot(LP),WP=ot(RP),qP=ot(FP),KP=ot(BP),GP=ot(zP),kf=Object.assign(UP,{Button:WP,Overlay:qP,Panel:KP,Group:GP});function YP(t=0){let[e,n]=f.useState(t),r=Jl(),i=f.useCallback(c=>{r.current&&n(d=>d|c)},[e,r]),a=f.useCallback(c=>!!(e&c),[e]),l=f.useCallback(c=>{r.current&&n(d=>d&~c)},[n,r]),o=f.useCallback(c=>{r.current&&n(d=>d^c)},[n]);return{flags:e,addFlag:i,hasFlag:a,removeFlag:l,toggleFlag:o}}function XP({onFocus:t}){let[e,n]=f.useState(!0),r=Jl();return e?ie.createElement(Vr,{as:"button",type:"button",features:Fr.Focusable,onFocus:i=>{i.preventDefault();let a,l=50;function o(){if(l--<=0){a&&cancelAnimationFrame(a);return}if(t()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(o)}a=requestAnimationFrame(o)}}):null}const e4=f.createContext(null);function ZP(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(e))!=null?n:0;r.set(e,i+1);let a=Array.from(r.keys()).indexOf(e);function l(){let o=r.get(e);o>1?r.set(e,o-1):r.delete(e)}return[a,l]}}}function QP({children:t}){let e=f.useRef(ZP());return f.createElement(e4.Provider,{value:e},t)}function t4(t){let e=f.useContext(e4);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=JP(),[r,i]=e.current.get(t,n);return f.useEffect(()=>i,[]),r}function JP(){var t,e,n;let r=(n=(e=(t=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:e.current)!=null?n:null;if(!r)return Symbol();let i=[],a=r;for(;a;)i.push(a.index),a=a.return;return"$."+i.join(".")}var eM=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(eM||{}),tM=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(tM||{}),sM=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(sM||{});let nM={0(t,e){var n;let r=ca(t.tabs,u=>u.current),i=ca(t.panels,u=>u.current),a=r.filter(u=>{var h;return!((h=u.current)!=null&&h.hasAttribute("disabled"))}),l={...t,tabs:r,panels:i};if(e.index<0||e.index>r.length-1){let u=tt(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>tt(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return l;let h=tt(u,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...l,selectedIndex:h===-1?t.selectedIndex:h}}let o=r.slice(0,e.index),c=[...r.slice(e.index),...o].find(u=>a.includes(u));if(!c)return l;let d=(n=r.indexOf(c))!=null?n:t.selectedIndex;return d===-1&&(d=t.selectedIndex),{...l,selectedIndex:d}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=ca([...t.tabs,e.tab],a=>a.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:ca([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},Cp=f.createContext(null);Cp.displayName="TabsDataContext";function _l(t){let e=f.useContext(Cp);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_l),n}return e}let Ep=f.createContext(null);Ep.displayName="TabsActionsContext";function Dp(t){let e=f.useContext(Ep);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dp),n}return e}function rM(t,e){return tt(e.type,nM,t,e)}let iM=f.Fragment;function aM(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:a,selectedIndex:l=null,...o}=t;const c=r?"vertical":"horizontal",d=i?"manual":"auto";let u=l!==null,h=Ps({isControlled:u}),m=ht(e),[g,y]=f.useReducer(rM,{info:h,selectedIndex:l??n,tabs:[],panels:[]}),x=f.useMemo(()=>({selectedIndex:g.selectedIndex}),[g.selectedIndex]),b=Ps(a||(()=>{})),v=Ps(g.tabs),p=f.useMemo(()=>({orientation:c,activation:d,...g}),[c,d,g]),j=ke(T=>(y({type:1,tab:T}),()=>y({type:2,tab:T}))),N=ke(T=>(y({type:3,panel:T}),()=>y({type:4,panel:T}))),w=ke(T=>{E.current!==T&&b.current(T),u||y({type:0,index:T})}),E=Ps(u?t.selectedIndex:g.selectedIndex),M=f.useMemo(()=>({registerTab:j,registerPanel:N,change:w}),[]);Tt(()=>{y({type:0,index:l??n})},[l]),Tt(()=>{if(E.current===void 0||g.tabs.length<=0)return;let T=ca(g.tabs,S=>S.current);T.some((S,P)=>g.tabs[P]!==S)&&w(T.indexOf(g.tabs[E.current]))});let k={ref:m};return ie.createElement(QP,null,ie.createElement(Ep.Provider,{value:M},ie.createElement(Cp.Provider,{value:p},p.tabs.length<=0&&ie.createElement(XP,{onFocus:()=>{var T,S;for(let P of v.current)if(((T=P.current)==null?void 0:T.tabIndex)===0)return(S=P.current)==null||S.focus(),!0;return!1}}),mt({ourProps:k,theirProps:o,slot:x,defaultTag:iM,name:"Tabs"}))))}let lM="div";function oM(t,e){let{orientation:n,selectedIndex:r}=_l("Tab.List"),i=ht(e);return mt({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:lM,name:"Tabs.List"})}let cM="button";function dM(t,e){var n,r;let i=os(),{id:a=`headlessui-tabs-tab-${i}`,...l}=t,{orientation:o,activation:c,selectedIndex:d,tabs:u,panels:h}=_l("Tab"),m=Dp("Tab"),g=_l("Tab"),y=f.useRef(null),x=ht(y,e);Tt(()=>m.registerTab(y),[m,y]);let b=t4("tabs"),v=u.indexOf(y);v===-1&&(v=b);let p=v===d,j=ke(S=>{var P;let C=S();if(C===Dr.Success&&c==="auto"){let A=(P=Zl(y))==null?void 0:P.activeElement,I=g.tabs.findIndex(V=>V.current===A);I!==-1&&m.change(I)}return C}),N=ke(S=>{let P=u.map(C=>C.current).filter(Boolean);if(S.key===Ue.Space||S.key===Ue.Enter){S.preventDefault(),S.stopPropagation(),m.change(v);return}switch(S.key){case Ue.Home:case Ue.PageUp:return S.preventDefault(),S.stopPropagation(),j(()=>Jt(P,lt.First));case Ue.End:case Ue.PageDown:return S.preventDefault(),S.stopPropagation(),j(()=>Jt(P,lt.Last))}if(j(()=>tt(o,{vertical(){return S.key===Ue.ArrowUp?Jt(P,lt.Previous|lt.WrapAround):S.key===Ue.ArrowDown?Jt(P,lt.Next|lt.WrapAround):Dr.Error},horizontal(){return S.key===Ue.ArrowLeft?Jt(P,lt.Previous|lt.WrapAround):S.key===Ue.ArrowRight?Jt(P,lt.Next|lt.WrapAround):Dr.Error}}))===Dr.Success)return S.preventDefault()}),w=f.useRef(!1),E=ke(()=>{var S;w.current||(w.current=!0,(S=y.current)==null||S.focus({preventScroll:!0}),m.change(v),nd(()=>{w.current=!1}))}),M=ke(S=>{S.preventDefault()}),k=f.useMemo(()=>{var S;return{selected:p,disabled:(S=t.disabled)!=null?S:!1}},[p,t.disabled]),T={ref:x,onKeyDown:N,onMouseDown:M,onClick:E,id:a,role:"tab",type:gp(t,y),"aria-controls":(r=(n=h[v])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":p,tabIndex:p?0:-1};return mt({ourProps:T,theirProps:l,slot:k,defaultTag:cM,name:"Tabs.Tab"})}let uM="div";function hM(t,e){let{selectedIndex:n}=_l("Tab.Panels"),r=ht(e),i=f.useMemo(()=>({selectedIndex:n}),[n]);return mt({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:uM,name:"Tabs.Panels"})}let mM="div",fM=yn.RenderStrategy|yn.Static;function gM(t,e){var n,r,i,a;let l=os(),{id:o=`headlessui-tabs-panel-${l}`,tabIndex:c=0,...d}=t,{selectedIndex:u,tabs:h,panels:m}=_l("Tab.Panel"),g=Dp("Tab.Panel"),y=f.useRef(null),x=ht(y,e);Tt(()=>g.registerPanel(y),[g,y,o]);let b=t4("panels"),v=m.indexOf(y);v===-1&&(v=b);let p=v===u,j=f.useMemo(()=>({selected:p}),[p]),N={ref:x,id:o,role:"tabpanel","aria-labelledby":(r=(n=h[v])==null?void 0:n.current)==null?void 0:r.id,tabIndex:p?c:-1};return!p&&((i=d.unmount)==null||i)&&!((a=d.static)!=null&&a)?ie.createElement(Vr,{as:"span","aria-hidden":"true",...N}):mt({ourProps:N,theirProps:d,slot:j,defaultTag:mM,features:fM,visible:p,name:"Tabs.Panel"})}let xM=ot(dM),pM=ot(aM),yM=ot(oM),vM=ot(hM),bM=ot(gM),qi=Object.assign(xM,{Group:pM,List:yM,Panels:vM,Panel:bM});function jM(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Sf(t,...e){t&&e.length>0&&t.classList.add(...e)}function Tf(t,...e){t&&e.length>0&&t.classList.remove(...e)}function wM(t,e){let n=Bn();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[a,l]=[r,i].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,h)=>h-u);return d}),o=a+l;if(o!==0){n.group(d=>{d.setTimeout(()=>{e(),d.dispose()},o),d.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&d.dispose()})});let c=n.addEventListener(t,"transitionend",d=>{d.target===d.currentTarget&&(e(),c())})}else e();return n.add(()=>e()),n.dispose}function NM(t,e,n,r){let i=n?"enter":"leave",a=Bn(),l=r!==void 0?jM(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let o=tt(i,{enter:()=>e.enter,leave:()=>e.leave}),c=tt(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),d=tt(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Tf(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Sf(t,...e.base,...o,...d),a.nextFrame(()=>{Tf(t,...e.base,...o,...d),Sf(t,...e.base,...o,...c),wM(t,()=>(Tf(t,...e.base,...o),Sf(t,...e.base,...e.entered),l()))}),a.dispose}function kM({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:a}){let l=Jl(),o=rd(),c=Ps(n);Tt(()=>{t&&(c.current="enter")},[t]),Tt(()=>{let d=Bn();o.add(d.dispose);let u=e.current;if(u&&c.current!=="idle"&&l.current)return d.dispose(),i.current(c.current),d.add(NM(u,r.current,c.current==="enter",()=>{d.dispose(),a.current(c.current)})),d.dispose},[n])}function Yr(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let bm=f.createContext(null);bm.displayName="TransitionContext";var SM=(t=>(t.Visible="visible",t.Hidden="hidden",t))(SM||{});function TM(){let t=f.useContext(bm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function CM(){let t=f.useContext(jm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let jm=f.createContext(null);jm.displayName="NestingContext";function wm(t){return"children"in t?wm(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function s4(t,e){let n=Ps(t),r=f.useRef([]),i=Jl(),a=rd(),l=ke((g,y=hi.Hidden)=>{let x=r.current.findIndex(({el:b})=>b===g);x!==-1&&(tt(y,{[hi.Unmount](){r.current.splice(x,1)},[hi.Hidden](){r.current[x].state="hidden"}}),a.microTask(()=>{var b;!wm(r)&&i.current&&((b=n.current)==null||b.call(n))}))}),o=ke(g=>{let y=r.current.find(({el:x})=>x===g);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:g,state:"visible"}),()=>l(g,hi.Unmount)}),c=f.useRef([]),d=f.useRef(Promise.resolve()),u=f.useRef({enter:[],leave:[],idle:[]}),h=ke((g,y,x)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([b])=>b!==g)),e==null||e.chains.current[y].push([g,new Promise(b=>{c.current.push(b)})]),e==null||e.chains.current[y].push([g,new Promise(b=>{Promise.all(u.current[y].map(([v,p])=>p)).then(()=>b())})]),y==="enter"?d.current=d.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(y)):x(y)}),m=ke((g,y,x)=>{Promise.all(u.current[y].splice(0).map(([b,v])=>v)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>x(y))});return f.useMemo(()=>({children:r,register:o,unregister:l,onStart:h,onStop:m,wait:d,chains:u}),[o,l,r,h,m,u,d])}function EM(){}let DM=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function wb(t){var e;let n={};for(let r of DM)n[r]=(e=t[r])!=null?e:EM;return n}function PM(t){let e=f.useRef(wb(t));return f.useEffect(()=>{e.current=wb(t)},[t]),e}let MM="div",n4=yn.RenderStrategy;function _M(t,e){var n,r;let{beforeEnter:i,afterEnter:a,beforeLeave:l,afterLeave:o,enter:c,enterFrom:d,enterTo:u,entered:h,leave:m,leaveFrom:g,leaveTo:y,...x}=t,b=f.useRef(null),v=ht(b,e),p=(n=x.unmount)==null||n?hi.Unmount:hi.Hidden,{show:j,appear:N,initial:w}=TM(),[E,M]=f.useState(j?"visible":"hidden"),k=CM(),{register:T,unregister:S}=k;f.useEffect(()=>T(b),[T,b]),f.useEffect(()=>{if(p===hi.Hidden&&b.current){if(j&&E!=="visible"){M("visible");return}return tt(E,{hidden:()=>S(b),visible:()=>T(b)})}},[E,b,T,S,j,p]);let P=Ps({base:Yr(x.className),enter:Yr(c),enterFrom:Yr(d),enterTo:Yr(u),entered:Yr(h),leave:Yr(m),leaveFrom:Yr(g),leaveTo:Yr(y)}),C=PM({beforeEnter:i,afterEnter:a,beforeLeave:l,afterLeave:o}),A=Xl();f.useEffect(()=>{if(A&&E==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,E,A]);let I=w&&!N,V=N&&j&&w,L=(()=>!A||I?"idle":j?"enter":"leave")(),O=YP(0),D=ke(Y=>tt(Y,{enter:()=>{O.addFlag(Nt.Opening),C.current.beforeEnter()},leave:()=>{O.addFlag(Nt.Closing),C.current.beforeLeave()},idle:()=>{}})),R=ke(Y=>tt(Y,{enter:()=>{O.removeFlag(Nt.Opening),C.current.afterEnter()},leave:()=>{O.removeFlag(Nt.Closing),C.current.afterLeave()},idle:()=>{}})),B=s4(()=>{M("hidden"),S(b)},k),X=f.useRef(!1);kM({immediate:V,container:b,classes:P,direction:L,onStart:Ps(Y=>{X.current=!0,B.onStart(b,Y,D)}),onStop:Ps(Y=>{X.current=!1,B.onStop(b,Y,R),Y==="leave"&&!wm(B)&&(M("hidden"),S(b))})});let Z=x,$={ref:v};return V?Z={...Z,className:mh(x.className,...P.current.enter,...P.current.enterFrom)}:X.current&&(Z.className=mh(x.className,(r=b.current)==null?void 0:r.className),Z.className===""&&delete Z.className),ie.createElement(jm.Provider,{value:B},ie.createElement(yp,{value:tt(E,{visible:Nt.Open,hidden:Nt.Closed})|O.flags},mt({ourProps:$,theirProps:Z,defaultTag:MM,features:n4,visible:E==="visible",name:"Transition.Child"})))}function LM(t,e){let{show:n,appear:r=!1,unmount:i=!0,...a}=t,l=f.useRef(null),o=ht(l,e);Xl();let c=Ql();if(n===void 0&&c!==null&&(n=(c&Nt.Open)===Nt.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,u]=f.useState(n?"visible":"hidden"),h=s4(()=>{u("hidden")}),[m,g]=f.useState(!0),y=f.useRef([n]);Tt(()=>{m!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),g(!1))},[y,n]);let x=f.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);f.useEffect(()=>{if(n)u("visible");else if(!wm(h))u("hidden");else{let j=l.current;if(!j)return;let N=j.getBoundingClientRect();N.x===0&&N.y===0&&N.width===0&&N.height===0&&u("hidden")}},[n,h]);let b={unmount:i},v=ke(()=>{var j;m&&g(!1),(j=t.beforeEnter)==null||j.call(t)}),p=ke(()=>{var j;m&&g(!1),(j=t.beforeLeave)==null||j.call(t)});return ie.createElement(jm.Provider,{value:h},ie.createElement(bm.Provider,{value:x},mt({ourProps:{...b,as:f.Fragment,children:ie.createElement(r4,{ref:o,...b,...a,beforeEnter:v,beforeLeave:p})},theirProps:{},defaultTag:f.Fragment,features:n4,visible:d==="visible",name:"Transition"})))}function AM(t,e){let n=f.useContext(bm)!==null,r=Ql()!==null;return ie.createElement(ie.Fragment,null,!n&&r?ie.createElement(g0,{ref:e,...t}):ie.createElement(r4,{ref:e,...t}))}let g0=ot(LM),r4=ot(_M),RM=ot(AM),Vt=Object.assign(g0,{Child:RM,Root:g0});function i4(t,e){return function(){return t.apply(e,arguments)}}const{toString:IM}=Object.prototype,{getPrototypeOf:Pp}=Object,{iterator:Nm,toStringTag:a4}=Symbol,km=(t=>e=>{const n=IM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>km(e)===t),Sm=t=>e=>typeof e===t,{isArray:eo}=Array,_c=Sm("undefined");function OM(t){return t!==null&&!_c(t)&&t.constructor!==null&&!_c(t.constructor)&&qs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const l4=zn("ArrayBuffer");function FM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&l4(t.buffer),e}const VM=Sm("string"),qs=Sm("function"),o4=Sm("number"),Tm=t=>t!==null&&typeof t=="object",$M=t=>t===!0||t===!1,ku=t=>{if(km(t)!=="object")return!1;const e=Pp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(a4 in t)&&!(Nm in t)},BM=zn("Date"),HM=zn("File"),zM=zn("Blob"),UM=zn("FileList"),WM=t=>Tm(t)&&qs(t.pipe),qM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qs(t.append)&&((e=km(t))==="formdata"||e==="object"&&qs(t.toString)&&t.toString()==="[object FormData]"))},KM=zn("URLSearchParams"),[GM,YM,XM,ZM]=["ReadableStream","Request","Response","Headers"].map(zn),QM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ld(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),eo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let o;for(r=0;r<l;r++)o=a[r],e.call(null,t[o],o,t)}}function c4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ua=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),d4=t=>!_c(t)&&t!==ua;function x0(){const{caseless:t}=d4(this)&&this||{},e={},n=(r,i)=>{const a=t&&c4(e,i)||i;ku(e[a])&&ku(r)?e[a]=x0(e[a],r):ku(r)?e[a]=x0({},r):eo(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ld(arguments[r],n);return e}const JM=(t,e,n,{allOwnKeys:r}={})=>(ld(e,(i,a)=>{n&&qs(i)?t[a]=i4(i,n):t[a]=i},{allOwnKeys:r}),t),e_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),t_=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},s_=(t,e,n,r)=>{let i,a,l;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!o[l]&&(e[l]=t[l],o[l]=!0);t=n!==!1&&Pp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},n_=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},r_=t=>{if(!t)return null;if(eo(t))return t;let e=t.length;if(!o4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},i_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Pp(Uint8Array)),a_=(t,e)=>{const r=(t&&t[Nm]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},l_=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},o_=zn("HTMLFormElement"),c_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Nb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),d_=zn("RegExp"),u4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ld(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},u_=t=>{u4(t,(e,n)=>{if(qs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},h_=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return eo(t)?r(t):r(String(t).split(e)),n},m_=()=>{},f_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function g_(t){return!!(t&&qs(t.append)&&t[a4]==="FormData"&&t[Nm])}const x_=t=>{const e=new Array(10),n=(r,i)=>{if(Tm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=eo(r)?[]:{};return ld(r,(l,o)=>{const c=n(l,i+1);!_c(c)&&(a[o]=c)}),e[i]=void 0,a}}return r};return n(t,0)},p_=zn("AsyncFunction"),y_=t=>t&&(Tm(t)||qs(t))&&qs(t.then)&&qs(t.catch),h4=((t,e)=>t?setImmediate:e?((n,r)=>(ua.addEventListener("message",({source:i,data:a})=>{i===ua&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qs(ua.postMessage)),v_=typeof queueMicrotask<"u"?queueMicrotask.bind(ua):typeof process<"u"&&process.nextTick||h4,b_=t=>t!=null&&qs(t[Nm]),ee={isArray:eo,isArrayBuffer:l4,isBuffer:OM,isFormData:qM,isArrayBufferView:FM,isString:VM,isNumber:o4,isBoolean:$M,isObject:Tm,isPlainObject:ku,isReadableStream:GM,isRequest:YM,isResponse:XM,isHeaders:ZM,isUndefined:_c,isDate:BM,isFile:HM,isBlob:zM,isRegExp:d_,isFunction:qs,isStream:WM,isURLSearchParams:KM,isTypedArray:i_,isFileList:UM,forEach:ld,merge:x0,extend:JM,trim:QM,stripBOM:e_,inherits:t_,toFlatObject:s_,kindOf:km,kindOfTest:zn,endsWith:n_,toArray:r_,forEachEntry:a_,matchAll:l_,isHTMLForm:o_,hasOwnProperty:Nb,hasOwnProp:Nb,reduceDescriptors:u4,freezeMethods:u_,toObjectSet:h_,toCamelCase:c_,noop:m_,toFiniteNumber:f_,findKey:c4,global:ua,isContextDefined:d4,isSpecCompliantForm:g_,toJSONObject:x_,isAsyncFn:p_,isThenable:y_,setImmediate:h4,asap:v_,isIterable:b_};function Re(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const m4=Re.prototype,f4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{f4[t]={value:t}});Object.defineProperties(Re,f4);Object.defineProperty(m4,"isAxiosError",{value:!0});Re.from=(t,e,n,r,i,a)=>{const l=Object.create(m4);return ee.toFlatObject(t,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Re.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const j_=null;function p0(t){return ee.isPlainObject(t)||ee.isArray(t)}function g4(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function kb(t,e,n){return t?t.concat(e).map(function(i,a){return i=g4(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function w_(t){return ee.isArray(t)&&!t.some(p0)}const N_=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Cm(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!ee.isUndefined(b[x])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ee.isDate(y))return y.toISOString();if(!c&&ee.isBlob(y))throw new Re("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(y)||ee.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,b){let v=y;if(y&&!b&&typeof y=="object"){if(ee.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(ee.isArray(y)&&w_(y)||(ee.isFileList(y)||ee.endsWith(x,"[]"))&&(v=ee.toArray(y)))return x=g4(x),v.forEach(function(j,N){!(ee.isUndefined(j)||j===null)&&e.append(l===!0?kb([x],N,a):l===null?x:x+"[]",d(j))}),!1}return p0(y)?!0:(e.append(kb(b,x,a),d(y)),!1)}const h=[],m=Object.assign(N_,{defaultVisitor:u,convertValue:d,isVisitable:p0});function g(y,x){if(!ee.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(y),ee.forEach(y,function(v,p){(!(ee.isUndefined(v)||v===null)&&i.call(e,v,ee.isString(p)?p.trim():p,x,m))===!0&&g(v,x?x.concat(p):[p])}),h.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Sb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Mp(t,e){this._pairs=[],t&&Cm(t,this,e)}const x4=Mp.prototype;x4.append=function(e,n){this._pairs.push([e,n])};x4.toString=function(e){const n=e?function(r){return e.call(this,r,Sb)}:Sb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function k_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p4(t,e,n){if(!e)return t;const r=n&&n.encode||k_;ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=ee.isURLSearchParams(e)?e.toString():new Mp(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class S_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tb=S_,y4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T_=typeof URLSearchParams<"u"?URLSearchParams:Mp,C_=typeof FormData<"u"?FormData:null,E_=typeof Blob<"u"?Blob:null,D_={isBrowser:!0,classes:{URLSearchParams:T_,FormData:C_,Blob:E_},protocols:["http","https","file","blob","url","data"]},_p=typeof window<"u"&&typeof document<"u",y0=typeof navigator=="object"&&navigator||void 0,P_=_p&&(!y0||["ReactNative","NativeScript","NS"].indexOf(y0.product)<0),M_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),__=_p&&window.location.href||"http://localhost",L_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_p,hasStandardBrowserEnv:P_,hasStandardBrowserWebWorkerEnv:M_,navigator:y0,origin:__},Symbol.toStringTag,{value:"Module"})),ys={...L_,...D_};function A_(t,e){return Cm(t,new ys.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return ys.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function R_(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I_(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function v4(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=n.length;return l=!l&&ee.isArray(i)?i.length:l,c?(ee.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!o):((!i[l]||!ee.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&ee.isArray(i[l])&&(i[l]=I_(i[l])),!o)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(R_(r),i,n,0)}),n}return null}function O_(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Lp={transitional:y4,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=ee.isObject(e);if(a&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(v4(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return A_(e,this.formSerializer).toString();if((o=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cm(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),O_(e)):e}],transformResponse:[function(e){const n=this.transitional||Lp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(l)throw o.name==="SyntaxError"?Re.from(o,Re.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ys.classes.FormData,Blob:ys.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{Lp.headers[t]={}});const Ap=Lp,F_=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V_=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&F_[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Cb=Symbol("internals");function bo(t){return t&&String(t).trim().toLowerCase()}function Su(t){return t===!1||t==null?t:ee.isArray(t)?t.map(Su):String(t)}function $_(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const B_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cf(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function H_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function z_(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}class Em{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(o,c,d){const u=bo(c);if(!u)throw new Error("header name must be a non-empty string");const h=ee.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Su(o))}const l=(o,c)=>ee.forEach(o,(d,u)=>a(d,u,c));if(ee.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ee.isString(e)&&(e=e.trim())&&!B_(e))l(V_(e),n);else if(ee.isObject(e)&&ee.isIterable(e)){let o={},c,d;for(const u of e){if(!ee.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?ee.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=bo(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return $_(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=bo(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Cf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=bo(l),l){const o=ee.findKey(r,l);o&&(!n||Cf(r,r[o],o,n))&&(delete r[o],i=!0)}}return ee.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Cf(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,a)=>{const l=ee.findKey(r,a);if(l){n[l]=Su(i),delete n[a];return}const o=e?H_(a):String(a).trim();o!==a&&delete n[a],n[o]=Su(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Cb]=this[Cb]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=bo(l);r[o]||(z_(i,l),r[o]=!0)}return ee.isArray(e)?e.forEach(a):a(e),this}}Em.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Em.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Em);const Fn=Em;function Ef(t,e){const n=this||Ap,r=e||n,i=Fn.from(r.headers);let a=r.data;return ee.forEach(t,function(o){a=o.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function b4(t){return!!(t&&t.__CANCEL__)}function to(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(to,Re,{__CANCEL__:!0});function j4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W_(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=r[a];l||(l=d),n[i]=c,r[i]=d;let h=a,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-l<e)return;const g=u&&d-u;return g?Math.round(m*1e3/g):void 0}}function q_(t,e){let n=0,r=1e3/e,i,a;const l=(d,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=r?l(d,u):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},r-h)))},()=>i&&l(i)]}const gh=(t,e,n=3)=>{let r=0;const i=W_(50,250);return q_(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-r,d=i(c),u=l<=o;r=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},Eb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Db=t=>(...e)=>ee.asap(()=>t(...e)),K_=ys.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ys.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ys.origin),ys.navigator&&/(msie|trident)/i.test(ys.navigator.userAgent)):()=>!0,G_=ys.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&l.push("path="+r),ee.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function w4(t,e,n){let r=!Y_(e);return t&&(r||n==!1)?X_(t,e):e}const Pb=t=>t instanceof Fn?{...t}:t;function Ea(t,e){e=e||{};const n={};function r(d,u,h,m){return ee.isPlainObject(d)&&ee.isPlainObject(u)?ee.merge.call({caseless:m},d,u):ee.isPlainObject(u)?ee.merge({},u):ee.isArray(u)?u.slice():u}function i(d,u,h,m){if(ee.isUndefined(u)){if(!ee.isUndefined(d))return r(void 0,d,h,m)}else return r(d,u,h,m)}function a(d,u){if(!ee.isUndefined(u))return r(void 0,u)}function l(d,u){if(ee.isUndefined(u)){if(!ee.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,h){if(h in e)return r(d,u);if(h in t)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>i(Pb(d),Pb(u),h,!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||i,m=h(t[u],e[u],u);ee.isUndefined(m)&&h!==o||(n[u]=m)}),n}const N4=t=>{const e=Ea({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=e;e.headers=l=Fn.from(l),e.url=p4(w4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(ee.isFormData(n)){if(ys.hasStandardBrowserEnv||ys.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ys.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&K_(e.url))){const d=i&&a&&G_.read(a);d&&l.set(i,d)}return e},Z_=typeof XMLHttpRequest<"u",Q_=Z_&&function(t){return new Promise(function(n,r){const i=N4(t);let a=i.data;const l=Fn.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,g,y;function x(){g&&g(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function v(){if(!b)return;const j=Fn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:t,request:b};j4(function(M){n(M),x()},function(M){r(M),x()},w),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new Re("Request aborted",Re.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||y4;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new Re(N,w.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&ee.forEach(l.toJSON(),function(N,w){b.setRequestHeader(w,N)}),ee.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),d&&([m,y]=gh(d,!0),b.addEventListener("progress",m)),c&&b.upload&&([h,g]=gh(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(u=j=>{b&&(r(!j||j.type?new to(null,t,b):j),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=U_(i.url);if(p&&ys.protocols.indexOf(p)===-1){r(new Re("Unsupported protocol "+p+":",Re.ERR_BAD_REQUEST,t));return}b.send(a||null)})},J_=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof Re?u:new to(u instanceof Error?u.message:u))}};let l=e&&setTimeout(()=>{l=null,a(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>ee.asap(o),c}},eL=J_,tL=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},sL=async function*(t,e){for await(const n of nL(t))yield*tL(n,e)},nL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Mb=(t,e,n,r)=>{const i=sL(t,e);let a=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){o(),c.close();return}let h=u.byteLength;if(n){let m=a+=h;n(m)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Dm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",k4=Dm&&typeof ReadableStream=="function",rL=Dm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),S4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},iL=k4&&S4(()=>{let t=!1;const e=new Request(ys.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_b=64*1024,v0=k4&&S4(()=>ee.isReadableStream(new Response("").body)),xh={stream:v0&&(t=>t.body)};Dm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xh[e]&&(xh[e]=ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})})})(new Response);const aL=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(ys.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await rL(t)).byteLength},lL=async(t,e)=>{const n=ee.toFiniteNumber(t.getContentLength());return n??aL(e)},oL=Dm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=N4(t);d=d?(d+"").toLowerCase():"text";let g=eL([i,a&&a.toAbortSignal()],l),y;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(c&&iL&&n!=="get"&&n!=="head"&&(b=await lL(u,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(ee.isFormData(r)&&(E=w.headers.get("content-type"))&&u.setContentType(E),w.body){const[M,k]=Eb(b,gh(Db(c)));r=Mb(w.body,_b,M,k)}}ee.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;y=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let p=await fetch(y);const j=v0&&(d==="stream"||d==="response");if(v0&&(o||j&&x)){const w={};["status","statusText","headers"].forEach(T=>{w[T]=p[T]});const E=ee.toFiniteNumber(p.headers.get("content-length")),[M,k]=o&&Eb(E,gh(Db(o),!0))||[];p=new Response(Mb(p.body,_b,M,()=>{k&&k(),x&&x()}),w)}d=d||"text";let N=await xh[ee.findKey(xh,d)||"text"](p,t);return!j&&x&&x(),await new Promise((w,E)=>{j4(w,E,{data:N,headers:Fn.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:y})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,y),{cause:v.cause||v}):Re.from(v,v&&v.code,t,y)}}),b0={http:j_,xhr:Q_,fetch:oL};ee.forEach(b0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Lb=t=>`- ${t}`,cL=t=>ee.isFunction(t)||t===null||t===!1,T4={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!cL(n)&&(r=b0[(l=String(n)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Lb).join(`
`):" "+Lb(a[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:b0};function Df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new to(null,t)}function Ab(t){return Df(t),t.headers=Fn.from(t.headers),t.data=Ef.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),T4.getAdapter(t.adapter||Ap.adapter)(t).then(function(r){return Df(t),r.data=Ef.call(t,t.transformResponse,r),r.headers=Fn.from(r.headers),r},function(r){return b4(r)||(Df(t),r&&r.response&&(r.response.data=Ef.call(t,t.transformResponse,r.response),r.response.headers=Fn.from(r.response.headers))),Promise.reject(r)})}const C4="1.9.0",Pm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Rb={};Pm.transitional=function(e,n,r){function i(a,l){return"[Axios v"+C4+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,o)=>{if(e===!1)throw new Re(i(l," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!Rb[l]&&(Rb[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,o):!0}};Pm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function dL(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const o=t[a],c=o===void 0||l(o,a,t);if(c!==!0)throw new Re("option "+a+" must be "+c,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}}const Tu={assertOptions:dL,validators:Pm},Gn=Tu.validators;class ph{constructor(e){this.defaults=e||{},this.interceptors={request:new Tb,response:new Tb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ea(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Tu.assertOptions(r,{silentJSONParsing:Gn.transitional(Gn.boolean),forcedJSONParsing:Gn.transitional(Gn.boolean),clarifyTimeoutError:Gn.transitional(Gn.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:Tu.assertOptions(i,{encode:Gn.function,serialize:Gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Tu.assertOptions(n,{baseUrl:Gn.spelling("baseURL"),withXsrfToken:Gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&ee.merge(a.common,a[n.method]);a&&ee.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=Fn.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,m;if(!c){const y=[Ab.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,d),m=y.length,u=Promise.resolve(n);h<m;)u=u.then(y[h++],y[h++]);return u}m=o.length;let g=n;for(h=0;h<m;){const y=o[h++],x=o[h++];try{g=y(g)}catch(b){x.call(this,b);break}}try{u=Ab.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Ea(this.defaults,e);const n=w4(e.baseURL,e.url,e.allowAbsoluteUrls);return p4(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){ph.prototype[e]=function(n,r){return this.request(Ea(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,o){return this.request(Ea(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ph.prototype[e]=n(),ph.prototype[e+"Form"]=n(!0)});const Cu=ph;class Rp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{r.subscribe(o),a=o}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,o){r.reason||(r.reason=new to(a,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Rp(function(i){e=i}),cancel:e}}}const uL=Rp;function hL(t){return function(n){return t.apply(null,n)}}function mL(t){return ee.isObject(t)&&t.isAxiosError===!0}const j0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(j0).forEach(([t,e])=>{j0[e]=t});const fL=j0;function E4(t){const e=new Cu(t),n=i4(Cu.prototype.request,e);return ee.extend(n,Cu.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return E4(Ea(t,i))},n}const Ut=E4(Ap);Ut.Axios=Cu;Ut.CanceledError=to;Ut.CancelToken=uL;Ut.isCancel=b4;Ut.VERSION=C4;Ut.toFormData=Cm;Ut.AxiosError=Re;Ut.Cancel=Ut.CanceledError;Ut.all=function(e){return Promise.all(e)};Ut.spread=hL;Ut.isAxiosError=mL;Ut.mergeConfig=Ea;Ut.AxiosHeaders=Fn;Ut.formToJSON=t=>v4(ee.isHTMLForm(t)?new FormData(t):t);Ut.getAdapter=T4.getAdapter;Ut.HttpStatusCode=fL;Ut.default=Ut;const Q=Ut,Yn="http://localhost:8080/api/auth";Q.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Ee={async register(t){var e;try{const n=await Q.post(`${Yn}/register`,{name:t.name,email:t.email,password:t.password,confirmPassword:t.confirmPassword,phone:t.phone,gender:t.gender,birthdate:t.birthdate,address:t.address||"",role:"CUSTOMER",status:"ACTIVE",avatar_url:t.avatar_url||null});return n.data.data.token&&(localStorage.setItem("token",n.data.data.token),localStorage.setItem("user",JSON.stringify(n.data.data))),n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async sendOtp(t){var e;try{return(await Q.post(`${Yn}/send-otp`,{email:t})).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async verifyOtp(t,e){var n;try{return(await Q.post(`${Yn}/verify-otp`,{email:t,otpCode:e})).data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async resendOtp(t){var e;try{return(await Q.post(`${Yn}/resend-otp`,{email:t})).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async login(t,e){var n;try{const r=await Q.post(`${Yn}/login`,{email:t,password:e});return r.data.data.token&&(localStorage.setItem("token",r.data.data.token),localStorage.setItem("user",JSON.stringify(r.data.data)),r.data.data.role==="DOCTOR"&&r.data.data.name&&localStorage.setItem("doctorName",`BS. ${r.data.data.name}`)),r.data}catch(r){throw((n=r.response)==null?void 0:n.data)||r.message}},async logout(){try{await Q.post(`${Yn}/logout`)}catch(t){console.error("Logout API error:",t)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("doctorName"),localStorage.removeItem("remember-me")}},getCurrentUser(){const t=localStorage.getItem("user");return t?JSON.parse(t):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){const t=this.getToken(),e=this.getCurrentUser();return!!(t&&e&&e.status==="ACTIVE")},getUserRole(){const t=this.getCurrentUser();return t?t.role:null},async getProfile(){var t;try{return(await Q.get(`${Yn}/profile`)).data.data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},async updateProfile(t){var e;try{const n=await Q.put(`${Yn}/profile`,{name:t.name,phone:t.phone,gender:t.gender,birthdate:t.birthdate,address:t.address||"",avatar_url:t.avatar_url||null});if(n.data.data){const i={...this.getCurrentUser(),...n.data.data};localStorage.setItem("user",JSON.stringify(i))}return n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async changePassword(t,e,n){var r;try{return(await Q.post(`${Yn}/change-password`,{currentPassword:t,newPassword:e,confirmNewPassword:n})).data}catch(i){throw((r=i.response)==null?void 0:r.data)||i.message}},async checkHealth(){var t;try{return(await Q.get(`${Yn}/health`)).data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},getUserRoleAndPath(){const t=this.getCurrentUser();if(!t)return{role:null,path:"/login"};switch(t.role){case"ADMIN":return{role:"ADMIN",path:"/admin/dashboard"};case"DOCTOR":return{role:"DOCTOR",path:"/doctor/dashboard"};case"STAFF":return{role:"STAFF",path:"/staff/dashboard"};case"MANAGER":return{role:"MANAGER",path:"/manager/dashboard"};case"CUSTOMER":return{role:"CUSTOMER",path:"/customer/dashboard"};default:return{role:"GUEST",path:"/login"}}}};function gL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const xL=f.forwardRef(gL),so=xL;function pL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const yL=f.forwardRef(pL),vL=yL;function bL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const jL=f.forwardRef(bL),An=jL;function wL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const NL=f.forwardRef(wL),kL=NL;function SL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const TL=f.forwardRef(SL),Ip=TL;function CL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const EL=f.forwardRef(CL),at=EL;function DL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const PL=f.forwardRef(DL),Lc=PL;function ML({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const _L=f.forwardRef(ML),D4=_L;function LL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const AL=f.forwardRef(LL),yl=AL;function RL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const IL=f.forwardRef(RL),OL=IL;function FL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const VL=f.forwardRef(FL),$L=VL;function BL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const HL=f.forwardRef(BL),Ie=HL;function zL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const UL=f.forwardRef(zL),w0=UL;function WL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const qL=f.forwardRef(WL),vl=qL;function KL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const GL=f.forwardRef(KL),bl=GL;function YL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const XL=f.forwardRef(YL),ZL=XL;function QL({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const JL=f.forwardRef(QL),ve=JL;function eA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const tA=f.forwardRef(eA),us=tA;function sA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const nA=f.forwardRef(sA),Lr=nA;function rA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const iA=f.forwardRef(rA),Ib=iA;function aA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lA=f.forwardRef(aA),Xe=lA;function oA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const cA=f.forwardRef(oA),Ds=cA;function dA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uA=f.forwardRef(dA),Tn=uA;function hA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const mA=f.forwardRef(hA),Mm=mA;function fA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const gA=f.forwardRef(fA),_m=gA;function xA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const pA=f.forwardRef(xA),Ki=pA;function yA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const vA=f.forwardRef(yA),Ob=vA;function bA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const jA=f.forwardRef(bA),Rn=jA;function wA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const NA=f.forwardRef(wA),li=NA;function kA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const SA=f.forwardRef(kA),TA=SA;function CA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const EA=f.forwardRef(CA),Ce=EA;function DA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const PA=f.forwardRef(DA),MA=PA;function _A({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const LA=f.forwardRef(_A),Rd=LA;function AA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const RA=f.forwardRef(AA),IA=RA;function OA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const FA=f.forwardRef(OA),N0=FA;function VA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $A=f.forwardRef(VA),Fb=$A;function BA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const HA=f.forwardRef(BA),k0=HA;function zA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const UA=f.forwardRef(zA),Ze=UA;function WA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const qA=f.forwardRef(WA),Lm=qA;function KA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const GA=f.forwardRef(KA),Di=GA;function YA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const XA=f.forwardRef(YA),ze=XA;function ZA({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const QA=f.forwardRef(ZA),JA=QA;function e8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const t8=f.forwardRef(e8),Ms=t8;function s8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const n8=f.forwardRef(s8),P4=n8;function r8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const i8=f.forwardRef(r8),a8=i8;function l8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const o8=f.forwardRef(l8),Vn=o8;function c8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const d8=f.forwardRef(c8),jo=d8;function u8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const h8=f.forwardRef(u8),m8=h8;function f8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const g8=f.forwardRef(f8),Pi=g8;function x8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const p8=f.forwardRef(x8),y8=p8;function v8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const b8=f.forwardRef(v8),S0=b8;function j8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const w8=f.forwardRef(j8),Un=w8;function N8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const k8=f.forwardRef(N8),Ll=k8;function S8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const T8=f.forwardRef(S8),Vb=T8;function C8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const E8=f.forwardRef(C8),D8=E8;function P8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const M8=f.forwardRef(P8),_8=M8;function L8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const A8=f.forwardRef(L8),od=A8;function R8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const I8=f.forwardRef(R8),Hn=I8;function O8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const F8=f.forwardRef(O8),cs=F8;function V8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const $8=f.forwardRef(V8),B8=$8;function H8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const z8=f.forwardRef(H8),Al=z8;function U8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const W8=f.forwardRef(U8),q8=W8;function K8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const G8=f.forwardRef(K8),Y8=G8;function X8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Z8=f.forwardRef(X8),Q8=Z8;function J8({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const eR=f.forwardRef(J8),tR=eR;function sR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const nR=f.forwardRef(sR),ur=nR;function rR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const iR=f.forwardRef(rR),vs=iR;function aR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const lR=f.forwardRef(aR),$r=lR;function oR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const cR=f.forwardRef(oR),dR=cR;function uR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const hR=f.forwardRef(uR),Be=hR;function mR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const fR=f.forwardRef(mR),Rl=fR;function gR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const xR=f.forwardRef(gR),no=xR;function pR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125Z"}))}const yR=f.forwardRef(pR),vR=yR;function bR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jR=f.forwardRef(bR),ir=jR;function wR({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const NR=f.forwardRef(wR),et=NR,se={GUEST:"GUEST",CUSTOMER:"CUSTOMER",STAFF:"STAFF",DOCTOR:"DOCTOR",MANAGER:"MANAGER",ADMIN:"ADMIN"},F=({children:t,variant:e="primary",size:n="md",className:r="",disabled:i=!1,type:a="button",onClick:l,ariaLabel:o,icon:c,iconPosition:d="left"})=>{const u="inline-flex items-center justify-center border font-medium rounded-lg transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 relative overflow-hidden",h={primary:"border-transparent text-white bg-primary-600 hover:bg-primary-700 focus:ring-primary-500 shadow-sm hover:shadow active:bg-primary-800",secondary:"border-transparent text-primary-700 bg-primary-100 hover:bg-primary-200 focus:ring-primary-500 shadow-sm hover:shadow active:bg-primary-300",outline:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 hover:text-primary-600 hover:border-primary-300 focus:ring-primary-500 shadow-sm hover:shadow active:bg-gray-100",danger:"border-transparent text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow active:bg-red-800",success:"border-transparent text-white bg-green-600 hover:bg-green-700 focus:ring-green-500 shadow-sm hover:shadow active:bg-green-800",warning:"border-transparent text-white bg-amber-500 hover:bg-amber-600 focus:ring-amber-500 shadow-sm hover:shadow active:bg-amber-700",subtle:"border-transparent text-gray-700 bg-gray-100 hover:bg-gray-200 focus:ring-gray-500 active:bg-gray-300",text:"border-transparent text-primary-600 bg-transparent hover:bg-primary-50 hover:text-primary-700 focus:ring-primary-500"},m={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},g=i?"opacity-60 cursor-not-allowed":'cursor-pointer after:content-[""] after:absolute after:inset-0 after:bg-white after:opacity-0 hover:after:opacity-10 active:after:opacity-20 after:transition-opacity',y=c?d==="left"?"mr-2":"ml-2 order-2":"",x=`${u} ${h[e]} ${m[n]} ${g} ${r}`;return s.jsxs("button",{type:a,className:x,disabled:i,onClick:l,"aria-label":o||void 0,"aria-disabled":i,children:[c&&d==="left"&&s.jsx("span",{className:y,children:c}),s.jsx("span",{className:c&&d==="right"?"order-1":"",children:t}),c&&d==="right"&&s.jsx("span",{className:y,children:c}),s.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-lg",children:s.jsx("span",{className:"ripple-effect"})})]})},$b=({isMobile:t=!1})=>{const[e,n]=f.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button",className:`
          ${t?"-mx-3 flex w-full items-center rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50 px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors duration-150 ease-in-out"}
        `,onClick:()=>n(!0),"aria-label":"H tr v tr gip",children:[s.jsx(B8,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),s.jsx("span",{children:"H tr"})]}),s.jsx(ut,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",open:e,onClose:()=>n(!1),children:s.jsxs("div",{className:"min-h-screen px-4 text-center",children:[s.jsx(ut.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),s.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:""}),s.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s.jsx("span",{children:"H tr v tr gip"})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:s.jsx("span",{children:"Chng ti lun sn sng h tr bn. Vui lng chn mt trong cc ty chn di y:"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{type:"button",className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 focus:outline-none focus-visible:ring focus-visible:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),s.jsx("span",{children:"Chat vi nhn vin h tr"})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 focus:outline-none focus-visible:ring focus-visible:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("span",{children:"Gi ng dy nng (24/7)"})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 focus:outline-none focus-visible:ring focus-visible:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("span",{children:"Gi email cho chng ti"})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 focus:outline-none focus-visible:ring focus-visible:ring-primary-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"Cu hi thng gp"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s.jsx("span",{children:"ng dy nng h tr tm l:"})}),s.jsx("p",{className:"text-base font-medium text-primary-600",children:s.jsx("span",{children:"1800-1234"})}),s.jsx("p",{className:"text-xs text-gray-500",children:s.jsx("span",{children:"Min ph, hot ng 24/7, bo mt thng tin"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx(F,{type:"button",variant:"subtle",onClick:()=>n(!1),children:s.jsx("span",{children:"ng"})})})]})]})})]})},M4=({isOpen:t,onClose:e})=>{var k;const[n,r]=f.useState(null),[i,a]=f.useState(!1),[l,o]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,g]=f.useState(!1),[y,x]=f.useState({name:"",phone:"",birthdate:"",address:"",gender:""});f.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{a(!0),d("");const T=await Ee.getProfile();r(T),x({name:T.name||"",phone:T.phone||"",birthdate:T.birthdate||"",address:T.address||"",gender:T.gender||""})}catch(T){d("Khng th ti thng tin profile: "+T.message)}finally{a(!1)}},v=T=>{const{name:S,value:P}=T.target;x(C=>({...C,[S]:P}))},p=async T=>{T.preventDefault(),o(!0),d(""),h("");try{const S=await Ee.updateProfile(y);r(S),h("Cp nht thng tin thnh cng!"),g(!1),setTimeout(()=>h(""),3e3)}catch(S){d("Khng th cp nht profile: "+S.message)}finally{o(!1)}},j=()=>{x({name:(n==null?void 0:n.name)||"",phone:(n==null?void 0:n.phone)||"",birthdate:(n==null?void 0:n.birthdate)||"",address:(n==null?void 0:n.address)||"",gender:(n==null?void 0:n.gender)||""}),g(!1),d(""),h("")},N=()=>{g(!1),d(""),h(""),e()},w=T=>T?new Date(T).toLocaleDateString("vi-VN"):"Cha cp nht",E=T=>T?T==="MALE"?"Nam":T==="FEMALE"?"N":"Khc":"Cha cp nht",M=T=>({ADMIN:"Qun tr vin",MANAGER:"Qun l",STAFF:"Nhn vin",DOCTOR:"Bc s",CUSTOMER:"Khch hng",GUEST:"Khch"})[T]||T;return s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:N,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-white bg-opacity-20 flex items-center justify-center",children:s.jsx(Be,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium text-white",children:"Thng tin c nhn"}),s.jsx("p",{className:"text-primary-100 text-sm",children:n?`${M(n.role)}  ID: ${n.id}`:"ang ti..."})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!m&&!i&&s.jsx("button",{onClick:()=>g(!0),className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors duration-200",title:"Chnh sa",children:s.jsx(od,{className:"h-5 w-5"})}),s.jsx("button",{onClick:N,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors duration-200",children:s.jsx(et,{className:"h-5 w-5"})})]})]})}),s.jsx("div",{className:"px-6 py-6 max-h-96 overflow-y-auto",children:i?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti thng tin..."})]}):s.jsxs(s.Fragment,{children:[c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-sm",children:c})}),u&&s.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[s.jsx(Ds,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("p",{className:"text-green-600 text-sm",children:u})]}),m?s.jsx("form",{onSubmit:p,className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn"}),s.jsx("input",{type:"text",name:"name",value:y.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nhp h v tn"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (khng th thay i)"}),s.jsx("input",{type:"email",value:n==null?void 0:n.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi"}),s.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nhp s in thoi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy sinh"}),s.jsx("input",{type:"date",name:"birthdate",value:y.birthdate,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gii tnh"}),s.jsxs("select",{name:"gender",value:y.gender,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Chn gii tnh"}),s.jsx("option",{value:"MALE",children:"Nam"}),s.jsx("option",{value:"FEMALE",children:"N"}),s.jsx("option",{value:"OTHER",children:"Khc"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr (khng th thay i)"}),s.jsx("input",{type:"text",value:M(n==null?void 0:n.role),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"a ch"}),s.jsx("textarea",{name:"address",value:y.address,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nhp a ch"})]})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-xl",children:((k=n==null?void 0:n.name)==null?void 0:k.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:(n==null?void 0:n.name)||"Cha cp nht"}),s.jsx("p",{className:"text-gray-600",children:n==null?void 0:n.email}),s.jsx("p",{className:"text-sm text-primary-600 font-medium",children:M(n==null?void 0:n.role)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"S in thoi"}),s.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.phone)||"Cha cp nht"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Ngy sinh"}),s.jsx("p",{className:"text-gray-900",children:w(n==null?void 0:n.birthdate)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Gii tnh"}),s.jsx("p",{className:"text-gray-900",children:E(n==null?void 0:n.gender)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vai tr"}),s.jsx("p",{className:"text-gray-900",children:M(n==null?void 0:n.role)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Trng thi"}),s.jsx("p",{className:`text-gray-900 ${(n==null?void 0:n.status)==="ACTIVE"?"text-green-600":"text-red-600"}`,children:(n==null?void 0:n.status)==="ACTIVE"?"ang hot ng":" kha"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"a ch"}),s.jsx("p",{className:"text-gray-900",children:(n==null?void 0:n.address)||"Cha cp nht"})]})]})]})]})}),m&&!i&&s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Hy"}),s.jsx("button",{onClick:p,disabled:l,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors duration-200 flex items-center",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang cp nht..."]}):"Lu thay i"})]})]})})})})]})})},kR=({item:t,isActive:e})=>{const[n,r]=f.useState(!1);return s.jsx(kf,{className:"relative",children:({open:i})=>s.jsxs(s.Fragment,{children:[s.jsxs(kf.Button,{className:`flex items-center px-3 py-2 rounded-md transition-colors duration-150 ease-in-out text-sm font-medium ${e?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!n),children:[t.icon&&s.jsx(t.icon,{className:"h-4 w-4 mr-1.5 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{children:t.name}),s.jsx(Tn,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${n?"rotate-180":""}`,"aria-hidden":"true"})]}),s.jsx(Vt,{show:n,as:f.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:s.jsxs(kf.Panel,{className:"absolute z-50 mt-1 w-80 rounded-lg bg-white shadow-2xl ring-1 ring-black ring-opacity-10 border border-gray-200 focus:outline-none",style:{zIndex:9999,position:"absolute",top:"100%",left:"0",transform:"translateY(0)"},children:[s.jsx("div",{className:"py-3",children:t.submenu&&t.submenu.map(a=>s.jsxs(ue,{to:a.href,className:"flex items-center px-5 py-4 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700 transition-all duration-200 group",onClick:()=>r(!1),children:[a.icon&&s.jsx("div",{className:"p-2 bg-gray-100 rounded-lg mr-4 group-hover:bg-primary-100 transition-colors duration-200",children:s.jsx(a.icon,{className:"h-5 w-5 text-gray-500 group-hover:text-primary-600","aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-primary-700",children:a.name}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1 group-hover:text-primary-600",children:[a.name==="Lch hn"&&"t lch v qun l cuc hn vi bc s",a.name==="Tra cu thng tin xt nghim"&&"Xem kt qu v theo di tin trin iu tr",a.name==="Thuc iu tr"&&"Qun l thuc ARV v lch ung thuc"]})]}),s.jsx(Tn,{className:"h-4 w-4 text-gray-400 rotate-[-90deg] group-hover:text-primary-500"})]},a.name))}),s.jsx("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-100 rounded-b-lg",children:s.jsx("p",{className:"text-xs text-gray-600 text-center",children:" Tip: S dng cc dch v  theo di sc khe hiu qu"})})]})})]})})},SR=({currentRole:t,userName:e="",hasNotifications:n=!1})=>{var k,T;const[r,i]=f.useState(!1),[a,l]=f.useState(null),[o,c]=f.useState(!1),d=ks(),u=hs();d.pathname,f.useEffect(()=>{const S=Ee.getCurrentUser();l(S)},[]);const h=async()=>{try{await Ee.logout(),l(null),u("/login",{replace:!0})}catch(S){console.error("Logout error:",S),u("/login",{replace:!0})}},m=S=>{switch(S){case"CUSTOMER":return"Bnh nhn";case"DOCTOR":return"Bc s";case"STAFF":return"Nhn vin";case"MANAGER":return"Qun l";case"ADMIN":return"Qun tr vin";default:return S}},g=t===se.GUEST||t===se.CUSTOMER,x=(S=>{switch(S){case se.CUSTOMER:return"/customer/dashboard";case se.STAFF:return"/staff/dashboard";case se.DOCTOR:return"/doctor/dashboard";case se.MANAGER:return"/manager/dashboard";case se.ADMIN:return"/admin/dashboard";case se.GUEST:default:return"/"}})(t),[b,v]=f.useState([{id:"1",title:"Nhc nh lch hn",message:"Bn c mt cuc hn mi c ln lch vo ngy mai lc 10:00 sng",time:"1 gi trc",read:!1},{id:"2",title:"Kt qu xt nghim  c",message:"Kt qu xt nghim gn y ca bn  c sn  xem",time:"2 gi trc",read:!1},{id:"3",title:"Np li thuc",message:"Yu cu np li thuc ca bn  c chp nhn",time:"1 ngy trc",read:!0}]),p=S=>{v(b.map(P=>P.id===S?{...P,read:!0}:P))},j=()=>{v(b.map(S=>({...S,read:!0})))},N=b.filter(S=>!S.read).length,E=(S=>{switch(S){case se.CUSTOMER:return[{name:"Trang ch",href:"/customer/dashboard",icon:jo},{name:"t lch hn",href:"/customer/appointment-selection",icon:ve},{name:"Tra cu thng tin xt nghim",href:"/customer/test-results",icon:Ie},{name:"Lch ung thuc",href:"/customer/medications",icon:Rn},{name:"Ti liu gio dc",href:"/customer/resources",icon:bl}];case se.STAFF:return[{name:"Trang ch",href:"/staff/dashboard",icon:jo},{name:"Qun l bnh nhn",href:"/staff/patients",icon:Be},{name:"Lch hn",href:"/staff/appointments",icon:ve},{name:"Yu cu xt nghim",href:"/staff/lab-requests",icon:Ie},{name:"Kt qu xt nghim",href:"/staff/test-results",icon:Ob}];case se.DOCTOR:return[{name:"Trang Ch",href:"/doctor/dashboard",icon:Ob},{name:"Bnh nhn",href:"/doctor/patients",icon:Be},{name:"Lch hn",href:"/doctor/appointments",icon:ve},{name:"Lch lm vic",href:"/doctor/calendar",icon:Rn},{name:"K hoch iu tr",href:"/doctor/treatment-plans",icon:Rn},{name:"Kt qu xt nghim",href:"/doctor/test-results",icon:Ie}];case se.MANAGER:return[{name:"Trang ch",href:"/manager/dashboard",icon:jo},{name:"Qun l nhn vin",href:"/manager/staff",icon:$r},{name:"Qun l bc s",href:"/manager/doctors",icon:so},{name:"Bo co",href:"/manager/reports",icon:Rn},{name:"Phn tch d liu",href:"/manager/analytics",icon:us},{name:"Qun l ni dung",href:"/manager/content",icon:bl},{name:"Lch bc s",href:"/manager/doctor-schedule",icon:ve}];case se.ADMIN:return[{name:"Trang ch",href:"/admin/dashboard",icon:jo},{name:"Qun l ti khon",href:"/admin/users",icon:Rl},{name:"Qun l d liu",href:"/admin/data-management",icon:k0},{name:"Thng k",href:"/admin/statistics",icon:us}];case se.GUEST:default:return[{name:"Trang ch",href:"/",icon:jo},{name:"Gii thiu",href:"/about",icon:Ze},{name:"i ng bc s",href:"/doctors",icon:$r},{name:"Lch khm",href:"/schedule",icon:ve},{name:"Dch v",href:"/services",icon:Vn},{name:"Ti liu gio dc",href:"/resources",icon:bl},{name:"Lin h",href:"/contact",icon:Lr}]}})(t||se.GUEST),M=S=>S==="/"?d.pathname==="/":d.pathname.startsWith(S);return s.jsxs("header",{className:"bg-white shadow-sm",children:[s.jsxs("nav",{className:"mx-auto max-w-[1400px] flex items-center justify-between p-2 lg:px-4","aria-label":"Global",children:[s.jsx("div",{className:"flex lg:flex-none lg:w-[280px] lg:max-w-[280px] lg:overflow-hidden",children:s.jsxs(ue,{to:x,className:"-m-1.5 p-1.5 flex items-center",children:[s.jsx(Vn,{className:"h-6 w-6 text-primary-600 mr-1 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{className:"text-sm font-semibold text-primary-600 whitespace-nowrap truncate",children:"H Thng Y T V iu Tr HIV"})]})}),s.jsx("div",{className:"flex lg:hidden",children:s.jsxs("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700",onClick:()=>i(!0),children:[s.jsx("span",{className:"sr-only",children:"M menu"}),s.jsx($L,{className:"h-6 w-6","aria-hidden":"true"})]})}),s.jsxs("div",{className:"hidden lg:flex lg:gap-x-0.5 lg:items-center lg:flex-grow lg:justify-center lg:ml-4",children:[E.map(S=>S.submenu?s.jsx(kR,{item:S,isActive:S.submenu.some(P=>M(P.href))},S.name):s.jsxs(ue,{to:S.href,className:`text-xs font-medium leading-6 flex items-center px-2 py-1.5 rounded-md transition-colors duration-150 ease-in-out ${M(S.href)?"text-white bg-primary-600":"text-gray-700 hover:text-white hover:bg-primary-600"}`,"aria-current":M(S.href)?"page":void 0,children:[S.icon&&s.jsx(S.icon,{className:`h-4 w-4 mr-1 flex-shrink-0 ${M(S.href)?"text-white":"text-gray-500 group-hover:text-white"}`,"aria-hidden":"true"}),s.jsx("span",{children:S.name})]},S.name)),g&&s.jsx($b,{})]}),s.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-x-1 lg:ml-2 lg:min-w-[160px] lg:justify-end",children:t===se.GUEST?s.jsx(ue,{to:"/login",className:"text-xs font-semibold leading-6 text-gray-900 hover:text-primary-600 transition-colors duration-150 ease-in-out flex items-center px-2 py-1",children:s.jsx("span",{children:"ng nhp"})}):s.jsxs("div",{className:"flex items-center gap-x-2",children:[s.jsxs(Kn,{as:"div",className:"relative",children:[s.jsxs(Kn.Button,{className:"relative text-gray-600 hover:text-primary-600 p-1 rounded-full hover:bg-gray-100 transition-colors duration-150",children:[s.jsx(vl,{className:"h-5 w-5","aria-hidden":"true"}),N>0&&s.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-600"})]}),s.jsx(Vt,{as:f.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(Kn.Items,{className:"absolute right-0 z-50 mt-2 w-80 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none pointer-events-auto",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Thng bo"}),N>0&&s.jsx("button",{onClick:j,className:"text-xs text-primary-600 hover:text-primary-800",children:s.jsx("span",{children:"nh du tt c  c"})})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:b.length>0?b.map(S=>s.jsx(Kn.Item,{children:({active:P})=>s.jsxs("div",{className:`px-4 py-3 ${P?"bg-gray-50":""} ${S.read?"":"bg-primary-50"}`,onClick:()=>p(S.id),children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.jsx("span",{children:S.title})}),s.jsx("p",{className:"text-xs text-gray-500",children:s.jsx("span",{children:S.time})})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.jsx("span",{children:S.message})})]})},S.id)):s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:s.jsx("span",{children:"Khng c thng bo mi"})})}),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:s.jsx(ue,{to:"/notifications",className:"text-xs text-primary-600 hover:text-primary-800",children:s.jsx("span",{children:"Xem tt c thng bo"})})})]})})]}),s.jsxs(Kn,{as:"div",className:"relative",children:[s.jsxs(Kn.Button,{className:"flex items-center space-x-3 text-left hover:bg-gray-50 rounded-lg px-3 py-2 transition-colors duration-200 focus:outline-none",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:((k=a==null?void 0:a.name)==null?void 0:k.charAt(0).toUpperCase())||(e==null?void 0:e.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.name)||e||"Ngi dng"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[a?m(a.role):"Khch","  ID: ",(a==null?void 0:a.id)||"N/A"]})]}),s.jsx(Tn,{className:"h-4 w-4 text-gray-400","aria-hidden":"true"})]}),s.jsx(Vt,{as:f.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(Kn.Items,{className:"absolute right-0 z-50 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 focus:outline-none pointer-events-auto",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-lg",children:((T=a==null?void 0:a.name)==null?void 0:T.charAt(0).toUpperCase())||(e==null?void 0:e.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(a==null?void 0:a.name)||e||"Ngi dng"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.email)||"email@example.com"}),s.jsxs("p",{className:"text-xs text-primary-600 font-medium",children:[a?m(a.role):"Khch","  ID: ",(a==null?void 0:a.id)||"N/A"]})]})]})}),s.jsxs("div",{className:"py-1",children:[s.jsx(Kn.Item,{children:({active:S})=>s.jsxs("button",{type:"button",onClick:()=>c(!0),className:`flex items-center w-full px-4 py-2 text-sm ${S?"bg-gray-100 text-primary-600":"text-gray-700"} transition-colors duration-200 cursor-pointer z-50`,children:[s.jsx(Be,{className:"w-4 h-4 mr-3 text-gray-400"}),"Thng tin c nhn"]})}),s.jsx(Kn.Item,{children:({active:S})=>s.jsxs(ue,{to:"/notifications",className:`flex items-center w-full px-4 py-2 text-sm ${S?"bg-gray-100 text-primary-600":"text-gray-700"} transition-colors duration-200 cursor-pointer z-50`,children:[s.jsx(vl,{className:"w-4 h-4 mr-3 text-gray-400"}),"Thng bo"]})}),s.jsx("div",{className:"border-t border-gray-100 my-1"}),s.jsx(Kn.Item,{children:({active:S})=>s.jsxs("button",{type:"button",onClick:h,className:`flex items-center w-full px-4 py-2 text-sm ${S?"bg-red-50 text-red-600":"text-red-600"} transition-colors duration-200 cursor-pointer z-50`,children:[s.jsx(kL,{className:"w-4 h-4 mr-3 text-red-500"}),"ng xut"]})})]})]})})]})]})})]}),o&&s.jsx(M4,{isOpen:o,onClose:()=>{console.log("Closing profile modal"),c(!1)}}),s.jsxs(ut,{as:"div",className:"lg:hidden",open:r,onClose:i,id:"mobile-menu",children:[s.jsx("div",{className:"fixed inset-0 z-10"}),s.jsxs(ut.Panel,{className:"fixed inset-y-0 right-0 z-10 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ue,{to:x,className:"-m-1.5 p-1.5 flex items-center",onClick:()=>i(!1),children:[s.jsx(Vn,{className:"h-6 w-6 text-primary-600 mr-2","aria-hidden":"true"}),s.jsx("span",{className:"text-sm font-semibold text-primary-600",children:"H Thng Dch V Y T V iu Tr HIV"})]}),s.jsxs("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-gray-700",onClick:()=>i(!1),"aria-label":"ng menu",children:[s.jsx("span",{className:"sr-only",children:"ng menu"}),s.jsx(et,{className:"h-6 w-6","aria-hidden":"true"})]})]}),s.jsx("div",{className:"mt-6 flow-root",children:s.jsxs("div",{className:"-my-6 divide-y divide-gray-500/10",children:[s.jsx("div",{className:"space-y-2 py-6",children:E.map(S=>s.jsxs("div",{children:[S.submenu?s.jsxs("div",{className:`-mx-3 flex items-center rounded-lg px-3 py-2 text-base font-semibold leading-7 ${S.submenu.some(P=>M(P.href))?"bg-primary-50 text-primary-600":"text-gray-900"}`,children:[S.icon&&s.jsx(S.icon,{className:"h-6 w-6 mr-3 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{children:S.name})]}):s.jsxs(ue,{to:S.href,className:`-mx-3 flex items-center rounded-lg px-3 py-2 text-base font-semibold leading-7 ${M(S.href)?"bg-primary-50 text-primary-600":"text-gray-900 hover:bg-gray-50"}`,onClick:()=>i(!1),children:[S.icon&&s.jsx(S.icon,{className:"h-6 w-6 mr-3 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{children:S.name})]}),S.submenu&&s.jsx("div",{className:"ml-6 mt-2 space-y-1",children:S.submenu.map(P=>s.jsxs(ue,{to:P.href,className:`flex items-center px-3 py-2 text-sm rounded-md ${M(P.href)?"text-primary-600 bg-primary-50 font-medium":"text-gray-600 hover:text-primary-600 hover:bg-gray-50"}`,onClick:()=>i(!1),children:[P.icon&&s.jsx(P.icon,{className:"h-4 w-4 mr-2 flex-shrink-0","aria-hidden":"true"}),P.name]},P.name))})]},S.name))}),g&&s.jsx("div",{className:"py-6",children:s.jsx($b,{isMobile:!0})}),t!==se.GUEST&&s.jsxs("div",{className:"py-6",children:[s.jsx("button",{onClick:()=>{c(!0),i(!1)},className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 w-full text-left",children:s.jsx("span",{children:"H s c nhn"})}),s.jsx(ue,{to:"/notifications",className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50",onClick:()=>i(!1),children:s.jsx("span",{children:"Thng bo"})}),s.jsx("button",{onClick:()=>{h(),i(!1)},className:"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-red-600 hover:bg-red-50 w-full text-left",children:s.jsx("span",{children:"ng xut"})})]}),t===se.GUEST&&s.jsxs("div",{className:"py-6",children:[s.jsx(ue,{to:"/login",className:"-mx-3 block rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50",onClick:()=>i(!1),children:s.jsx("span",{children:"ng nhp"})}),s.jsx(ue,{to:"/register",className:"-mx-3 block rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50",onClick:()=>i(!1),children:s.jsx("span",{children:"ng k"})})]})]})})]})]})]})},TR=()=>{const t=new Date().getFullYear();return s.jsx("footer",{className:"bg-white border-t border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 tracking-wider uppercase",children:s.jsx("span",{children:"V chng ti"})}),s.jsxs("ul",{className:"mt-4 space-y-2",children:[s.jsx("li",{children:s.jsx(ue,{to:"/about",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Gii thiu"})})}),s.jsx("li",{children:s.jsx(ue,{to:"/contact",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Lin h"})})}),s.jsx("li",{children:s.jsx(ue,{to:"/services",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Dch v"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 tracking-wider uppercase",children:s.jsx("span",{children:"Ti nguyn"})}),s.jsxs("ul",{className:"mt-4 space-y-2",children:[s.jsx("li",{children:s.jsx(ue,{to:"/resources",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Ti liu"})})}),s.jsx("li",{children:s.jsx(ue,{to:"/blog",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Blog"})})}),s.jsx("li",{children:s.jsx(ue,{to:"/faq",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"FAQ"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 tracking-wider uppercase",children:s.jsx("span",{children:"Php l"})}),s.jsxs("ul",{className:"mt-4 space-y-2",children:[s.jsx("li",{children:s.jsx(ue,{to:"/privacy",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"Chnh sch bo mt"})})}),s.jsx("li",{children:s.jsx(ue,{to:"/terms",className:"text-sm text-gray-500 hover:text-primary-600",children:s.jsx("span",{children:"iu khon s dng"})})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-600 tracking-wider uppercase",children:s.jsx("span",{children:"Lin h"})}),s.jsxs("ul",{className:"mt-4 space-y-2",children:[s.jsxs("li",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:s.jsx("span",{children:"a ch:"})})," ",s.jsx("span",{children:"123 ng ABC, Qun 1, TP.HCM"})]}),s.jsxs("li",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:s.jsx("span",{children:"Email:"})})," ",s.jsx("span",{children:"info@hivtreatment.vn"})]}),s.jsxs("li",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:s.jsx("span",{children:"Hotline:"})})," ",s.jsx("span",{children:"(028) 1234 5678"})]})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex space-x-6 md:order-2",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:[s.jsx("span",{className:"sr-only",children:"Instagram"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:[s.jsx("span",{className:"sr-only",children:"YouTube"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z",clipRule:"evenodd"})})]})]}),s.jsx("p",{className:"mt-8 text-sm text-gray-500 md:mt-0 md:order-1",children:s.jsxs("span",{children:[" ",t," H thng iu tr HIV. Bo lu mi quyn."]})})]})]})})},G=({children:t,className:e="",title:n,subtitle:r,footer:i,noPadding:a=!1,variant:l="default",onClick:o,role:c,ariaLabel:d,icon:u,actionButton:h,hoverEffect:m=!0})=>{const g="bg-white rounded-lg overflow-hidden transition-all duration-300",y={default:"shadow-sm",elevated:"shadow-md",bordered:"border border-gray-200",soft:"bg-gray-50 shadow-sm",primary:"bg-primary-50 border border-primary-100",success:"bg-green-50 border border-green-100",warning:"bg-yellow-50 border border-yellow-100",danger:"bg-red-50 border border-red-100"},x=m?"group hover:shadow-lg hover:-translate-y-1":"",b=o?"cursor-pointer":"";return s.jsxs("div",{className:`${g} ${y[l]} ${b} ${x} ${e}`,onClick:o,role:c||(o?"button":void 0),"aria-label":d,children:[(n||r||u)&&s.jsxs("div",{className:"px-5 py-4 sm:px-6 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[u&&s.jsx("div",{className:"mr-3 p-2 rounded-full bg-primary-100 text-primary-600 group-hover:bg-primary-200 transition-colors duration-300",children:u}),s.jsxs("div",{children:[n&&s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 group-hover:text-primary-700 transition-colors duration-300",children:n}),r&&s.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:r})]})]}),h&&s.jsx("div",{children:h})]}),s.jsx("div",{className:a?"":"px-5 py-5 sm:p-6",children:t}),i&&s.jsx("div",{className:"px-5 py-4 sm:px-6 bg-gray-50 border-t border-gray-200",children:i})]})},_4=({isOpen:t,onClose:e,userRole:n="guest",userName:r="Khch",staffName:i="Nhn vin h tr",existingMessages:a=[],sessionId:l=null,onNewMessage:o=null})=>{const[c,d]=f.useState([]),[u,h]=f.useState(""),[m,g]=f.useState(!1),[y,x]=f.useState("connecting");f.useState(null);const b=f.useRef(null),v=f.useRef(null);f.useEffect(()=>{if(t){if(a&&a.length>0)d(a);else if(c.length===0){const P=j();d(P)}setTimeout(()=>{x("connected")},1500)}},[t,a]),f.useEffect(()=>{p()},[c]);const p=()=>{var P;(P=b.current)==null||P.scrollIntoView({behavior:"smooth"})},j=()=>{const P=new Date;return n==="staff"?[{id:1,text:"Cho bn! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:P,status:"sent",staffName:i}]:n==="guest"?[{id:1,text:`Xin cho! Ti l ${i}. Cho mng bn n vi dch v h tr trc tuyn ca chng ti.`,sender:"staff",timestamp:P,status:"sent",staffName:i},{id:2,text:"Bn c th chat n danh vi chng ti  c t vn v cc dch v, t lch hn, hoc gii p thc mc. Mi thng tin s c bo mt tuyt i.",sender:"staff",timestamp:new Date(P.getTime()+1e3),status:"sent",staffName:i},{id:3,text:"Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(P.getTime()+2e3),status:"sent",staffName:i}]:[{id:1,text:`Xin cho ${r}! Ti l ${i}. Ti c th h tr g cho bn hm nay?`,sender:"staff",timestamp:P,status:"sent",staffName:i}]},N=()=>{if(!u.trim())return;const P={id:c.length+1,text:u,sender:n==="staff"?"staff":"user",timestamp:new Date,status:"sending",staffName:n==="staff"?"Nhn vin hin ti":void 0,customerName:n!=="staff"?r:void 0},C=[...c,P];d(C),h(""),setTimeout(()=>{d(A=>A.map(I=>I.id===P.id?{...I,status:"sent"}:I))},500),o&&l&&o(l,{...P,status:"sent"}),n!=="staff"&&(g(!0),setTimeout(()=>{g(!1);const A=w(u),I={id:C.length+1,text:A,sender:"staff",timestamp:new Date,status:"sent",staffName:i};d(V=>[...V,I]),o&&l&&o(l,I)},2e3))},w=P=>{const C={appointment:['Ti c th gip bn t lch hn. Bn c th xem lch khm ca cc bc s ti trang "Lch khm" hoc trang "i ng bc s".'," t lch hn, bn cn ng nhp hoc ng k ti khon. Ti c th hng dn bn quy trnh ny.","Bn c th xem thi gian c sn ca cc bc s m khng cn ng nhp. Bn mun ti hng dn khng?"],test:["V kt qu xt nghim, bn cn ng nhp  xem kt qu c nhn. Ti c th gii thch v cc loi xt nghim chng ti cung cp.","Kt qu xt nghim thng c sn trong 2-3 ngy lm vic. Bn s nhn c thng bo khi c kt qu.","Ti c th gip bn hiu v quy trnh xt nghim v cc ch s c bn."],medication:["V thuc iu tr ARV, ti c th cung cp thng tin tng quan.  c t vn c th, bn nn t lch hn vi bc s.","Chng ti c i ng bc s chuyn khoa c th t vn v phc  iu tr ph hp.",'Bn c th tm hiu v cc loi thuc ARV trong mc "Ti liu gio dc" ca chng ti.'],services:["Chng ti cung cp dch v chm sc HIV ton din bao gm: t vn, xt nghim, iu tr ARV, v h tr tm l.",'Bn c th xem chi tit cc dch v ti trang "Dch v" hoc ti c th gii thch c th v dch v no bn quan tm.',"Tt c dch v ca chng ti u m bo bo mt tuyt i v c thc hin bi i ng chuyn gia."],doctors:['Chng ti c i ng bc s chuyn khoa giu kinh nghim. Bn c th xem thng tin chi tit ti trang "i ng bc s".',"Cc bc s ca chng ti chuyn v nhim trng, ni khoa, tm l v sn ph khoa. Bn quan tm n chuyn khoa no?",'Bn c th xem lch lm vic v t lch hn vi bc s ph hp ti trang "Lch khm".'],privacy:["Chng ti cam kt bo mt tuyt i thng tin c nhn v y t ca bn theo tiu chun quc t.","Cuc tr chuyn ny hon ton n danh v bo mt. Chng ti khng lu tr thng tin c nhn no.","Mi d liu y t c m ha v ch c bc s iu tr mi c quyn truy cp."],general:["Ti hiu mi quan tm ca bn. Bn c th chia s thm chi tit  ti h tr tt hn khng?","Cm n bn  lin h. Ti s c gng h tr bn tt nht c th.","Nu cn h tr khn cp, bn c th gi ng dy nng: 1900-1234 (24/7)"]},A=P.toLowerCase();return A.includes("lch hn")||A.includes("t lch")||A.includes("appointment")?C.appointment[Math.floor(Math.random()*C.appointment.length)]:A.includes("xt nghim")||A.includes("kt qu")||A.includes("test")?C.test[Math.floor(Math.random()*C.test.length)]:A.includes("thuc")||A.includes("medication")||A.includes("ung")||A.includes("arv")?C.medication[Math.floor(Math.random()*C.medication.length)]:A.includes("dch v")||A.includes("service")||A.includes("tm hiu")?C.services[Math.floor(Math.random()*C.services.length)]:A.includes("bc s")||A.includes("doctor")||A.includes("chuyn khoa")?C.doctors[Math.floor(Math.random()*C.doctors.length)]:A.includes("bo mt")||A.includes("privacy")||A.includes("an ton")||A.includes("ring t")?C.privacy[Math.floor(Math.random()*C.privacy.length)]:C.general[Math.floor(Math.random()*C.general.length)]},E=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),N())},M=()=>{var P;(P=v.current)==null||P.click()},k=P=>P.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),T=P=>{switch(P){case"sending":return s.jsx(Ce,{className:"h-3 w-3 text-gray-400"});case"sent":return s.jsx(Ds,{className:"h-3 w-3 text-blue-500"});case"read":return s.jsx(Ds,{className:"h-3 w-3 text-green-500"});default:return null}},S=n==="staff"?["Ti c th h tr g cho bn?","Vui lng ch trong giy lt...","Ti s chuyn bn n chuyn gia.","Cm n bn  lin h!"]:n==="guest"?["Ti mun tm hiu v dch v","Lm th no  t lch hn?","Xem thng tin bc s","T vn v HIV/AIDS","Thng tin bo mt"]:["Ti cn t lch hn","Xem kt qu xt nghim","Hi v thuc iu tr","Cn h tr khn cp"];return t?s.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:e}),s.jsxs("div",{className:"absolute bottom-4 right-4 w-96 h-[600px] bg-white rounded-lg shadow-2xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-primary-600 text-white rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Lr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:n==="staff"?`Chat vi ${r}`:"H tr trc tuyn"}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${y==="connected"?"bg-green-400":y==="connecting"?"bg-yellow-400":"bg-red-400"}`}),s.jsx("span",{children:y==="connected"?"ang kt ni":y==="connecting"?"ang kt ni...":"Mt kt ni"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[n==="staff"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"p-1 hover:bg-white hover:bg-opacity-20 rounded",children:s.jsx(Hn,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-1 hover:bg-white hover:bg-opacity-20 rounded",children:s.jsx(no,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:e,className:"p-1 hover:bg-white hover:bg-opacity-20 rounded",children:s.jsx(et,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(P=>s.jsx("div",{className:`flex ${P.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${P.sender==="user"?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"}`,children:[n==="staff"&&P.sender==="user"&&P.customerName&&s.jsx("p",{className:"text-xs text-primary-200 mb-1",children:P.customerName}),n!=="staff"&&P.sender==="staff"&&P.staffName&&s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:P.staffName}),s.jsx("p",{className:"text-sm",children:P.text}),s.jsxs("div",{className:`flex items-center justify-between mt-1 ${P.sender==="user"?"text-primary-100":"text-gray-500"}`,children:[s.jsx("span",{className:"text-xs",children:k(P.timestamp)}),P.sender==="user"&&s.jsx("div",{className:"ml-2",children:T(P.status)})]})]})},P.id)),m&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:b})]}),c.length<=1&&s.jsxs("div",{className:"px-4 py-2 border-t bg-gray-50",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Cu tr li nhanh:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:S.map((P,C)=>s.jsx("button",{onClick:()=>h(P),className:"text-xs px-2 py-1 bg-white border border-gray-200 rounded-full hover:bg-gray-50",children:P},C))})]}),s.jsxs("div",{className:"p-4 border-t",children:[s.jsxs("div",{className:"flex items-end space-x-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("textarea",{value:u,onChange:P=>h(P.target.value),onKeyPress:E,placeholder:"Nhp tin nhn...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary-500",rows:"2",disabled:y!=="connected"})}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("button",{onClick:M,className:"p-2 text-gray-400 hover:text-gray-600",disabled:y!=="connected",children:s.jsx(_8,{className:"h-4 w-4"})}),s.jsx("button",{onClick:N,disabled:!u.trim()||y!=="connected",className:"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(D8,{className:"h-4 w-4"})})]})]}),s.jsx("input",{ref:v,type:"file",className:"hidden",accept:"image/*,.pdf,.doc,.docx",onChange:P=>{console.log("File selected:",P.target.files[0])}})]})]})]}):null},CR=({userRole:t="guest",userName:e="Khch"})=>{const[n,r]=f.useState(!1),[i,a]=f.useState(!1),l=()=>{r(!n),n||a(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:s.jsxs("button",{onClick:l,className:"relative w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center group","aria-label":"M chat h tr",children:[s.jsx(Lr,{className:"h-6 w-6"}),i&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsxs("div",{className:"absolute right-full mr-3 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:[t==="staff"?"Chat vi khch hng":"H tr trc tuyn",s.jsx("div",{className:"absolute top-1/2 left-full transform -translate-y-1/2 border-4 border-transparent border-l-gray-900"})]})]})}),s.jsx(_4,{isOpen:n,onClose:()=>r(!1),userRole:t,userName:e})]})},be=({children:t,currentRole:e=se.GUEST,userName:n,pageTitle:r,className:i=""})=>{const a=()=>{switch(e){case se.ADMIN:return"bg-gray-100";case se.MANAGER:return"bg-blue-50";case se.DOCTOR:return"bg-green-50";case se.STAFF:return"bg-yellow-50";case se.CUSTOMER:return"bg-primary-50";default:return"bg-white"}},l=[se.GUEST,se.CUSTOMER,se.STAFF].includes(e);return s.jsxs("div",{className:`min-h-screen flex flex-col ${a()}`,children:[s.jsx(SR,{currentRole:e,userName:n}),s.jsxs("main",{className:"flex-grow",children:[r&&s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:s.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:s.jsx("span",{children:r})})})}),s.jsx("div",{className:`px-4 sm:px-6 lg:px-8 py-4 ${i}`,children:t})]}),s.jsx(TR,{}),l&&s.jsx(CR,{userRole:e.toLowerCase(),userName:n||(e===se.GUEST?"Khch":"Ngi dng")})]})},ER=()=>s.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 py-20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[s.jsx("div",{className:"md:w-1/2 mb-10 md:mb-0",children:s.jsx("img",{src:"/images/hero-image.svg",alt:"Dch v iu tr HIV",className:"max-w-full h-auto"})}),s.jsxs("div",{className:"md:w-1/2 md:pl-10",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:s.jsx("span",{children:"iu tr HIV v Dch v Y t"})}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:s.jsx("span",{children:"Gii php chm sc sc khe ton din cho iu tr HIV, xt nghim v dch v h tr. i ng tn tm ca chng ti cung cp dch v chm sc c nhn ha trong mi trng bo mt v h tr."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(ue,{to:"/services",children:s.jsx(F,{variant:"primary",className:"text-lg py-3 px-8",children:s.jsx("span",{children:"Dch v ca chng ti"})})}),s.jsx(ue,{to:"/register",children:s.jsx(F,{variant:"outline",className:"text-lg py-3 px-8",children:s.jsx("span",{children:"ng k ngay"})})})]})]})]})})}),DR=()=>{const[t,e]=f.useState(""),[n,r]=f.useState(""),[i,a]=f.useState(""),[l,o]=f.useState(!1),[c,d]=f.useState(""),u=hs(),h=ks();f.useEffect(()=>{var g,y;if(Ee.isAuthenticated()){const{path:x}=Ee.getUserRoleAndPath();u(x);return}(g=h.state)!=null&&g.registered&&(d("ng k thnh cng! Vui lng ng nhp."),h.state.email&&e(h.state.email)),(y=h.state)!=null&&y.message&&a(h.state.message)},[u,h]);const m=async g=>{var y,x;if(g.preventDefault(),a(""),d(""),o(!0),!t||!n){a("Vui lng nhp email v mt khu"),o(!1);return}try{const b=await Ee.login(t,n),v=((x=(y=h.state)==null?void 0:y.from)==null?void 0:x.pathname)||null;if(v&&v!=="/login")u(v);else{const{path:p}=Ee.getUserRoleAndPath();u(p)}}catch(b){a(b.message||"ng nhp tht bi. Vui lng kim tra li email v mt khu.")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-600 flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-800",children:"ng nhp"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoc"," ",s.jsx(ue,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"ng k ti khon mi"})]})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-4 sm:px-10 shadow-lg rounded-xl border border-gray-100",children:[s.jsxs("form",{className:"space-y-6",onSubmit:m,children:[i&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md shadow-sm",role:"alert",children:s.jsx("p",{className:"text-sm",children:i})}),c&&s.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 text-green-700 p-4 rounded-md shadow-sm",role:"alert",children:s.jsx("p",{className:"text-sm",children:c})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:g=>e(g.target.value),placeholder:"Nhp a ch email ca bn",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Gi : S dng email c cha t kha vai tr (customer, doctor, staff, manager, admin)"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:g=>r(g.target.value),placeholder:"Nhp mt khu ca bn",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Ghi nh ng nhp"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Qun mt khu?"})})]}),s.jsx("div",{children:s.jsx(F,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:l,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 transition-all rounded-lg shadow-md hover:shadow-lg",children:l?"ang ng nhp...":"ng nhp"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Hoc ng nhp vi"})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"#4285F4"})}),"Google"]}),s.jsxs("button",{type:"button",className:"w-full inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",fill:"#24292E"})}),"GitHub"]})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(ue,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Quay v trang ch"]})})]})})]})},Oe=({id:t,type:e="text",label:n,value:r,onChange:i,placeholder:a,error:l,disabled:o=!1,required:c=!1,className:d="",name:u,autoComplete:h,helpText:m,ariaDescribedby:g,maxLength:y})=>{const x=t||u,b=`${x}-help`,v=`${x}-error`;return s.jsxs("div",{className:`mb-4 ${d}`,children:[n&&s.jsxs("label",{htmlFor:x,className:"block text-sm font-medium text-gray-700 mb-1",children:[n," ",c&&s.jsx("span",{className:"text-red-500","aria-hidden":"true",children:"*"}),c&&s.jsx("span",{className:"sr-only",children:"(required)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:x,name:u,type:e,value:r,onChange:i,disabled:o,required:c,placeholder:a,autoComplete:h,maxLength:y,"aria-invalid":l?"true":"false","aria-describedby":`${m?b:""} ${l?v:""} ${g||""}`,className:`block w-full rounded-md shadow-sm transition-colors duration-200 focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${l?"border-red-300 pr-10":"border-gray-300"} ${o?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`}),l&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),m&&s.jsx("p",{id:b,className:"mt-1 text-sm text-gray-500",children:m}),l&&s.jsx("p",{id:v,className:"mt-1 text-sm text-red-600",children:l})]})};var cd=t=>t.type==="checkbox",ha=t=>t instanceof Date,Es=t=>t==null;const L4=t=>typeof t=="object";var $t=t=>!Es(t)&&!Array.isArray(t)&&L4(t)&&!ha(t),PR=t=>$t(t)&&t.target?cd(t.target)?t.target.checked:t.target.value:t,MR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,_R=(t,e)=>t.has(MR(e)),LR=t=>{const e=t.constructor&&t.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},Op=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gs(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Op&&(t instanceof Blob||r))&&(n||$t(t)))if(e=n?[]:{},!n&&!LR(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=gs(t[i]));else return t;return e}var Am=t=>Array.isArray(t)?t.filter(Boolean):[],Ht=t=>t===void 0,pe=(t,e,n)=>{if(!e||!$t(t))return n;const r=Am(e.split(/[,[\].]+?/)).reduce((i,a)=>Es(i)?i:i[a],t);return Ht(r)||r===t?Ht(t[e])?n:t[e]:r},tr=t=>typeof t=="boolean",Fp=t=>/^\w*$/.test(t),A4=t=>Am(t.replace(/["|']|\]/g,"").split(/\.|\[/)),it=(t,e,n)=>{let r=-1;const i=Fp(e)?[e]:A4(e),a=i.length,l=a-1;for(;++r<a;){const o=i[r];let c=n;if(r!==l){const d=t[o];c=$t(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Bb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Dn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ie.createContext(null);var AR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Dn.all&&(e._proxyFormState[l]=!r||Dn.all),n&&(n[l]=!0),t[l]}});return i};const RR=typeof window<"u"?f.useLayoutEffect:f.useEffect;var ar=t=>typeof t=="string",IR=(t,e,n,r,i)=>ar(t)?(r&&e.watch.add(t),pe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),pe(n,a))):(r&&(e.watchAll=!0),n),Vp=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ec=t=>Array.isArray(t)?t:[t],Hb=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},T0=t=>Es(t)||!L4(t);function oi(t,e){if(T0(t)||T0(e))return t===e;if(ha(t)&&ha(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(ha(a)&&ha(l)||$t(a)&&$t(l)||Array.isArray(a)&&Array.isArray(l)?!oi(a,l):a!==l)return!1}}return!0}var Fs=t=>$t(t)&&!Object.keys(t).length,$p=t=>t.type==="file",Pn=t=>typeof t=="function",yh=t=>{if(!Op)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},R4=t=>t.type==="select-multiple",Bp=t=>t.type==="radio",OR=t=>Bp(t)||cd(t),Pf=t=>yh(t)&&t.isConnected;function FR(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ht(t)?r++:t[e[r++]];return t}function VR(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ht(t[e]))return!1;return!0}function Wt(t,e){const n=Array.isArray(e)?e:Fp(e)?[e]:A4(e),r=n.length===1?t:FR(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&($t(r)&&Fs(r)||Array.isArray(r)&&VR(r))&&Wt(t,n.slice(0,-1)),t}var I4=t=>{for(const e in t)if(Pn(t[e]))return!0;return!1};function vh(t,e={}){const n=Array.isArray(t);if($t(t)||n)for(const r in t)Array.isArray(t[r])||$t(t[r])&&!I4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},vh(t[r],e[r])):Es(t[r])||(e[r]=!0);return e}function O4(t,e,n){const r=Array.isArray(t);if($t(t)||r)for(const i in t)Array.isArray(t[i])||$t(t[i])&&!I4(t[i])?Ht(e)||T0(n[i])?n[i]=Array.isArray(t[i])?vh(t[i],[]):{...vh(t[i])}:O4(t[i],Es(e)?{}:e[i],n[i]):n[i]=!oi(t[i],e[i]);return n}var wo=(t,e)=>O4(t,e,vh(e));const zb={value:!1,isValid:!1},Ub={value:!0,isValid:!0};var F4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ht(t[0].attributes.value)?Ht(t[0].value)||t[0].value===""?Ub:{value:t[0].value,isValid:!0}:Ub:zb}return zb},V4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ht(t)?t:e?t===""?NaN:t&&+t:n&&ar(t)?new Date(t):r?r(t):t;const Wb={isValid:!1,value:null};var $4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Wb):Wb;function qb(t){const e=t.ref;return $p(e)?e.files:Bp(e)?$4(t.refs).value:R4(e)?[...e.selectedOptions].map(({value:n})=>n):cd(e)?F4(t.refs).value:V4(Ht(e.value)?t.ref.value:e.value,t)}var $R=(t,e,n,r)=>{const i={};for(const a of t){const l=pe(e,a);l&&it(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},bh=t=>t instanceof RegExp,No=t=>Ht(t)?t:bh(t)?t.source:$t(t)?bh(t.value)?t.value.source:t.value:t,Kb=t=>({isOnSubmit:!t||t===Dn.onSubmit,isOnBlur:t===Dn.onBlur,isOnChange:t===Dn.onChange,isOnAll:t===Dn.all,isOnTouch:t===Dn.onTouched});const Gb="AsyncFunction";var BR=t=>!!t&&!!t.validate&&!!(Pn(t.validate)&&t.validate.constructor.name===Gb||$t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Gb)),HR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Yb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const tc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=pe(t,i);if(a){const{_f:l,...o}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(tc(o,e))break}else if($t(o)&&tc(o,e))break}}};function Xb(t,e,n){const r=pe(t,n);if(r||Fp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=pe(e,a),o=pe(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:n}}var zR=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Fs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||Dn.all))},UR=(t,e,n)=>!t||!e||t===e||ec(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),WR=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,qR=(t,e)=>!Am(pe(t,e)).length&&Wt(t,e),KR=(t,e,n)=>{const r=ec(pe(t,n));return it(r,"root",e[n]),it(t,n,r),t},Eu=t=>ar(t);function Zb(t,e,n="validate"){if(Eu(t)||Array.isArray(t)&&t.every(Eu)||tr(t)&&!t)return{type:n,message:Eu(t)?t:"",ref:e}}var Va=t=>$t(t)&&!bh(t)?t:{value:t,message:""},Qb=async(t,e,n,r,i,a)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:g,validate:y,name:x,valueAsNumber:b,mount:v}=t._f,p=pe(n,x);if(!v||e.has(x))return{};const j=o?o[0]:l,N=C=>{i&&j.reportValidity&&(j.setCustomValidity(tr(C)?"":C||""),j.reportValidity())},w={},E=Bp(l),M=cd(l),k=E||M,T=(b||$p(l))&&Ht(l.value)&&Ht(p)||yh(l)&&l.value===""||p===""||Array.isArray(p)&&!p.length,S=Vp.bind(null,x,r,w),P=(C,A,I,V=yr.maxLength,L=yr.minLength)=>{const O=C?A:I;w[x]={type:C?V:L,message:O,ref:l,...S(C?V:L,O)}};if(a?!Array.isArray(p)||!p.length:c&&(!k&&(T||Es(p))||tr(p)&&!p||M&&!F4(o).isValid||E&&!$4(o).isValid)){const{value:C,message:A}=Eu(c)?{value:!!c,message:c}:Va(c);if(C&&(w[x]={type:yr.required,message:A,ref:j,...S(yr.required,A)},!r))return N(A),w}if(!T&&(!Es(h)||!Es(m))){let C,A;const I=Va(m),V=Va(h);if(!Es(p)&&!isNaN(p)){const L=l.valueAsNumber||p&&+p;Es(I.value)||(C=L>I.value),Es(V.value)||(A=L<V.value)}else{const L=l.valueAsDate||new Date(p),O=B=>new Date(new Date().toDateString()+" "+B),D=l.type=="time",R=l.type=="week";ar(I.value)&&p&&(C=D?O(p)>O(I.value):R?p>I.value:L>new Date(I.value)),ar(V.value)&&p&&(A=D?O(p)<O(V.value):R?p<V.value:L<new Date(V.value))}if((C||A)&&(P(!!C,I.message,V.message,yr.max,yr.min),!r))return N(w[x].message),w}if((d||u)&&!T&&(ar(p)||a&&Array.isArray(p))){const C=Va(d),A=Va(u),I=!Es(C.value)&&p.length>+C.value,V=!Es(A.value)&&p.length<+A.value;if((I||V)&&(P(I,C.message,A.message),!r))return N(w[x].message),w}if(g&&!T&&ar(p)){const{value:C,message:A}=Va(g);if(bh(C)&&!p.match(C)&&(w[x]={type:yr.pattern,message:A,ref:l,...S(yr.pattern,A)},!r))return N(A),w}if(y){if(Pn(y)){const C=await y(p,n),A=Zb(C,j);if(A&&(w[x]={...A,...S(yr.validate,A.message)},!r))return N(A.message),w}else if($t(y)){let C={};for(const A in y){if(!Fs(C)&&!r)break;const I=Zb(await y[A](p,n),j,A);I&&(C={...I,...S(A,I.message)},N(I.message),r&&(w[x]=C))}if(!Fs(C)&&(w[x]={ref:j,...C},!r))return w}}return N(!0),w};const GR={mode:Dn.onSubmit,reValidateMode:Dn.onChange,shouldFocusError:!0};function YR(t={}){let e={...GR,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=$t(e.defaultValues)||$t(e.values)?gs(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:gs(i),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:Hb(),state:Hb()},g=e.criteriaMode===Dn.all,y=z=>K=>{clearTimeout(d),d=setTimeout(z,K)},x=async z=>{if(!e.disabled&&(u.isValid||h.isValid||z)){const K=e.resolver?Fs((await M()).errors):await T(r,!0);K!==n.isValid&&m.state.next({isValid:K})}},b=(z,K)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((z||Array.from(o.mount)).forEach(te=>{te&&(K?it(n.validatingFields,te,K):Wt(n.validatingFields,te))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Fs(n.validatingFields)}))},v=(z,K=[],te,me,he=!0,oe=!0)=>{if(me&&te&&!e.disabled){if(l.action=!0,oe&&Array.isArray(pe(r,z))){const q=te(pe(r,z),me.argA,me.argB);he&&it(r,z,q)}if(oe&&Array.isArray(pe(n.errors,z))){const q=te(pe(n.errors,z),me.argA,me.argB);he&&it(n.errors,z,q),qR(n.errors,z)}if((u.touchedFields||h.touchedFields)&&oe&&Array.isArray(pe(n.touchedFields,z))){const q=te(pe(n.touchedFields,z),me.argA,me.argB);he&&it(n.touchedFields,z,q)}(u.dirtyFields||h.dirtyFields)&&(n.dirtyFields=wo(i,a)),m.state.next({name:z,isDirty:P(z,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(a,z,K)},p=(z,K)=>{it(n.errors,z,K),m.state.next({errors:n.errors})},j=z=>{n.errors=z,m.state.next({errors:n.errors,isValid:!1})},N=(z,K,te,me)=>{const he=pe(r,z);if(he){const oe=pe(a,z,Ht(te)?pe(i,z):te);Ht(oe)||me&&me.defaultChecked||K?it(a,z,K?oe:qb(he._f)):I(z,oe),l.mount&&x()}},w=(z,K,te,me,he)=>{let oe=!1,q=!1;const je={name:z};if(!e.disabled){if(!te||me){(u.isDirty||h.isDirty)&&(q=n.isDirty,n.isDirty=je.isDirty=P(),oe=q!==je.isDirty);const we=oi(pe(i,z),K);q=!!pe(n.dirtyFields,z),we?Wt(n.dirtyFields,z):it(n.dirtyFields,z,!0),je.dirtyFields=n.dirtyFields,oe=oe||(u.dirtyFields||h.dirtyFields)&&q!==!we}if(te){const we=pe(n.touchedFields,z);we||(it(n.touchedFields,z,te),je.touchedFields=n.touchedFields,oe=oe||(u.touchedFields||h.touchedFields)&&we!==te)}oe&&he&&m.state.next(je)}return oe?je:{}},E=(z,K,te,me)=>{const he=pe(n.errors,z),oe=(u.isValid||h.isValid)&&tr(K)&&n.isValid!==K;if(e.delayError&&te?(c=y(()=>p(z,te)),c(e.delayError)):(clearTimeout(d),c=null,te?it(n.errors,z,te):Wt(n.errors,z)),(te?!oi(he,te):he)||!Fs(me)||oe){const q={...me,...oe&&tr(K)?{isValid:K}:{},errors:n.errors,name:z};n={...n,...q},m.state.next(q)}},M=async z=>{b(z,!0);const K=await e.resolver(a,e.context,$R(z||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(z),K},k=async z=>{const{errors:K}=await M(z);if(z)for(const te of z){const me=pe(K,te);me?it(n.errors,te,me):Wt(n.errors,te)}else n.errors=K;return K},T=async(z,K,te={valid:!0})=>{for(const me in z){const he=z[me];if(he){const{_f:oe,...q}=he;if(oe){const je=o.array.has(oe.name),we=he._f&&BR(he._f);we&&u.validatingFields&&b([me],!0);const Dt=await Qb(he,o.disabled,a,g,e.shouldUseNativeValidation&&!K,je);if(we&&u.validatingFields&&b([me]),Dt[oe.name]&&(te.valid=!1,K))break;!K&&(pe(Dt,oe.name)?je?KR(n.errors,Dt,oe.name):it(n.errors,oe.name,Dt[oe.name]):Wt(n.errors,oe.name))}!Fs(q)&&await T(q,K,te)}}return te.valid},S=()=>{for(const z of o.unMount){const K=pe(r,z);K&&(K._f.refs?K._f.refs.every(te=>!Pf(te)):!Pf(K._f.ref))&&U(z)}o.unMount=new Set},P=(z,K)=>!e.disabled&&(z&&K&&it(a,z,K),!oi(B(),i)),C=(z,K,te)=>IR(z,o,{...l.mount?a:Ht(K)?i:ar(z)?{[z]:K}:K},te,K),A=z=>Am(pe(l.mount?a:i,z,e.shouldUnregister?pe(i,z,[]):[])),I=(z,K,te={})=>{const me=pe(r,z);let he=K;if(me){const oe=me._f;oe&&(!oe.disabled&&it(a,z,V4(K,oe)),he=yh(oe.ref)&&Es(K)?"":K,R4(oe.ref)?[...oe.ref.options].forEach(q=>q.selected=he.includes(q.value)):oe.refs?cd(oe.ref)?oe.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(he)?q.checked=!!he.find(je=>je===q.value):q.checked=he===q.value||!!he)}):oe.refs.forEach(q=>q.checked=q.value===he):$p(oe.ref)?oe.ref.value="":(oe.ref.value=he,oe.ref.type||m.state.next({name:z,values:gs(a)})))}(te.shouldDirty||te.shouldTouch)&&w(z,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&R(z)},V=(z,K,te)=>{for(const me in K){if(!K.hasOwnProperty(me))return;const he=K[me],oe=z+"."+me,q=pe(r,oe);(o.array.has(z)||$t(he)||q&&!q._f)&&!ha(he)?V(oe,he,te):I(oe,he,te)}},L=(z,K,te={})=>{const me=pe(r,z),he=o.array.has(z),oe=gs(K);it(a,z,oe),he?(m.array.next({name:z,values:gs(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&te.shouldDirty&&m.state.next({name:z,dirtyFields:wo(i,a),isDirty:P(z,oe)})):me&&!me._f&&!Es(oe)?V(z,oe,te):I(z,oe,te),Yb(z,o)&&m.state.next({...n}),m.state.next({name:l.mount?z:void 0,values:gs(a)})},O=async z=>{l.mount=!0;const K=z.target;let te=K.name,me=!0;const he=pe(r,te),oe=we=>{me=Number.isNaN(we)||ha(we)&&isNaN(we.getTime())||oi(we,pe(a,te,we))},q=Kb(e.mode),je=Kb(e.reValidateMode);if(he){let we,Dt;const We=K.type?qb(he._f):PR(z),jt=z.type===Bb.BLUR||z.type===Bb.FOCUS_OUT,oo=!HR(he._f)&&!e.resolver&&!pe(n.errors,te)&&!he._f.deps||WR(jt,pe(n.touchedFields,te),n.isSubmitted,je,q),Oa=Yb(te,o,jt);it(a,te,We),jt?(he._f.onBlur&&he._f.onBlur(z),c&&c(0)):he._f.onChange&&he._f.onChange(z);const Um=w(te,We,jt),QT=!Fs(Um)||Oa;if(!jt&&m.state.next({name:te,type:z.type,values:gs(a)}),oo)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?jt&&x():jt||x()),QT&&m.state.next({name:te,...Oa?{}:Um});if(!jt&&Oa&&m.state.next({...n}),e.resolver){const{errors:Yy}=await M([te]);if(oe(We),me){const JT=Xb(n.errors,r,te),Xy=Xb(Yy,r,JT.name||te);we=Xy.error,te=Xy.name,Dt=Fs(Yy)}}else b([te],!0),we=(await Qb(he,o.disabled,a,g,e.shouldUseNativeValidation))[te],b([te]),oe(We),me&&(we?Dt=!1:(u.isValid||h.isValid)&&(Dt=await T(r,!0)));me&&(he._f.deps&&R(he._f.deps),E(te,Dt,we,Um))}},D=(z,K)=>{if(pe(n.errors,K)&&z.focus)return z.focus(),1},R=async(z,K={})=>{let te,me;const he=ec(z);if(e.resolver){const oe=await k(Ht(z)?z:he);te=Fs(oe),me=z?!he.some(q=>pe(oe,q)):te}else z?(me=(await Promise.all(he.map(async oe=>{const q=pe(r,oe);return await T(q&&q._f?{[oe]:q}:q)}))).every(Boolean),!(!me&&!n.isValid)&&x()):me=te=await T(r);return m.state.next({...!ar(z)||(u.isValid||h.isValid)&&te!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:te}:{},errors:n.errors}),K.shouldFocus&&!me&&tc(r,D,z?he:o.mount),me},B=z=>{const K={...l.mount?a:i};return Ht(z)?K:ar(z)?pe(K,z):z.map(te=>pe(K,te))},X=(z,K)=>({invalid:!!pe((K||n).errors,z),isDirty:!!pe((K||n).dirtyFields,z),error:pe((K||n).errors,z),isValidating:!!pe(n.validatingFields,z),isTouched:!!pe((K||n).touchedFields,z)}),Z=z=>{z&&ec(z).forEach(K=>Wt(n.errors,K)),m.state.next({errors:z?n.errors:{}})},$=(z,K,te)=>{const me=(pe(r,z,{_f:{}})._f||{}).ref,he=pe(n.errors,z)||{},{ref:oe,message:q,type:je,...we}=he;it(n.errors,z,{...we,...K,ref:me}),m.state.next({name:z,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&me&&me.focus&&me.focus()},Y=(z,K)=>Pn(z)?m.state.subscribe({next:te=>z(C(void 0,K),te)}):C(z,K,!0),_=z=>m.state.subscribe({next:K=>{UR(z.name,K.name,z.exact)&&zR(K,z.formState||u,De,z.reRenderRoot)&&z.callback({values:{...a},...n,...K})}}).unsubscribe,H=z=>(l.mount=!0,h={...h,...z.formState},_({...z,formState:h})),U=(z,K={})=>{for(const te of z?ec(z):o.mount)o.mount.delete(te),o.array.delete(te),K.keepValue||(Wt(r,te),Wt(a,te)),!K.keepError&&Wt(n.errors,te),!K.keepDirty&&Wt(n.dirtyFields,te),!K.keepTouched&&Wt(n.touchedFields,te),!K.keepIsValidating&&Wt(n.validatingFields,te),!e.shouldUnregister&&!K.keepDefaultValue&&Wt(i,te);m.state.next({values:gs(a)}),m.state.next({...n,...K.keepDirty?{isDirty:P()}:{}}),!K.keepIsValid&&x()},W=({disabled:z,name:K})=>{(tr(z)&&l.mount||z||o.disabled.has(K))&&(z?o.disabled.add(K):o.disabled.delete(K))},J=(z,K={})=>{let te=pe(r,z);const me=tr(K.disabled)||tr(e.disabled);return it(r,z,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:z}},name:z,mount:!0,...K}}),o.mount.add(z),te?W({disabled:tr(K.disabled)?K.disabled:e.disabled,name:z}):N(z,!0,K.value),{...me?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:No(K.min),max:No(K.max),minLength:No(K.minLength),maxLength:No(K.maxLength),pattern:No(K.pattern)}:{},name:z,onChange:O,onBlur:O,ref:he=>{if(he){J(z,K),te=pe(r,z);const oe=Ht(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,q=OR(oe),je=te._f.refs||[];if(q?je.find(we=>we===oe):oe===te._f.ref)return;it(r,z,{_f:{...te._f,...q?{refs:[...je.filter(Pf),oe,...Array.isArray(pe(i,z))?[{}]:[]],ref:{type:oe.type,name:z}}:{ref:oe}}}),N(z,!1,void 0,oe)}else te=pe(r,z,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(_R(o.array,z)&&l.action)&&o.unMount.add(z)}}},ce=()=>e.shouldFocusError&&tc(r,D,o.mount),re=z=>{tr(z)&&(m.state.next({disabled:z}),tc(r,(K,te)=>{const me=pe(r,te);me&&(K.disabled=me._f.disabled||z,Array.isArray(me._f.refs)&&me._f.refs.forEach(he=>{he.disabled=me._f.disabled||z}))},0,!1))},Te=(z,K)=>async te=>{let me;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=gs(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:q}=await M();n.errors=oe,he=q}else await T(r);if(o.disabled.size)for(const oe of o.disabled)it(he,oe,void 0);if(Wt(n.errors,"root"),Fs(n.errors)){m.state.next({errors:{}});try{await z(he,te)}catch(oe){me=oe}}else K&&await K({...n.errors},te),ce(),setTimeout(ce);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fs(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},Fe=(z,K={})=>{pe(r,z)&&(Ht(K.defaultValue)?L(z,gs(pe(i,z))):(L(z,K.defaultValue),it(i,z,gs(K.defaultValue))),K.keepTouched||Wt(n.touchedFields,z),K.keepDirty||(Wt(n.dirtyFields,z),n.isDirty=K.defaultValue?P(z,gs(pe(i,z))):P()),K.keepError||(Wt(n.errors,z),u.isValid&&x()),m.state.next({...n}))},Ss=(z,K={})=>{const te=z?gs(z):i,me=gs(te),he=Fs(z),oe=he?i:me;if(K.keepDefaultValues||(i=te),!K.keepValues){if(K.keepDirtyValues){const q=new Set([...o.mount,...Object.keys(wo(i,a))]);for(const je of Array.from(q))pe(n.dirtyFields,je)?it(oe,je,pe(a,je)):L(je,pe(oe,je))}else{if(Op&&Ht(z))for(const q of o.mount){const je=pe(r,q);if(je&&je._f){const we=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(yh(we)){const Dt=we.closest("form");if(Dt){Dt.reset();break}}}}for(const q of o.mount)L(q,pe(oe,q))}a=gs(oe),m.array.next({values:{...oe}}),m.state.next({values:{...oe}})}o={mount:K.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!K.keepIsValid||!!K.keepDirtyValues,l.watch=!!e.shouldUnregister,m.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:he?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!oi(z,i)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:K.keepDirtyValues?K.keepDefaultValues&&a?wo(i,a):n.dirtyFields:K.keepDefaultValues&&z?wo(i,z):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Wn=(z,K)=>Ss(Pn(z)?z(a):z,K),ne=(z,K={})=>{const te=pe(r,z),me=te&&te._f;if(me){const he=me.refs?me.refs[0]:me.ref;he.focus&&(he.focus(),K.shouldSelect&&Pn(he.select)&&he.select())}},De=z=>{n={...n,...z}},Ae={control:{register:J,unregister:U,getFieldState:X,handleSubmit:Te,setError:$,_subscribe:_,_runSchema:M,_focusError:ce,_getWatch:C,_getDirty:P,_setValid:x,_setFieldArray:v,_setDisabledField:W,_setErrors:j,_getFieldArray:A,_reset:Ss,_resetDefaultValues:()=>Pn(e.defaultValues)&&e.defaultValues().then(z=>{Wn(z,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:S,_disableForm:re,_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(z){l=z},get _defaultValues(){return i},get _names(){return o},set _names(z){o=z},get _formState(){return n},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:H,trigger:R,register:J,handleSubmit:Te,watch:Y,setValue:L,getValues:B,reset:Wn,resetField:Fe,clearErrors:Z,unregister:U,setError:$,setFocus:ne,getFieldState:X};return{...Ae,formControl:Ae}}function B4(t={}){const e=ie.useRef(void 0),n=ie.useRef(void 0),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Pn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:YR(t),formState:r},t.formControl&&t.defaultValues&&!Pn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,RR(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,l},[a]),ie.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ie.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),ie.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),ie.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),ie.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),ie.useEffect(()=>{t.values&&!oi(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),ie.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=AR(r,a),e.current}var Je;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),l={};for(const o of a)l[o]=i[o];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Je||(Je={}));var Jb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Jb||(Jb={}));const ye=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ni=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},le=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Br extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let o=r,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Br))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Br.create=t=>new Br(t);const C0=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Je.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Je.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,Je.assertNever(t)}return{message:n}};let XR=C0;function ZR(){return XR}const QR=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function fe(t,e){const n=ZR(),r=QR({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===C0?void 0:C0].filter(i=>!!i)});t.common.issues.push(r)}class tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return _e;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return tn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return _e;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const _e=Object.freeze({status:"aborted"}),Io=t=>({status:"dirty",value:t}),vn=t=>({status:"valid",value:t}),e1=t=>t.status==="aborted",t1=t=>t.status==="dirty",Il=t=>t.status==="valid",jh=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class Ri{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s1=(t,e)=>{if(Il(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Br(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,o)=>{const{message:c}=t;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class Qe{get description(){return this._def.description}_getType(e){return ni(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tn,ctx:{common:e.parent.common,data:e.data,parsedType:ni(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(jh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},i=this._parseSync({data:e,path:r.path,parent:r});return s1(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Il(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Il(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ni(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(jh(i)?i:Promise.resolve(i));return s1(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),o=()=>a.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Fl({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mi.create(this,this._def)}nullable(){return Vl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hr.create(this)}promise(){return Sh.create(this,this._def)}or(e){return Nh.create([this,e],this._def)}and(e){return kh.create(this,e,this._def)}transform(e){return new Fl({...$e(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new P0({...$e(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new j7({typeName:Le.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new M0({...$e(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Hp.create(this,e)}readonly(){return _0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JR=/^c[^\s-]{8,}$/i,e7=/^[0-9a-z]+$/,t7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,s7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,n7=/^[a-z0-9_-]{21}$/i,r7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,i7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,a7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,l7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mf;const o7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,c7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,d7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,u7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,h7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f7=new RegExp(`^${H4}$`);function z4(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function g7(t){return new RegExp(`^${z4(t)}$`)}function x7(t){let e=`${H4}T${z4(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function p7(t,e){return!!((e==="v4"||!e)&&o7.test(t)||(e==="v6"||!e)&&d7.test(t))}function y7(t,e){if(!r7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function v7(t,e){return!!((e==="v4"||!e)&&c7.test(t)||(e==="v6"||!e)&&u7.test(t))}class mi extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const a=this._getOrReturnCtx(e);return fe(a,{code:le.invalid_type,expected:ye.string,received:a.parsedType}),_e}const r=new tn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,o=e.data.length<a.value;(l||o)&&(i=this._getOrReturnCtx(e,i),l?fe(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&fe(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")a7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"email",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Mf||(Mf=new RegExp(l7,"u")),Mf.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"emoji",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")s7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"uuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")n7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"nanoid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")JR.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")e7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid2",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")t7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ulid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),fe(i,{validation:"url",code:le.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"regex",code:le.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?x7(a).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?f7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?g7(a).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?i7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"duration",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?p7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ip",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?y7(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"jwt",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?v7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cidr",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?h7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?m7.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64url",code:le.invalid_string,message:a.message}),r.dirty()):Je.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:le.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mi.create=t=>new mi({checks:[],typeName:Le.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});function b7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}class Ac extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const a=this._getOrReturnCtx(e);return fe(a,{code:le.invalid_type,expected:ye.number,received:a.parsedType}),_e}let r;const i=new tn;for(const a of this._def.checks)a.kind==="int"?Je.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?b7(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_finite,message:a.message}),i.dirty()):Je.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Ac({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Ac({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Je.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ac.create=t=>new Ac({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Rc extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const i=new tn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Je.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:ye.bigint,received:n.parsedType}),_e}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Rc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Rc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rc.create=t=>new Rc({checks:[],typeName:Le.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});class n1 extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.boolean,received:r.parsedType}),_e}return vn(e.data)}}n1.create=t=>new n1({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class wh extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const a=this._getOrReturnCtx(e);return fe(a,{code:le.invalid_type,expected:ye.date,received:a.parsedType}),_e}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return fe(a,{code:le.invalid_date}),_e}const r=new tn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Je.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}wh.create=t=>new wh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...$e(t)});class r1 extends Qe{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.symbol,received:r.parsedType}),_e}return vn(e.data)}}r1.create=t=>new r1({typeName:Le.ZodSymbol,...$e(t)});class i1 extends Qe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.undefined,received:r.parsedType}),_e}return vn(e.data)}}i1.create=t=>new i1({typeName:Le.ZodUndefined,...$e(t)});class a1 extends Qe{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.null,received:r.parsedType}),_e}return vn(e.data)}}a1.create=t=>new a1({typeName:Le.ZodNull,...$e(t)});class l1 extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return vn(e.data)}}l1.create=t=>new l1({typeName:Le.ZodAny,...$e(t)});class o1 extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vn(e.data)}}o1.create=t=>new o1({typeName:Le.ZodUnknown,...$e(t)});class Ii extends Qe{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:ye.never,received:n.parsedType}),_e}}Ii.create=t=>new Ii({typeName:Le.ZodNever,...$e(t)});class c1 extends Qe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.void,received:r.parsedType}),_e}return vn(e.data)}}c1.create=t=>new c1({typeName:Le.ZodVoid,...$e(t)});class hr extends Qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ye.array)return fe(n,{code:le.invalid_type,expected:ye.array,received:n.parsedType}),_e;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(l||o)&&(fe(n,{code:l?le.too_big:le.too_small,minimum:o?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(fe(n,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(fe(n,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,o)=>i.type._parseAsync(new Ri(n,l,n.path,o)))).then(l=>tn.mergeArray(r,l));const a=[...n.data].map((l,o)=>i.type._parseSync(new Ri(n,l,n.path,o)));return tn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new hr({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new hr({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new hr({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}hr.create=(t,e)=>new hr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...$e(e)});function Ka(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mi.create(Ka(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof hr?new hr({...t._def,type:Ka(t.element)}):t instanceof Mi?Mi.create(Ka(t.unwrap())):t instanceof Vl?Vl.create(Ka(t.unwrap())):t instanceof Da?Da.create(t.items.map(e=>Ka(e))):t}class Pt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Je.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const d=this._getOrReturnCtx(e);return fe(d,{code:le.invalid_type,expected:ye.object,received:d.parsedType}),_e}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ii&&this._def.unknownKeys==="strip"))for(const d in i.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ri(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ii){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")o.length>0&&(fe(i,{code:le.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ri(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>tn.mergeObjectSync(r,d)):tn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,l;const i=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};for(const r of Je.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Je.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}deepPartial(){return Ka(this)}partial(e){const n={};for(const r of Je.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Je.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Mi;)a=a._def.innerType;n[r]=a}return new Pt({...this._def,shape:()=>n})}keyof(){return U4(Je.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:Ii.create(),typeName:Le.ZodObject,...$e(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:Ii.create(),typeName:Le.ZodObject,...$e(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:Ii.create(),typeName:Le.ZodObject,...$e(e)});class Nh extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const l=a.map(o=>new Br(o.ctx.common.issues));return fe(n,{code:le.invalid_union,unionErrors:l}),_e}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=l.map(c=>new Br(c));return fe(n,{code:le.invalid_union,unionErrors:o}),_e}}get options(){return this._def.options}}Nh.create=(t,e)=>new Nh({options:t,typeName:Le.ZodUnion,...$e(e)});function E0(t,e){const n=ni(t),r=ni(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const i=Je.objectKeys(e),a=Je.objectKeys(t).filter(o=>i.indexOf(o)!==-1),l={...t,...e};for(const o of a){const c=E0(t[o],e[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],o=e[a],c=E0(l,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class kh extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if(e1(a)||e1(l))return _e;const o=E0(a.value,l.value);return o.valid?((t1(a)||t1(l))&&n.dirty(),{status:n.value,value:o.data}):(fe(r,{code:le.invalid_intersection_types}),_e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}kh.create=(t,e,n)=>new kh({left:t,right:e,typeName:Le.ZodIntersection,...$e(n)});class Da extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return fe(r,{code:le.invalid_type,expected:ye.array,received:r.parsedType}),_e;if(r.data.length<this._def.items.length)return fe(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Ri(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>tn.mergeArray(n,l)):tn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Da({...this._def,rest:e})}}Da.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Da({items:t,typeName:Le.ZodTuple,rest:null,...$e(e)})};class d1 extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return fe(r,{code:le.invalid_type,expected:ye.map,received:r.parsedType}),_e;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([o,c],d)=>({key:i._parse(new Ri(r,o,r.path,[d,"key"])),value:a._parse(new Ri(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(d.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(d.value,u.value)}return{status:n.value,value:o}}}}d1.create=(t,e,n)=>new d1({valueType:e,keyType:t,typeName:Le.ZodMap,...$e(n)});class Ic extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return fe(r,{code:le.invalid_type,expected:ye.set,received:r.parsedType}),_e;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(fe(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(fe(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return _e;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((c,d)=>a._parse(new Ri(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(e,n){return new Ic({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new Ic({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ic.create=(t,e)=>new Ic({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...$e(e)});class u1 extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}u1.create=(t,e)=>new u1({getter:t,typeName:Le.ZodLazy,...$e(e)});class D0 extends Qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:e.data}}get value(){return this._def.value}}D0.create=(t,e)=>new D0({value:t,typeName:Le.ZodLiteral,...$e(e)});function U4(t,e){return new Ol({values:t,typeName:Le.ZodEnum,...$e(e)})}class Ol extends Qe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:Je.joinValues(r),received:n.parsedType,code:le.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:le.invalid_enum_value,options:r}),_e}return vn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ol.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ol.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ol.create=U4;class h1 extends Qe{_parse(e){const n=Je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const i=Je.objectValues(n);return fe(r,{expected:Je.joinValues(i),received:r.parsedType,code:le.invalid_type}),_e}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Je.objectValues(n);return fe(r,{received:r.data,code:le.invalid_enum_value,options:i}),_e}return vn(e.data)}get enum(){return this._def.values}}h1.create=(t,e)=>new h1({values:t,typeName:Le.ZodNativeEnum,...$e(e)});class Sh extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return fe(n,{code:le.invalid_type,expected:ye.promise,received:n.parsedType}),_e;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return vn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sh.create=(t,e)=>new Sh({type:t,typeName:Le.ZodPromise,...$e(e)});class Fl extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{fe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async o=>{if(n.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?_e:c.status==="dirty"||n.value==="dirty"?Io(c.value):c});{if(n.value==="aborted")return _e;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?_e:o.status==="dirty"||n.value==="dirty"?Io(o.value):o}}if(i.type==="refinement"){const l=o=>{const c=i.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?_e:(o.status==="dirty"&&n.dirty(),l(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?_e:(o.status==="dirty"&&n.dirty(),l(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Il(l))return _e;const o=i.transform(l.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Il(l)?Promise.resolve(i.transform(l.value,a)).then(o=>({status:n.value,value:o})):_e);Je.assertNever(i)}}Fl.create=(t,e,n)=>new Fl({schema:t,typeName:Le.ZodEffects,effect:e,...$e(n)});Fl.createWithPreprocess=(t,e,n)=>new Fl({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...$e(n)});class Mi extends Qe{_parse(e){return this._getType(e)===ye.undefined?vn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mi.create=(t,e)=>new Mi({innerType:t,typeName:Le.ZodOptional,...$e(e)});class Vl extends Qe{_parse(e){return this._getType(e)===ye.null?vn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vl.create=(t,e)=>new Vl({innerType:t,typeName:Le.ZodNullable,...$e(e)});class P0 extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}P0.create=(t,e)=>new P0({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class M0 extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return jh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Br(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Br(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}M0.create=(t,e)=>new M0({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class m1 extends Qe{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:ye.nan,received:r.parsedType}),_e}return{status:"valid",value:e.data}}}m1.create=t=>new m1({typeName:Le.ZodNaN,...$e(t)});class j7 extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Hp extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?_e:a.status==="dirty"?(n.dirty(),Io(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?_e:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Hp({in:e,out:n,typeName:Le.ZodPipeline})}}class _0 extends Qe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Il(i)&&(i.value=Object.freeze(i.value)),i);return jh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}_0.create=(t,e)=>new _0({innerType:t,typeName:Le.ZodReadonly,...$e(e)});Pt.lazycreate;var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const Rt=mi.create;Ii.create;hr.create;const Th=Pt.create;Pt.strictCreate;Nh.create;kh.create;Da.create;const _f=D0.create,L0=Ol.create;Sh.create;Mi.create;Vl.create;const f1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=pe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},A0=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?f1(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>f1(i,n,t))}},g1=(t,e)=>{e.shouldUseNativeValidation&&A0(t,e);const n={};for(const r in t){const i=pe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(w7(e.names||Object.keys(t),r)){const l=Object.assign({},pe(n,r));it(l,"root",a),it(n,r,l)}else it(n,r,a)}return n},w7=(t,e)=>{const n=x1(e);return t.some(r=>x1(r).match(`^${n}\\.\\d+`))};function x1(t){return t.replace(/\]|\[/g,"")}function W4(t,e,n){function r(o,c){var d;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(d=o._zod).traits??(d.traits=new Set),o._zod.traits.add(t),e(o,c);for(const u in l.prototype)u in o||Object.defineProperty(o,u,{value:l.prototype[u].bind(o)});o._zod.constr=l,o._zod.def=c}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}function l(o){var c;const d=n!=null&&n.Parent?new a:this;r(d,o),(c=d._zod).deferred??(c.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(a,"name",{value:t}),Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,d;return!!(n!=null&&n.Parent&&o instanceof n.Parent)||((d=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:d.has(t))}}),Object.defineProperty(l,"name",{value:t}),l}class N7 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const p1={};function q4(t){return t&&Object.assign(p1,t),p1}function k7(t,e){return typeof e=="bigint"?e.toString():e}function Id(t){return typeof t=="string"?t:t==null?void 0:t.message}function K4(t,e,n){var i,a,l,o,c,d;const r={...t,path:t.path??[]};if(!t.message){const u=Id((l=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??Id((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Id((c=n.customError)==null?void 0:c.call(n,t))??Id((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";r.message=u}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const G4=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get:()=>JSON.stringify(e,k7,2),enumerable:!0})},S7=W4("$ZodError",G4),Y4=W4("$ZodError",G4,{Parent:Error}),T7=(t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new N7;if(l.issues.length){const o=new((i==null?void 0:i.Err)??t)(l.issues.map(c=>K4(c,a,q4())));throw Error.captureStackTrace(o,i==null?void 0:i.callee),o}return l.value})(Y4),C7=(t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((i==null?void 0:i.Err)??t)(l.issues.map(c=>K4(c,a,q4())));throw Error.captureStackTrace(o,i==null?void 0:i.callee),o}return l.value})(Y4);function y1(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function E7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[l]={message:o.message,type:o.code}}else n[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=n[l].types,d=c&&c[r.code];n[l]=Vp(l,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function D7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"){var o=r.errors[0][0];n[l]={message:o.message,type:o.code}}else n[l]={message:a,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(u){return u.forEach(function(h){return t.push(h)})}),e){var c=n[l].types,d=c&&c[r.code];n[l]=Vp(l,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function X4(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,i,a){try{return Promise.resolve(y1(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return a.shouldUseNativeValidation&&A0({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(l))return{values:{},errors:g1(E7(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,i,a){try{return Promise.resolve(y1(function(){return Promise.resolve((n.mode==="sync"?T7:C7)(t,r,e)).then(function(l){return a.shouldUseNativeValidation&&A0({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(o){return o instanceof S7}(l))return{values:{},errors:g1(D7(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const P7=Th({name:Rt().min(2,"H tn phi c t nht 2 k t"),email:Rt().email("Email khng hp l"),password:Rt().min(6,"Mt khu phi c t nht 6 k t"),confirmPassword:Rt(),phone:Rt().min(10,"S in thoi khng hp l"),gender:L0(["MALE","FEMALE","OTHER"],{errorMap:()=>({message:"Vui lng chn gii tnh"})}),birthdate:Rt().refine(t=>{const e=new Date;return new Date(t)<e},"Ngy sinh khng hp l"),address:Rt().optional(),otp:Rt().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Mt khu khng khp",path:["confirmPassword"]}),M7=({onSubmit:t,isLoading:e,error:n})=>{hs();const[r,i]=f.useState(n||""),[a,l]=f.useState(!1),[o,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState(""),[g,y]=f.useState(!1),[x,b]=f.useState(!1),{register:v,handleSubmit:p,watch:j,getValues:N,formState:{errors:w}}=B4({resolver:X4(P7)}),E=j("email"),M=j("otp"),k=async C=>{if(i(""),!d){i("Vui lng xc thc email ca bn bng m OTP trc khi ng k");return}t&&await t(C)},T=async C=>{if(C.preventDefault(),!E){i("Vui lng nhp email  nhn m OTP");return}try{c(!0),m("");const A=await Ee.sendOtp(E);b(!0),l(!0),i("")}catch(A){i(A.message||"Khng th gi m OTP. Vui lng th li sau.")}finally{c(!1)}},S=async C=>{if(C.preventDefault(),!M){m("Vui lng nhp m OTP");return}try{y(!0),m(""),(await Ee.verifyOtp(E,M)).success?(u(!0),m("")):m("M OTP khng hp l hoc  ht hn")}catch(A){m(A.message||"Khng th xc thc m OTP. Vui lng th li.")}finally{y(!1)}},P=async C=>{C.preventDefault();try{c(!0),m("");const A=await Ee.resendOtp(E);m(""),i("M OTP mi  c gi n email ca bn")}catch(A){m(A.message||"Khng th gi li m OTP. Vui lng th li sau.")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-800",children:"ng k ti khon"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoc"," ",s.jsx(ue,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"ng nhp nu  c ti khon"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p(k),children:[r&&s.jsx("div",{className:"rounded-md bg-red-50 border-l-4 border-red-500 p-4 shadow-sm",children:s.jsx("div",{className:"text-sm text-red-700",children:r})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 space-y-5",children:s.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn"}),s.jsx("input",{...v("name"),type:"text",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Nhp h v tn ca bn"}),w.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.name.message})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("div",{className:"flex",children:s.jsx("input",{...v("email"),type:"email",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"example@gmail.com",disabled:x})}),w.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.email.message}),s.jsx("div",{className:"mt-2",children:x?s.jsx("div",{className:"flex space-x-2",children:!d&&s.jsx("button",{type:"button",onClick:P,disabled:o,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"ang gi...":"Gi li m OTP"})}):s.jsx("button",{type:"button",onClick:T,disabled:o||!E,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang gi..."]}):"Gi m OTP"})})]}),a&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 mb-1",children:"M OTP"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{...v("otp"),type:"text",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Nhp m OTP  c gi n email ca bn",maxLength:6,disabled:d}),!d&&s.jsx("button",{type:"button",onClick:S,disabled:g||!M,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"ang xc thc...":"Xc thc"})]}),h&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h}),d&&s.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Email  c xc thc thnh cng"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"M OTP c hiu lc trong 10 pht"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu"}),s.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ti thiu 6 k t"}),w.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Xc nhn mt khu"}),s.jsx("input",{...v("confirmPassword"),type:"password",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Nhp li mt khu"}),w.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.confirmPassword.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi"}),s.jsx("input",{...v("phone"),type:"tel",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Nhp s in thoi ca bn"}),w.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.phone.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gii tnh"}),s.jsxs("select",{...v("gender"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Chn gii tnh"}),s.jsx("option",{value:"MALE",children:"Nam"}),s.jsx("option",{value:"FEMALE",children:"N"}),s.jsx("option",{value:"OTHER",children:"Khc"})]}),w.gender&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.gender.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"birthdate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy sinh"}),s.jsx("input",{...v("birthdate"),type:"date",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),w.birthdate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.birthdate.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"a ch"}),s.jsx("input",{...v("address"),type:"text",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Nhp a ch ca bn (khng bt buc)"}),w.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.address.message})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:e||!d,className:"group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-indigo-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),"ang x l..."]}):"ng k"})}),s.jsx("div",{className:"text-center",children:s.jsxs(ue,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Quay v trang ch"]})})]})]})})},_7=()=>{const t=hs(),[e,n]=f.useState(!1),[r,i]=f.useState(void 0);f.useEffect(()=>{if(Ee.isAuthenticated()){const{path:l}=Ee.getUserRoleAndPath();t(l)}},[t]);const a=async l=>{i(void 0),n(!0);try{const o=await Ee.register(l);console.log("ng k thnh cng!",o),t("/login",{replace:!0,state:{registered:!0,email:l.email}})}catch(o){i(o.message||" xy ra li trong qu trnh ng k. Vui lng th li."),console.error("Li ng k",o)}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-50",children:s.jsx(M7,{onSubmit:a,isLoading:e,error:r})})},L7=()=>{const[t,e]=f.useState([]),[n,r]=f.useState("all"),[i,a]=f.useState(!0);f.useEffect(()=>{(async()=>{await new Promise(y=>setTimeout(y,800)),e([{id:"1",title:"Nhc nh lch hn",message:"Bn c mt cuc hn mi c ln lch vo ngy mai lc 10:00 AM vi BS. Smith",time:"1 gi trc",read:!1,type:"appointment"},{id:"2",title:"Kt qu xt nghim  c",message:"Kt qu xt nghim gn y ca bn  c sn  xem",time:"2 gi trc",read:!1,type:"test"},{id:"3",title:"Np li thuc",message:"Yu cu np li thuc ca bn  c chp nhn v sn sng  ly",time:"1 ngy trc",read:!0,type:"medication"},{id:"4",title:"Bo tr h thng",message:"H thng s c bo tr vo Ch nht t 2:00 AM n 4:00 AM",time:"2 ngy trc",read:!0,type:"system"},{id:"5",title:"Lch hn  c i",message:"Cuc hn ca bn vi BS. Johnson  c chuyn sang th Su lc 2:00 PM",time:"3 ngy trc",read:!1,type:"appointment"}]),a(!1)})()},[]);const l=n==="all"?t:n==="unread"?t.filter(m=>!m.read):t.filter(m=>m.type===n),o=m=>{e(t.map(g=>g.id===m?{...g,read:!0}:g))},c=()=>{e(t.map(m=>({...m,read:!0})))},d=m=>{e(t.filter(g=>g.id!==m))},u=m=>{switch(m){case"appointment":return"bg-blue-100 text-blue-800";case"test":return"bg-green-100 text-green-800";case"medication":return"bg-yellow-100 text-yellow-800";case"system":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=m=>{switch(m){case"appointment":return"lch hn";case"test":return"xt nghim";case"medication":return"thuc";case"system":return"h thng";default:return m}};return s.jsx(be,{currentRole:se.CUSTOMER,userName:"Nguyn Vn An",hasNotifications:!0,children:s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Thng bo"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:n,onChange:m=>r(m.target.value),children:[s.jsx("option",{value:"all",children:"Tt c thng bo"}),s.jsx("option",{value:"unread",children:"Cha c"}),s.jsx("option",{value:"appointment",children:"Lch hn"}),s.jsx("option",{value:"test",children:"Kt qu xt nghim"}),s.jsx("option",{value:"medication",children:"Thuc"}),s.jsx("option",{value:"system",children:"H thng"})]}),t.some(m=>!m.read)&&s.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-900",onClick:c,children:"nh du tt c l  c"})]})]}),i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500",children:s.jsx("span",{className:"sr-only",children:"ang ti..."})})}):l.length>0?s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.map(m=>s.jsx("div",{className:`border-b border-gray-200 last:border-b-0 ${m.read?"bg-white":"bg-indigo-50"}`,children:s.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 truncate",children:[m.title,!m.read&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Mi"})]})}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(m.type)}`,children:h(m.type)}),s.jsx("span",{className:"ml-2",children:m.time})]})]}),s.jsxs("div",{className:"ml-5 flex-shrink-0",children:[!m.read&&s.jsx("button",{className:"mr-2 text-indigo-600 hover:text-indigo-900 text-sm font-medium",onClick:()=>o(m.id),children:"nh du  c"}),s.jsx("button",{className:"text-red-600 hover:text-red-900 text-sm font-medium",onClick:()=>d(m.id),children:"Xa"})]})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:m.message})]})},m.id))}):s.jsxs("div",{className:"text-center py-12 bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Khng c thng bo no"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tt c cc thng bo ca bn s hin th  y."})]})]})})})},zp=f.createContext({});function Up(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wp=typeof window<"u",Z4=Wp?f.useLayoutEffect:f.useEffect,Rm=f.createContext(null);function qp(t,e){t.indexOf(e)===-1&&t.push(e)}function Kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hr=(t,e,n)=>n>e?e:n<t?t:n;let Gp=()=>{};const zr={},Q4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function J4(t){return typeof t=="object"&&t!==null}const ek=t=>/^0[^.\s]+$/u.test(t);function Yp(t){let e;return()=>(e===void 0&&(e=t()),e)}const gn=t=>t,A7=(t,e)=>n=>e(t(n)),dd=(...t)=>t.reduce(A7),Oc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Xp{constructor(){this.subscriptions=[]}add(e){return qp(this.subscriptions,e),()=>Kp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,fr=t=>t/1e3;function tk(t,e){return e?t*(1e3/e):0}const sk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R7=1e-7,I7=12;function O7(t,e,n,r,i){let a,l,o=0;do l=e+(n-e)/2,a=sk(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>R7&&++o<I7);return l}function ud(t,e,n,r){if(t===e&&n===r)return gn;const i=a=>O7(a,0,1,t,n);return a=>a===0||a===1?a:sk(i(a),e,r)}const nk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rk=t=>e=>1-t(1-e),ik=ud(.33,1.53,.69,.99),Zp=rk(ik),ak=nk(Zp),lk=t=>(t*=2)<1?.5*Zp(t):.5*(2-Math.pow(2,-10*(t-1))),Qp=t=>1-Math.sin(Math.acos(t)),ok=rk(Qp),ck=nk(Qp),F7=ud(.42,0,1,1),V7=ud(0,0,.58,1),dk=ud(.42,0,.58,1),$7=t=>Array.isArray(t)&&typeof t[0]!="number",uk=t=>Array.isArray(t)&&typeof t[0]=="number",B7={linear:gn,easeIn:F7,easeInOut:dk,easeOut:V7,circIn:Qp,circInOut:ck,circOut:ok,backIn:Zp,backInOut:ak,backOut:ik,anticipate:lk},H7=t=>typeof t=="string",v1=t=>{if(uk(t)){Gp(t.length===4);const[e,n,r,i]=t;return ud(e,n,r,i)}else if(H7(t))return B7[t];return t},Od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],b1={value:null,addProjectionMetrics:null};function z7(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){l.has(h)&&(u.schedule(h),t()),c++,h(o)}const u={schedule:(h,m=!1,g=!1)=>{const x=g&&i?n:r;return m&&l.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),l.delete(h)},process:h=>{if(o=h,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&b1.value&&b1.value.frameloop[e].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const U7=40;function hk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Od.reduce((j,N)=>(j[N]=z7(a,e?N:void 0),j),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:g,postRender:y}=l,x=()=>{const j=zr.useManualTiming?i.timestamp:performance.now();n=!1,zr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,U7),1)),i.timestamp=j,i.isProcessing=!0,o.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},b=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Od.reduce((j,N)=>{const w=l[N];return j[N]=(E,M=!1,k=!1)=>(n||b(),w.schedule(E,M,k)),j},{}),cancel:j=>{for(let N=0;N<Od.length;N++)l[Od[N]].cancel(j)},state:i,steps:l}}const{schedule:Ct,cancel:Oi,state:rs,steps:Lf}=hk(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let Du;function W7(){Du=void 0}const Hs={now:()=>(Du===void 0&&Hs.set(rs.isProcessing||zr.useManualTiming?rs.timestamp:performance.now()),Du),set:t=>{Du=t,queueMicrotask(W7)}},mk=t=>e=>typeof e=="string"&&e.startsWith(t),Jp=mk("--"),q7=mk("var(--"),ey=t=>q7(t)?K7.test(t.split("/*")[0].trim()):!1,K7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ro={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fc={...ro,transform:t=>Hr(0,1,t)},Fd={...ro,default:1},sc=t=>Math.round(t*1e5)/1e5,ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G7(t){return t==null}const Y7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sy=(t,e)=>n=>!!(typeof n=="string"&&Y7.test(n)&&n.startsWith(t)||e&&!G7(n)&&Object.prototype.hasOwnProperty.call(n,e)),fk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,o]=r.match(ty);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},X7=t=>Hr(0,255,t),Af={...ro,transform:t=>Math.round(X7(t))},ma={test:sy("rgb","red"),parse:fk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Af.transform(t)+", "+Af.transform(e)+", "+Af.transform(n)+", "+sc(Fc.transform(r))+")"};function Z7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const R0={test:sy("#"),parse:Z7,transform:ma.transform},hd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ei=hd("deg"),gr=hd("%"),Pe=hd("px"),Q7=hd("vh"),J7=hd("vw"),j1=(()=>({...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(t*100)}))(),al={test:sy("hsl","hue"),parse:fk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gr.transform(sc(e))+", "+gr.transform(sc(n))+", "+sc(Fc.transform(r))+")"},Bt={test:t=>ma.test(t)||R0.test(t)||al.test(t),parse:t=>ma.test(t)?ma.parse(t):al.test(t)?al.parse(t):R0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ma.transform(t):al.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},eI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ty))==null?void 0:e.length)||0)+(((n=t.match(eI))==null?void 0:n.length)||0)>0}const gk="number",xk="color",sI="var",nI="var(",w1="${}",rI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(rI,c=>(Bt.test(c)?(r.color.push(a),i.push(xk),n.push(Bt.parse(c))):c.startsWith(nI)?(r.var.push(a),i.push(sI),n.push(c)):(r.number.push(a),i.push(gk),n.push(parseFloat(c))),++a,w1)).split(w1);return{values:n,split:o,indexes:r,types:i}}function pk(t){return Vc(t).values}function yk(t){const{split:e,types:n}=Vc(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const o=n[l];o===gk?a+=sc(i[l]):o===xk?a+=Bt.transform(i[l]):a+=i[l]}return a}}const iI=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function aI(t){const e=pk(t);return yk(t)(e.map(iI))}const Fi={test:tI,parse:pk,createTransformer:yk,getAnimatableNone:aI};function Rf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lI({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=Rf(c,o,t+1/3),a=Rf(c,o,t),l=Rf(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ch(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,If=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},oI=[R0,ma,al],cI=t=>oI.find(e=>e.test(t));function N1(t){const e=cI(t);if(!e)return!1;let n=e.parse(t);return e===al&&(n=lI(n)),n}const k1=(t,e)=>{const n=N1(t),r=N1(e);if(!n||!r)return Ch(t,e);const i={...n};return a=>(i.red=If(n.red,r.red,a),i.green=If(n.green,r.green,a),i.blue=If(n.blue,r.blue,a),i.alpha=kt(n.alpha,r.alpha,a),ma.transform(i))},I0=new Set(["none","hidden"]);function dI(t,e){return I0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uI(t,e){return n=>kt(t,e,n)}function ny(t){return typeof t=="number"?uI:typeof t=="string"?ey(t)?Ch:Bt.test(t)?k1:fI:Array.isArray(t)?vk:typeof t=="object"?Bt.test(t)?k1:hI:Ch}function vk(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>ny(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function hI(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ny(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function mI(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],o=t.values[l]??0;n[i]=o,r[a]++}return n}const fI=(t,e)=>{const n=Fi.createTransformer(e),r=Vc(t),i=Vc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?I0.has(t)&&!i.values.length||I0.has(e)&&!r.values.length?dI(t,e):dd(vk(mI(r,i),i.values),n):Ch(t,e)};function bk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):ny(t)(t,e)}const gI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>Oi(e),now:()=>rs.isProcessing?rs.timestamp:Hs.now()}},jk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Eh=2e4;function ry(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Eh;)e+=n,r=t.next(e);return e>=Eh?1/0:e}function xI(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ry(r),Eh);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:fr(i)}}const pI=5;function wk(t,e,n){const r=Math.max(e-pI,0);return tk(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Of=.001;function yI({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let i,a,l=1-e;l=Hr(Mt.minDamping,Mt.maxDamping,l),t=Hr(Mt.minDuration,Mt.maxDuration,fr(t)),l<1?(i=d=>{const u=d*l,h=u*t,m=u-n,g=O0(d,l),y=Math.exp(-h);return Of-m/g*y},a=d=>{const h=d*l*t,m=h*n+n,g=Math.pow(l,2)*Math.pow(d,2)*t,y=Math.exp(-h),x=O0(Math.pow(d,2),l);return(-i(d)+Of>0?-1:1)*((m-g)*y)/x}):(i=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-Of+u*h},a=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const o=5/t,c=bI(i,a,o);if(t=mr(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:t}}}const vI=12;function bI(t,e,n){let r=n;for(let i=1;i<vI;i++)r=r-t(r)/e(r);return r}function O0(t,e){return t*Math.sqrt(1-e*e)}const jI=["duration","bounce"],wI=["stiffness","damping","mass"];function S1(t,e){return e.some(n=>t[n]!==void 0)}function NI(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!S1(t,wI)&&S1(t,jI))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Hr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mt.mass,stiffness:i,damping:a}}else{const n=yI(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Dh(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:g}=NI({...n,velocity:-fr(n.velocity||0)}),y=m||0,x=d/(2*Math.sqrt(c*u)),b=l-a,v=fr(Math.sqrt(c/u)),p=Math.abs(b)<5;r||(r=p?Mt.restSpeed.granular:Mt.restSpeed.default),i||(i=p?Mt.restDelta.granular:Mt.restDelta.default);let j;if(x<1){const w=O0(v,x);j=E=>{const M=Math.exp(-x*v*E);return l-M*((y+x*v*b)/w*Math.sin(w*E)+b*Math.cos(w*E))}}else if(x===1)j=w=>l-Math.exp(-v*w)*(b+(y+v*b)*w);else{const w=v*Math.sqrt(x*x-1);j=E=>{const M=Math.exp(-x*v*E),k=Math.min(w*E,300);return l-M*((y+x*v*b)*Math.sinh(k)+w*b*Math.cosh(k))/w}}const N={calculatedDuration:g&&h||null,next:w=>{const E=j(w);if(g)o.done=w>=h;else{let M=w===0?y:0;x<1&&(M=w===0?mr(y):wk(j,w,E));const k=Math.abs(M)<=r,T=Math.abs(l-E)<=i;o.done=k&&T}return o.value=o.done?l:E,o},toString:()=>{const w=Math.min(ry(N),Eh),E=jk(M=>N.next(w*M).value,w,30);return w+"ms "+E},toTransition:()=>{}};return N}Dh.applyToOptions=t=>{const e=xI(t,100,Dh);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function F0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},g=k=>o!==void 0&&k<o||c!==void 0&&k>c,y=k=>o===void 0?c:c===void 0||Math.abs(o-k)<Math.abs(c-k)?o:c;let x=n*e;const b=h+x,v=l===void 0?b:l(b);v!==b&&(x=v-h);const p=k=>-x*Math.exp(-k/r),j=k=>v+p(k),N=k=>{const T=p(k),S=j(k);m.done=Math.abs(T)<=d,m.value=m.done?v:S};let w,E;const M=k=>{g(m.value)&&(w=k,E=Dh({keyframes:[m.value,y(m.value)],velocity:wk(j,k,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return M(0),{calculatedDuration:null,next:k=>{let T=!1;return!E&&w===void 0&&(T=!0,N(k),M(k)),w!==void 0&&k>=w?E.next(k-w):(!T&&N(k),m)}}}function kI(t,e,n){const r=[],i=n||zr.mix||bk,a=t.length-1;for(let l=0;l<a;l++){let o=i(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||gn:e;o=dd(c,o)}r.push(o)}return r}function SI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Gp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=kI(e,r,i),c=o.length,d=u=>{if(l&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=Oc(t[h],t[h+1],u);return o[h](m)};return n?u=>d(Hr(t[0],t[a-1],u)):d}function TI(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Oc(0,e,r);t.push(kt(n,1,i))}}function CI(t){const e=[0];return TI(e,t.length-1),e}function EI(t,e){return t.map(n=>n*e)}function DI(t,e){return t.map(()=>e||dk).splice(0,t.length-1)}function nc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$7(r)?r.map(v1):v1(r),a={done:!1,value:e[0]},l=EI(n&&n.length===e.length?n:CI(e),t),o=SI(l,e,{ease:Array.isArray(i)?i:DI(e,i)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const PI=t=>t!==null;function iy(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(PI),o=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const MI={decay:F0,inertia:F0,tween:nc,keyframes:nc,spring:Dh};function Nk(t){typeof t.type=="string"&&(t.type=MI[t.type])}class ay{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _I=t=>t/100;class ly extends ay{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Hs.now()&&this.tick(Hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Nk(e);const{type:n=nc,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:o}=e;const c=n||nc;c!==nc&&typeof o[0]!="number"&&(this.mixKeyframes=dd(_I,bk(o[0],o[1])),o=[0,100]);const d=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=ry(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:g,type:y,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,N=r;if(h){const k=Math.min(this.currentTime,i)/o;let T=Math.floor(k),S=k%1;!S&&k>=1&&(S=1),S===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(m==="reverse"?(S=1-S,g&&(S-=g/o)):m==="mirror"&&(N=l)),j=Hr(0,1,S)*o}const w=p?{done:!1,value:u[0]}:N.next(j);a&&(w.value=a(w.value));let{done:E}=w;!p&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return M&&y!==F0&&(w.value=iy(u,this.options,b,this.speed)),x&&x(w.value),M&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return fr(this.calculatedDuration)}get time(){return fr(this.currentTime)}set time(e){var n;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=gI,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function LI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fa=t=>t*180/Math.PI,V0=t=>{const e=fa(Math.atan2(t[1],t[0]));return $0(e)},AI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:V0,rotateZ:V0,skewX:t=>fa(Math.atan(t[1])),skewY:t=>fa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$0=t=>(t=t%360,t<0&&(t+=360),t),T1=V0,C1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),E1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),RI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C1,scaleY:E1,scale:t=>(C1(t)+E1(t))/2,rotateX:t=>$0(fa(Math.atan2(t[6],t[5]))),rotateY:t=>$0(fa(Math.atan2(-t[2],t[0]))),rotateZ:T1,rotate:T1,skewX:t=>fa(Math.atan(t[4])),skewY:t=>fa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function B0(t){return t.includes("scale")?1:0}function H0(t,e){if(!t||t==="none")return B0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=RI,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=AI,i=o}if(!i)return B0(e);const a=r[e],l=i[1].split(",").map(OI);return typeof a=="function"?a(l):l[a]}const II=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return H0(n,e)};function OI(t){return parseFloat(t.trim())}const io=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=(()=>new Set(io))(),D1=t=>t===ro||t===Pe,FI=new Set(["x","y","z"]),VI=io.filter(t=>!FI.has(t));function $I(t){const e=[];return VI.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>H0(e,"x"),y:(t,{transform:e})=>H0(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const va=new Set;let z0=!1,U0=!1,W0=!1;function kk(){if(U0){const t=Array.from(va).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$I(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var o;(o=r.getValue(a))==null||o.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}U0=!1,z0=!1,va.forEach(t=>t.complete(W0)),va.clear()}function Sk(){va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(U0=!0)})}function BI(){W0=!0,Sk(),kk(),W0=!1}class oy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),z0||(z0=!0,Ct.read(Sk),Ct.resolveKeyframes(kk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const o=r.readValue(n,l);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}LI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HI=t=>t.startsWith("--");function zI(t,e,n){HI(e)?t.style.setProperty(e,n):t.style[e]=n}const UI=Yp(()=>window.ScrollTimeline!==void 0),WI={};function qI(t,e){const n=Yp(t);return()=>WI[e]??n()}const Tk=qI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,P1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oo([0,.65,.55,1]),circOut:Oo([.55,0,1,.45]),backIn:Oo([.31,.01,.66,-.59]),backOut:Oo([.33,1.53,.69,.99])};function Ck(t,e){if(t)return typeof t=="function"?Tk()?jk(t,e):"ease-out":uk(t)?Oo(t):Array.isArray(t)?t.map(n=>Ck(n,e)||P1.easeOut):P1[t]}function KI(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=Ck(o,i);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(u,m)}function Ek(t){return typeof t=="function"&&"applyToOptions"in t}function GI({type:t,...e}){return Ek(t)&&Tk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class YI extends ay{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Gp(typeof e.type!="string");const d=GI(e);this.animation=KI(n,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=iy(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):zI(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return fr(Number(e))}get time(){return fr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UI()?(this.animation.timeline=e,gn):n(this)}}const Dk={anticipate:lk,backInOut:ak,circInOut:ck};function XI(t){return t in Dk}function ZI(t){typeof t.ease=="string"&&XI(t.ease)&&(t.ease=Dk[t.ease])}const M1=10;class QI extends YI{constructor(e){ZI(e),Nk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new ly({...l,autoplay:!1}),c=mr(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-M1).value,o.sample(c).value,M1),o.stop()}}const _1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fi.test(t)||t==="0")&&!t.startsWith("url("));function JI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function e9(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=_1(i,e),o=_1(a,e);return!l||!o?!1:JI(t)||(n==="spring"||Ek(n))&&r}function cy(t){return J4(t)&&"offsetHeight"in t}const t9=new Set(["opacity","clipPath","filter","transform"]),s9=Yp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function n9(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!cy((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:o,transformTemplate:c}=e.owner.getProps();return s9()&&n&&t9.has(n)&&(n!=="transform"||!c)&&!o&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const r9=40;class i9 extends ay{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...h}){var y;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Hs.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:c,motionValue:d,element:u,...h},g=(u==null?void 0:u.KeyframeResolver)||oy;this.keyframeResolver=new g(o,(x,b,v)=>this.onKeyframesResolved(x,b,m,!v),c,d,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Hs.now(),e9(e,a,l,o)||((zr.instantAnimations||!c)&&(u==null||u(iy(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>r9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!d&&n9(m)?new QI({...m,element:m.motionValue.owner.current}):new ly(m);g.finished.then(()=>this.notifyFinished()).catch(gn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),BI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const a9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l9(t){const e=a9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Pk(t,e,n=1){const[r,i]=l9(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return Q4(l)?parseFloat(l):l}return ey(i)?Pk(i,e,n+1):i}function dy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Mk=new Set(["width","height","top","left","right","bottom",...io]),o9={test:t=>t==="auto",parse:t=>t},_k=t=>e=>e.test(t),Lk=[ro,Pe,gr,ei,J7,Q7,o9],L1=t=>Lk.find(_k(t));function c9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ek(t):!0}const d9=new Set(["brightness","contrast","saturate","opacity"]);function u9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ty)||[];if(!r)return t;const i=n.replace(r,"");let a=d9.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const h9=/\b([a-z-]*)\(.*?\)/gu,q0={...Fi,getAnimatableNone:t=>{const e=t.match(h9);return e?e.map(u9).join(" "):t}},A1={...ro,transform:Math.round},m9={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Fd,scaleX:Fd,scaleY:Fd,scaleZ:Fd,skew:ei,skewX:ei,skewY:ei,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Fc,originX:j1,originY:j1,originZ:Pe},uy={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...m9,zIndex:A1,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:A1},f9={...uy,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:q0,WebkitFilter:q0},Ak=t=>f9[t];function Rk(t,e){let n=Ak(t);return n!==q0&&(n=Fi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g9=new Set(["auto","none","0"]);function x9(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!g9.has(a)&&Vc(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Rk(n,i)}class p9 extends oy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),ey(d))){const u=Pk(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Mk.has(r)||e.length!==2)return;const[i,a]=e,l=L1(i),o=L1(a);if(l!==o)if(D1(l)&&D1(o))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||c9(e[i]))&&r.push(i);r.length&&x9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Ik(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Ok=(t,e)=>e&&typeof t=="number"?e.transform(t):t,R1=30,y9=t=>!isNaN(parseFloat(t));class v9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,o;const a=Hs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xp);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R1);return tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(t,e){return new v9(t,e)}const{schedule:hy,cancel:EY}=hk(queueMicrotask,!1),Nn={x:!1,y:!1};function Fk(){return Nn.x||Nn.y}function b9(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function Vk(t,e){const n=Ik(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function I1(t){return!(t.pointerType==="touch"||Fk())}function j9(t,e,n={}){const[r,i,a]=Vk(t,n),l=o=>{if(!I1(o))return;const{target:c}=o,d=e(c,o);if(typeof d!="function"||!c)return;const u=h=>{I1(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(o=>{o.addEventListener("pointerenter",l,i)}),a}const $k=(t,e)=>e?t===e?!0:$k(t,e.parentElement):!1,my=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,w9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N9(t){return w9.has(t.tagName)||t.tabIndex!==-1}const Pu=new WeakSet;function O1(t){return e=>{e.key==="Enter"&&t(e)}}function Ff(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const k9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=O1(()=>{if(Pu.has(n))return;Ff(n,"down");const i=O1(()=>{Ff(n,"up")}),a=()=>Ff(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function F1(t){return my(t)&&!Fk()}function S9(t,e,n={}){const[r,i,a]=Vk(t,n),l=o=>{const c=o.currentTarget;if(!F1(o))return;Pu.add(c);const d=e(c,o),u=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Pu.has(c)&&Pu.delete(c),F1(g)&&typeof d=="function"&&d(g,{success:y})},h=g=>{u(g,c===window||c===document||n.useGlobalTarget||$k(c,g.target))},m=g=>{u(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,i),cy(o)&&(o.addEventListener("focus",d=>k9(d,i)),!N9(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Bk(t){return J4(t)&&"ownerSVGElement"in t}function T9(t){return Bk(t)&&t.tagName==="svg"}const bs=t=>!!(t&&t.getVelocity),C9=[...Lk,Bt,Fi],E9=t=>C9.find(_k(t)),fy=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class D9 extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=cy(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P9({children:t,isPresent:e,anchorX:n}){const r=f.useId(),i=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=f.useContext(fy);return f.useInsertionEffect(()=>{const{width:o,height:c,top:d,left:u,right:h}=a.current;if(e||!i.current||!o||!c)return;const m=n==="left"?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return l&&(g.nonce=l),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),s.jsx(D9,{isPresent:e,childRef:i,sizeRef:a,children:f.cloneElement(t,{ref:i})})}const M9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:o})=>{const c=Up(_9),d=f.useId();let u=!0,h=f.useMemo(()=>(u=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const g of c.values())if(!g)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return a&&u&&(h={...h}),f.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[n]),f.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(t=s.jsx(P9,{isPresent:n,anchorX:o,children:t})),s.jsx(Rm.Provider,{value:h,children:t})};function _9(){return new Map}function Hk(t=!0){const e=f.useContext(Rm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=f.useId();f.useEffect(()=>{if(t)return i(a)},[t]);const l=f.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Vd=t=>t.key||"";function V1(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const gy=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:o="left"})=>{const[c,d]=Hk(l),u=f.useMemo(()=>V1(t),[t]),h=l&&!c?[]:u.map(Vd),m=f.useRef(!0),g=f.useRef(u),y=Up(()=>new Map),[x,b]=f.useState(u),[v,p]=f.useState(u);Z4(()=>{m.current=!1,g.current=u;for(let w=0;w<v.length;w++){const E=Vd(v[w]);h.includes(E)?y.delete(E):y.get(E)!==!0&&y.set(E,!1)}},[v,h.length,h.join("-")]);const j=[];if(u!==x){let w=[...u];for(let E=0;E<v.length;E++){const M=v[E],k=Vd(M);h.includes(k)||(w.splice(E,0,M),j.push(M))}return a==="wait"&&j.length&&(w=j),p(V1(w)),b(u),null}const{forceRender:N}=f.useContext(zp);return s.jsx(s.Fragment,{children:v.map(w=>{const E=Vd(w),M=l&&!c?!1:u===v||h.includes(E),k=()=>{if(y.has(E))y.set(E,!0);else return;let T=!0;y.forEach(S=>{S||(T=!1)}),T&&(N==null||N(),p(g.current),l&&(d==null||d()),r&&r())};return s.jsx(M9,{isPresent:M,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,onExitComplete:M?void 0:k,anchorX:o,children:w},E)})})},zk=f.createContext({strict:!1}),$1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in $1)Bl[t]={isEnabled:e=>$1[t].some(n=>!!e[n])};function L9(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const A9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A9.has(t)}let Uk=t=>!Ph(t);function R9(t){typeof t=="function"&&(Uk=e=>e.startsWith("on")?!Ph(e):t(e))}try{R9(require("@emotion/is-prop-valid").default)}catch{}function I9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Uk(i)||n===!0&&Ph(i)||!e&&!Ph(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function O9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Im=f.createContext({});function Om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $c(t){return typeof t=="string"||Array.isArray(t)}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],py=["initial",...xy];function Fm(t){return Om(t.animate)||py.some(e=>$c(t[e]))}function Wk(t){return!!(Fm(t)||t.variants)}function F9(t,e){if(Fm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$c(n)?n:void 0,animate:$c(r)?r:void 0}}return t.inherit!==!1?e:{}}function V9(t){const{initial:e,animate:n}=F9(t,f.useContext(Im));return f.useMemo(()=>({initial:e,animate:n}),[B1(e),B1(n)])}function B1(t){return Array.isArray(t)?t.join(" "):t}const $9=Symbol.for("motionComponentSymbol");function ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B9(t,e,n){return f.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ll(n)&&(n.current=r))},[e])}const yy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H9="framerAppearId",qk="data-"+yy(H9),Kk=f.createContext({});function z9(t,e,n,r,i){var x,b;const{visualElement:a}=f.useContext(Im),l=f.useContext(zk),o=f.useContext(Rm),c=f.useContext(fy).reducedMotion,d=f.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=f.useContext(Kk);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&U9(d.current,n,i,h);const m=f.useRef(!1);f.useInsertionEffect(()=>{u&&m.current&&u.update(n,o)});const g=n[qk],y=f.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return Z4(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),hy.render(u.render),y.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),y.current=!1))}),u}function U9(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Gk(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||o&&ll(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function Gk(t){if(t)return t.options.allowProjection!==!1?t.projection:Gk(t.parent)}function W9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&L9(t);function a(o,c){let d;const u={...f.useContext(fy),...o,layoutId:q9(o)},{isStatic:h}=u,m=V9(o),g=r(o,h);if(!h&&Wp){K9();const y=G9(u);d=y.MeasureLayout,m.visualElement=z9(i,g,u,e,y.ProjectionNode)}return s.jsxs(Im.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...u}):null,n(i,o,B9(g,m.visualElement,c),g,h,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=f.forwardRef(a);return l[$9]=i,l}function q9({layoutId:t}){const e=f.useContext(zp).id;return e&&t!==void 0?e+"-"+t:t}function K9(t,e){f.useContext(zk).strict}function G9(t){const{drag:e,layout:n}=Bl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Bc={};function Y9(t){for(const e in t)Bc[e]=t[e],Jp(e)&&(Bc[e].isCSSVariable=!0)}function Yk(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bc[t]||t==="opacity")}const X9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z9=io.length;function Q9(t,e,n){let r="",i=!0;for(let a=0;a<Z9;a++){const l=io[a],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=Ok(o,uy[l]);if(!c){i=!1;const u=X9[l]||l;r+=`${u}(${d}) `}n&&(e[l]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function vy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,o=!1;for(const c in e){const d=e[c];if(ao.has(c)){l=!0;continue}else if(Jp(c)){i[c]=d;continue}else{const u=Ok(d,uy[c]);c.startsWith("origin")?(o=!0,a[c]=u):r[c]=u}}if(e.transform||(l||n?r.transform=Q9(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const by=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xk(t,e,n){for(const r in e)!bs(e[r])&&!Yk(r,n)&&(t[r]=e[r])}function J9({transformTemplate:t},e){return f.useMemo(()=>{const n=by();return vy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eO(t,e){const n=t.style||{},r={};return Xk(r,n,t),Object.assign(r,J9(t,e)),r}function tO(t,e){const n={},r=eO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sO={offset:"stroke-dashoffset",array:"stroke-dasharray"},nO={offset:"strokeDashoffset",array:"strokeDasharray"};function rO(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?sO:nO;t[a.offset]=Pe.transform(-r);const l=Pe.transform(e),o=Pe.transform(n);t[a.array]=`${l} ${o}`}function Zk(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...o},c,d,u){if(vy(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&rO(h,i,a,l,!1)}const Qk=()=>({...by(),attrs:{}}),Jk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iO(t,e,n,r){const i=f.useMemo(()=>{const a=Qk();return Zk(a,e,Jk(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Xk(a,t.style,t),i.style={...a,...i.style}}return i}const aO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jy(t){return typeof t!="string"||t.includes("-")?!1:!!(aO.indexOf(t)>-1||/[A-Z]/u.test(t))}function lO(t=!1){return(n,r,i,{latestValues:a},l)=>{const c=(jy(n)?iO:tO)(r,a,l,n),d=I9(r,typeof n=="string",t),u=n!==f.Fragment?{...d,...c,ref:i}:{},{children:h}=r,m=f.useMemo(()=>bs(h)?h.get():h,[h]);return f.createElement(n,{...u,children:m})}}function H1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wy(t,e,n,r){if(typeof e=="function"){const[i,a]=H1(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=H1(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Mu(t){return bs(t)?t.get():t}function oO({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:cO(n,r,i,t),renderState:e()}}const eS=t=>(e,n)=>{const r=f.useContext(Im),i=f.useContext(Rm),a=()=>oO(t,e,r,i);return n?a():Up(a)};function cO(t,e,n,r){const i={},a=r(t,{});for(const m in a)i[m]=Mu(a[m]);let{initial:l,animate:o}=t;const c=Fm(t),d=Wk(t);e&&d&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||l===!1;const h=u?o:l;if(h&&typeof h!="boolean"&&!Om(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const y=wy(t,m[g]);if(y){const{transitionEnd:x,transition:b,...v}=y;for(const p in v){let j=v[p];if(Array.isArray(j)){const N=u?j.length-1:0;j=j[N]}j!==null&&(i[p]=j)}for(const p in x)i[p]=x[p]}}}return i}function Ny(t,e,n){var a;const{style:r}=t,i={};for(const l in r)(bs(r[l])||e.style&&bs(e.style[l])||Yk(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const dO={useVisualState:eS({scrapeMotionValuesFromProps:Ny,createRenderState:by})};function tS(t,e,n){const r=Ny(t,e,n);for(const i in t)if(bs(t[i])||bs(e[i])){const a=io.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const uO={useVisualState:eS({scrapeMotionValuesFromProps:tS,createRenderState:Qk})};function hO(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...jy(r)?uO:dO,preloadedFeatures:t,useRender:lO(i),createVisualElement:e,Component:r};return W9(l)}}function Hc(t,e,n){const r=t.getProps();return wy(r,e,n!==void 0?n:r.custom,t)}const K0=t=>Array.isArray(t);function mO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$l(n))}function fO(t){return K0(t)?t[t.length-1]||0:t}function gO(t,e){const n=Hc(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const o=fO(a[l]);mO(t,l,o)}}function xO(t){return!!(bs(t)&&t.add)}function G0(t,e){const n=t.getValue("willChange");if(xO(n))return n.add(e);if(!n&&zr.WillChange){const r=new zr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function sS(t){return t.props[qk]}const pO=t=>t!==null;function yO(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(pO),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const vO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jO={type:"keyframes",duration:.8},wO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NO=(t,{keyframes:e})=>e.length>2?jO:ao.has(t)?t.startsWith("scale")?bO(e[1]):vO:wO;function kO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ky=(t,e,n,r={},i,a)=>l=>{const o=dy(r,t)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-mr(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-d,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};kO(o)||Object.assign(u,NO(t,u)),u.duration&&(u.duration=mr(u.duration)),u.repeatDelay&&(u.repeatDelay=mr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(zr.instantAnimations||zr.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!a&&e.get()!==void 0){const m=yO(u.keyframes,o);if(m!==void 0){Ct.update(()=>{u.onUpdate(m),u.onComplete()});return}}return o.isSync?new ly(u):new i9(u)};function SO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...o}=e;r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const h=t.getValue(u,t.latestValues[u]??null),m=o[u];if(m===void 0||d&&SO(d,u))continue;const g={delay:n,...dy(a||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=sS(t);if(v){const p=window.MotionHandoffAnimation(v,u,Ct);p!==null&&(g.startTime=p,x=!0)}}G0(t,u),h.start(ky(u,h,m,t.shouldReduceMotion&&Mk.has(u)?{type:!1}:g,t,x));const b=h.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{Ct.update(()=>{l&&gO(t,l)})}),c}function Y0(t,e,n={}){var c;const r=Hc(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(nS(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return TO(t,e,u+d,h,m,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[d,u]=o==="beforeChildren"?[a,l]:[l,a];return d().then(()=>u())}else return Promise.all([a(),l(n.delay)])}function TO(t,e,n=0,r=0,i=1,a){const l=[],o=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>o-d*r;return Array.from(t.variantChildren).sort(CO).forEach((d,u)=>{d.notify("AnimationStart",e),l.push(Y0(d,e,{...a,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function CO(t,e){return t.sortNodePosition(e)}function EO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Y0(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Y0(t,e,n);else{const i=typeof e=="function"?Hc(t,e,n.custom):e;r=Promise.all(nS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function rS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const DO=py.length;function iS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DO;n++){const r=py[n],i=t.props[r];($c(i)||i===!1)&&(e[r]=i)}return e}const PO=[...xy].reverse(),MO=xy.length;function _O(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EO(t,n,r)))}function LO(t){let e=_O(t),n=z1(),r=!0;const i=c=>(d,u)=>{var m;const h=Hc(t,u,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:y,...x}=h;d={...d,...x,...y}}return d};function a(c){e=c(t)}function l(c){const{props:d}=t,u=iS(t.parent)||{},h=[],m=new Set;let g={},y=1/0;for(let b=0;b<MO;b++){const v=PO[b],p=n[v],j=d[v]!==void 0?d[v]:u[v],N=$c(j),w=v===c?p.isActive:null;w===!1&&(y=b);let E=j===u[v]&&j!==d[v]&&N;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...g},!p.isActive&&w===null||!j&&!p.prevProp||Om(j)||typeof j=="boolean")continue;const M=AO(p.prevProp,j);let k=M||v===c&&p.isActive&&!E&&N||b>y&&N,T=!1;const S=Array.isArray(j)?j:[j];let P=S.reduce(i(v),{});w===!1&&(P={});const{prevResolvedValues:C={}}=p,A={...C,...P},I=O=>{k=!0,m.has(O)&&(T=!0,m.delete(O)),p.needsAnimating[O]=!0;const D=t.getValue(O);D&&(D.liveStyle=!1)};for(const O in A){const D=P[O],R=C[O];if(g.hasOwnProperty(O))continue;let B=!1;K0(D)&&K0(R)?B=!rS(D,R):B=D!==R,B?D!=null?I(O):m.add(O):D!==void 0&&m.has(O)?I(O):p.protectedKeys[O]=!0}p.prevProp=j,p.prevResolvedValues=P,p.isActive&&(g={...g,...P}),r&&t.blockInitialAnimation&&(k=!1),k&&(!(E&&M)||T)&&h.push(...S.map(O=>({animation:O,options:{type:v}})))}if(m.size){const b={};if(typeof d.initial!="boolean"){const v=Hc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(b.transition=v.transition)}m.forEach(v=>{const p=t.getBaseTarget(v),j=t.getValue(v);j&&(j.liveStyle=!0),b[v]=p??null}),h.push({animation:b})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function o(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,d)}),n[c].isActive=d;const u=l(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=z1(),r=!0}}}function AO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rS(e,t):!1}function Gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z1(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RO extends Ui{constructor(e){super(e),e.animationState||(e.animationState=LO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IO=0;class OO extends Ui{constructor(){super(...arguments),this.id=IO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const FO={animation:{Feature:RO},exit:{Feature:OO}};function zc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function md(t){return{point:{x:t.pageX,y:t.pageY}}}const VO=t=>e=>my(e)&&t(e,md(e));function rc(t,e,n,r){return zc(t,e,VO(n),r)}function aS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $O({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const lS=1e-4,HO=1-lS,zO=1+lS,oS=.01,UO=0-oS,WO=0+oS;function _s(t){return t.max-t.min}function qO(t,e,n){return Math.abs(t-e)<=n}function U1(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=_s(n)/_s(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HO&&t.scale<=zO||isNaN(t.scale))&&(t.scale=1),(t.translate>=UO&&t.translate<=WO||isNaN(t.translate))&&(t.translate=0)}function ic(t,e,n,r){U1(t.x,e.x,n.x,r?r.originX:void 0),U1(t.y,e.y,n.y,r?r.originY:void 0)}function W1(t,e,n){t.min=n.min+e.min,t.max=t.min+_s(e)}function KO(t,e,n){W1(t.x,e.x,n.x),W1(t.y,e.y,n.y)}function q1(t,e,n){t.min=e.min-n.min,t.max=t.min+_s(e)}function ac(t,e,n){q1(t.x,e.x,n.x),q1(t.y,e.y,n.y)}const K1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:K1(),y:K1()}),G1=()=>({min:0,max:0}),At=()=>({x:G1(),y:G1()});function cn(t){return[t("x"),t("y")]}function Vf(t){return t===void 0||t===1}function X0({scale:t,scaleX:e,scaleY:n}){return!Vf(t)||!Vf(e)||!Vf(n)}function sa(t){return X0(t)||cS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cS(t){return Y1(t.x)||Y1(t.y)}function Y1(t){return t&&t!=="0%"}function Mh(t,e,n){const r=t-n,i=e*r;return n+i}function X1(t,e,n,r,i){return i!==void 0&&(t=Mh(t,i,r)),Mh(t,n,r)+e}function Z0(t,e=0,n=1,r,i){t.min=X1(t.min,e,n,r,i),t.max=X1(t.max,e,n,r,i)}function dS(t,{x:e,y:n}){Z0(t.x,e.translate,e.scale,e.originPoint),Z0(t.y,n.translate,n.scale,n.originPoint)}const Z1=.999999999999,Q1=1.0000000000001;function GO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let o=0;o<i;o++){a=n[o],l=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,dS(t,l)),r&&sa(a.latestValues)&&dl(t,a.latestValues))}e.x<Q1&&e.x>Z1&&(e.x=1),e.y<Q1&&e.y>Z1&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function J1(t,e,n,r,i=.5){const a=kt(t.min,t.max,i);Z0(t,e,n,a,r)}function dl(t,e){J1(t.x,e.x,e.scaleX,e.scale,e.originX),J1(t.y,e.y,e.scaleY,e.scale,e.originY)}function uS(t,e){return aS(BO(t.getBoundingClientRect(),e))}function YO(t,e,n){const r=uS(t,n),{scroll:i}=e;return i&&(cl(r.x,i.offset.x),cl(r.y,i.offset.y)),r}const hS=({current:t})=>t?t.ownerDocument.defaultView:null,ej=(t,e)=>Math.abs(t-e);function XO(t,e){const n=ej(t.x,e.x),r=ej(t.y,e.y);return Math.sqrt(n**2+r**2)}class mS{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bf(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=XO(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:y}=h,{timestamp:x}=rs;this.history.push({...y,timestamp:x});const{onStart:b,onMove:v}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$f(m,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Bf(h.type==="pointercancel"?this.lastMoveEventInfo:$f(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),y&&y(h,b)},!my(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=md(e),o=$f(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=rs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(e,Bf(o,this.history)),this.removeListeners=dd(rc(this.contextWindow,"pointermove",this.handlePointerMove),rc(this.contextWindow,"pointerup",this.handlePointerUp),rc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oi(this.updatePoint)}}function $f(t,e){return e?{point:e(t.point)}:t}function tj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bf({point:t},e){return{point:t,delta:tj(t,fS(e)),offset:tj(t,ZO(e)),velocity:QO(e,.1)}}function ZO(t){return t[0]}function fS(t){return t[t.length-1]}function QO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=fS(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mr(e)));)n--;if(!r)return{x:0,y:0};const a=fr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function JO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function sj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eF(t,{top:e,left:n,bottom:r,right:i}){return{x:sj(t.x,n,i),y:sj(t.y,e,r)}}function nj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tF(t,e){return{x:nj(t.x,e.x),y:nj(t.y,e.y)}}function sF(t,e){let n=.5;const r=_s(t),i=_s(e);return i>r?n=Oc(e.min,e.max-r,t.min):r>i&&(n=Oc(t.min,t.max-i,e.min)),Hr(0,1,n)}function nF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Q0=.35;function rF(t=Q0){return t===!1?t=0:t===!0&&(t=Q0),{x:rj(t,"left","right"),y:rj(t,"top","bottom")}}function rj(t,e,n){return{min:ij(t,e),max:ij(t,n)}}function ij(t,e){return typeof t=="number"?t:t[e]||0}const iF=new WeakMap;class aF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(md(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b9(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(gr.test(v)){const{projection:p}=this.visualElement;if(p&&p.layout){const j=p.layout.layoutBox[b];j&&(v=_s(j)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&Ct.postRender(()=>y(u,h)),G0(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(u,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=lF(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(u,h)},o=(u,h)=>this.stop(u,h),c=()=>cn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mS(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:hS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ct.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$d(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=JO(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eF(r.layoutBox,e):this.constraints=!1,this.elastic=rF(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=nF(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ll(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=YO(r,i.root,this.visualElement.getTransformPagePoint());let l=tF(i.layout.layoutBox,a);if(n){const o=n($O(l));this.hasMutatedConstraints=!!o,o&&(l=aS(o))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=cn(u=>{if(!$d(u,n,this.currentDirection))return;let h=c&&c[u]||{};l&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return G0(this.visualElement,e),r.start(ky(e,r,0,n,this.visualElement,!1))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:r}=this.getProps();if(!$d(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:o}=i.layout.layoutBox[n];a.set(e[n]-kt(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ll(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};cn(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();i[l]=sF({min:c,max:c},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cn(l=>{if(!$d(l,e,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(kt(c,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;iF.set(this.visualElement,this);const e=this.visualElement.current,n=rc(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ll(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ct.read(r);const l=zc(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(cn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Q0,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:o}}}function $d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oF extends Ui{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new aF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const aj=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class cF extends Ui{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new mS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aj(e),onStart:aj(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Ct.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=rc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _u={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ko={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=lj(t,e.target.x),r=lj(t,e.target.y);return`${n}% ${r}%`}},dF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fi.parse(t);if(i.length>5)return r;const a=Fi.createTransformer(t),l=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+l]/=o,i[1+l]/=c;const d=kt(o,c,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),a(i)}};class uF extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Y9(hF),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_u.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ct.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gS(t){const[e,n]=Hk(),r=f.useContext(zp);return s.jsx(uF,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(Kk),isPresent:e,safeToRemove:n})}const hF={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:dF};function mF(t,e,n){const r=bs(t)?t:$l(t);return r.start(ky("",r,e,n)),r.animation}const fF=(t,e)=>t.depth-e.depth;class gF{constructor(){this.children=[],this.isDirty=!1}add(e){qp(this.children,e),this.isDirty=!0}remove(e){Kp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fF),this.isDirty=!1,this.children.forEach(e)}}function xF(t,e){const n=Hs.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Oi(r),t(a-e))};return Ct.setup(r,!0),()=>Oi(r)}const xS=["TopLeft","TopRight","BottomLeft","BottomRight"],pF=xS.length,oj=t=>typeof t=="string"?parseFloat(t):t,cj=t=>typeof t=="number"||Pe.test(t);function yF(t,e,n,r,i,a){i?(t.opacity=kt(0,n.opacity??1,vF(r)),t.opacityExit=kt(e.opacity??1,0,bF(r))):a&&(t.opacity=kt(e.opacity??1,n.opacity??1,r));for(let l=0;l<pF;l++){const o=`border${xS[l]}Radius`;let c=dj(e,o),d=dj(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||cj(c)===cj(d)?(t[o]=Math.max(kt(oj(c),oj(d),r),0),(gr.test(d)||gr.test(c))&&(t[o]+="%")):t[o]=d}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function dj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vF=pS(0,.5,ok),bF=pS(.5,.95,gn);function pS(t,e,n){return r=>r<t?0:r>e?1:n(Oc(t,e,r))}function uj(t,e){t.min=e.min,t.max=e.max}function an(t,e){uj(t.x,e.x),uj(t.y,e.y)}function hj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mj(t,e,n,r,i){return t-=e,t=Mh(t,1/n,r),i!==void 0&&(t=Mh(t,1/i,r)),t}function jF(t,e=0,n=1,r=.5,i,a=t,l=t){if(gr.test(e)&&(e=parseFloat(e),e=kt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let o=kt(a.min,a.max,r);t===a&&(o-=e),t.min=mj(t.min,e,n,o,i),t.max=mj(t.max,e,n,o,i)}function fj(t,e,[n,r,i],a,l){jF(t,e[n],e[r],e[i],e.scale,a,l)}const wF=["x","scaleX","originX"],NF=["y","scaleY","originY"];function gj(t,e,n,r){fj(t.x,e,wF,n?n.x:void 0,r?r.x:void 0),fj(t.y,e,NF,n?n.y:void 0,r?r.y:void 0)}function xj(t){return t.translate===0&&t.scale===1}function yS(t){return xj(t.x)&&xj(t.y)}function pj(t,e){return t.min===e.min&&t.max===e.max}function kF(t,e){return pj(t.x,e.x)&&pj(t.y,e.y)}function yj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vS(t,e){return yj(t.x,e.x)&&yj(t.y,e.y)}function vj(t){return _s(t.x)/_s(t.y)}function bj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SF{constructor(){this.members=[]}add(e){qp(this.members,e),e.scheduleRender()}remove(e){if(Kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TF(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:g,skewY:y}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),y&&(r+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const Hf=["","X","Y","Z"],CF={visibility:"hidden"},EF=1e3;let DF=0;function zf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bS(r)}function jS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},o=e==null?void 0:e()){this.id=DF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_F),this.nodes.forEach(OF),this.nodes.forEach(FF),this.nodes.forEach(LF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gF)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Xp),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Bk(l)&&!T9(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=xF(h,250),_u.hasAnimatedSinceResize&&(_u.hasAnimatedSinceResize=!1,this.nodes.forEach(wj))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||zF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!vS(this.targetLayout,g),p=!h&&m;if(this.options.layoutRoot||this.resumeFrom||p||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...dy(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,p)}else h||wj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jj);return}this.isUpdating||this.nodes.forEach(RF),this.isUpdating=!1,this.nodes.forEach(IF),this.nodes.forEach(PF),this.nodes.forEach(MF),this.clearAllSnapshots();const o=Hs.now();rs.delta=Hr(0,1e3/60,o-rs.timestamp),rs.timestamp=o,rs.isProcessing=!0,Lf.update.process(rs),Lf.preRender.process(rs),Lf.render.process(rs),rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AF),this.sharedNodes.forEach($F)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yS(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||sa(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),UF(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return At();const o=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(WF))){const{scroll:u}=this.root;u&&(cl(o.x,u.offset.x),cl(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=At();if(an(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&an(o,l),cl(o.x,h.offset.x),cl(o.y,h.offset.y))}return o}applyTransform(l,o=!1){const c=At();an(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&dl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),sa(u.latestValues)&&dl(c,u.latestValues)}return sa(this.latestValues)&&dl(c,this.latestValues),c}removeTransform(l){const o=At();an(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!sa(d.latestValues))continue;X0(d.latestValues)&&d.updateSnapshot();const u=At(),h=d.measurePageBox();an(u,h),gj(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return sa(this.latestValues)&&gj(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=rs.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),ac(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),dS(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),ac(this.relativeTargetOrigin,this.target,g.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||X0(this.parent.latestValues)||cS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;an(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;GO(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=At());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hj(this.prevProjectionDelta.x,this.projectionDelta.x),hj(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!bj(this.projectionDelta.x,this.prevProjectionDelta.x)||!bj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=At(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,b=this.getStack(),v=!b||b.members.length<=1,p=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(HF));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const w=N/1e3;Nj(h.x,l.x,w),Nj(h.y,l.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ac(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BF(this.relativeTarget,this.relativeTargetOrigin,m,w),j&&kF(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=At()),an(j,this.relativeTarget)),x&&(this.animationValues=u,yF(u,d,this.latestValues,w,p,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Oi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{_u.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$l(0)),this.currentAnimation=mF(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&wS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||At();const h=_s(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const m=_s(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+m}an(o,c),dl(o,u),ic(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new SF),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&zf("z",l,d,this.animationValues);for(let u=0;u<Hf.length;u++)zf(`rotate${Hf[u]}`,l,d,this.animationValues),zf(`skew${Hf[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return CF;const o={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Mu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none",o;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Mu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),o.transform=TF(this.projectionDeltaWithTransform,this.treeScale,u),c&&(o.transform=c(u,o.transform));const{x:h,y:m}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Bc){if(u[g]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:b}=Bc[g],v=o.transform==="none"?u[g]:y(u[g],d);if(x){const p=x.length;for(let j=0;j<p;j++)o[x[j]]=v}else b?this.options.visualElement.renderState.vars[g]=v:o[g]=v}return this.options.layoutId&&(o.pointerEvents=d===this?Mu(l==null?void 0:l.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(jj),this.root.sharedNodes.clear()}}}function PF(t){t.updateLayout()}function MF(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?cn(h=>{const m=l?e.measuredBox[h]:e.layoutBox[h],g=_s(m);m.min=r[h].min,m.max=m.min+g}):wS(a,e.layoutBox,r)&&cn(h=>{const m=l?e.measuredBox[h]:e.layoutBox[h],g=_s(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const o=ol();ic(o,r,e.layoutBox);const c=ol();l?ic(c,t.applyTransform(i,!0),e.measuredBox):ic(c,r,e.layoutBox);const d=!yS(o);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=At();ac(y,e.layoutBox,m.layoutBox);const x=At();ac(x,r,g.layoutBox),vS(y,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _F(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AF(t){t.clearSnapshot()}function jj(t){t.clearMeasurements()}function RF(t){t.isLayoutDirty=!1}function IF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OF(t){t.resolveTargetDelta()}function FF(t){t.calcProjection()}function VF(t){t.resetSkewAndRotation()}function $F(t){t.removeLeadSnapshot()}function Nj(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kj(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function BF(t,e,n,r){kj(t.x,e.x,n.x,r),kj(t.y,e.y,n.y,r)}function HF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zF={duration:.45,ease:[.4,0,.1,1]},Sj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Tj=Sj("applewebkit/")&&!Sj("chrome/")?Math.round:gn;function Cj(t){t.min=Tj(t.min),t.max=Tj(t.max)}function UF(t){Cj(t.x),Cj(t.y)}function wS(t,e,n){return t==="position"||t==="preserve-aspect"&&!qO(vj(e),vj(n),.2)}function WF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qF=jS({attachResizeListener:(t,e)=>zc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uf={current:void 0},NS=jS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uf.current){const t=new qF({});t.mount(window),t.setOptions({layoutScroll:!0}),Uf.current=t}return Uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KF={pan:{Feature:cF},drag:{Feature:oF,ProjectionNode:NS,MeasureLayout:gS}};function Ej(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ct.postRender(()=>a(e,md(e)))}class GF extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=j9(e,(n,r)=>(Ej(this.node,r,"Start"),i=>Ej(this.node,i,"End"))))}unmount(){}}class YF extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dd(zc(this.node.current,"focus",()=>this.onFocus()),zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dj(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ct.postRender(()=>a(e,md(e)))}class XF extends Ui{mount(){const{current:e}=this.node;e&&(this.unmount=S9(e,(n,r)=>(Dj(this.node,r,"Start"),(i,{success:a})=>Dj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J0=new WeakMap,Wf=new WeakMap,ZF=t=>{const e=J0.get(t.target);e&&e(t)},QF=t=>{t.forEach(ZF)};function JF({root:t,...e}){const n=t||document;Wf.has(n)||Wf.set(n,{});const r=Wf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QF,{root:t,...e})),r[i]}function eV(t,e,n){const r=JF(e);return J0.set(t,n),r.observe(t),()=>{J0.delete(t),r.unobserve(t)}}const tV={some:0,all:1};class sV extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tV[i]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return eV(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nV(e,n))&&this.startObserver()}unmount(){}}function nV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rV={inView:{Feature:sV},tap:{Feature:XF},focus:{Feature:YF},hover:{Feature:GF}},iV={layout:{ProjectionNode:NS,MeasureLayout:gS}},ex={current:null},kS={current:!1};function aV(){if(kS.current=!0,!!Wp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ex.current=t.matches;t.addListener(e),e()}else ex.current=!1}const lV=new WeakMap;function oV(t,e,n){for(const r in e){const i=e[r],a=n[r];if(bs(i))t.addValue(r,i);else if(bs(a))t.addValue(r,$l(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,$l(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Pj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Hs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ct.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Fm(n),this.isVariantNode=Wk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&bs(g)&&g.set(c[m],!1)}}mount(e){this.current=e,lV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kS.current||aV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ex.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oi(this.notifyUpdate),Oi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ao.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bl){const n=Bl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pj.length;r++){const i=Pj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=oV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Q4(r)||ek(r))?r=parseFloat(r):!E9(r)&&Fi.test(n)&&(r=Rk(e,n)),this.setBaseTarget(e,bs(r)?r.get():r)),bs(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=wy(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bs(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SS extends cV{constructor(){super(...arguments),this.KeyframeResolver=p9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function TS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function dV(t){return window.getComputedStyle(t)}class uV extends SS{constructor(){super(...arguments),this.type="html",this.renderInstance=TS}readValueFromInstance(e,n){var r;if(ao.has(n))return(r=this.projection)!=null&&r.isProjecting?B0(n):II(e,n);{const i=dV(e),a=(Jp(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uS(e,n)}build(e,n,r){vy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ny(e,n,r)}}const CS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hV(t,e,n,r){TS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CS.has(i)?i:yy(i),e.attrs[i])}class mV extends SS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const r=Ak(n);return r&&r.default||0}return n=CS.has(n)?n:yy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tS(e,n,r)}build(e,n,r){Zk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){hV(e,n,r,i)}mount(e){this.isSVGTag=Jk(e.tagName),super.mount(e)}}const fV=(t,e)=>jy(t)?new mV(e):new uV(e,{allowProjection:t!==f.Fragment}),gV=hO({...FO,...rV,...KF,...iV},fV),Se=O9(gV),xV={some:0,all:1};function pV(t,e,{root:n,margin:r,amount:i="some"}={}){const a=Ik(t),l=new WeakMap,o=d=>{d.forEach(u=>{const h=l.get(u.target);if(u.isIntersecting!==!!h)if(u.isIntersecting){const m=e(u.target,u);typeof m=="function"?l.set(u.target,m):c.unobserve(u.target)}else typeof h=="function"&&(h(u),l.delete(u.target))})},c=new IntersectionObserver(o,{root:n,rootMargin:r,threshold:typeof i=="number"?i:xV[i]});return a.forEach(d=>c.observe(d)),()=>c.disconnect()}function yV(t,{root:e,margin:n,amount:r,once:i=!1,initial:a=!1}={}){const[l,o]=f.useState(a);return f.useEffect(()=>{if(!t.current||i&&l)return;const c=()=>(o(!0),i?void 0:()=>o(!1)),d={root:e&&e.current||void 0,margin:n,amount:r};return pV(t.current,c,d)},[e,t,n,i,r]),l}function Mj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Sy(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Mj(e[r])&&Mj(t[r])&&Object.keys(e[r]).length>0&&Sy(t[r],e[r])})}const ES={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xr(){const t=typeof document<"u"?document:{};return Sy(t,ES),t}const vV={document:ES,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Is(){const t=typeof window<"u"?window:{};return Sy(t,vV),t}function bV(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function jV(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function tx(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function _h(){return Date.now()}function wV(t){const e=Is();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function NV(t,e){e===void 0&&(e="x");const n=Is();let r,i,a;const l=wV(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Bd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function kV(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xs(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!kV(r)){const i=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,l=i.length;a<l;a+=1){const o=i[a],c=Object.getOwnPropertyDescriptor(r,o);c!==void 0&&c.enumerable&&(Bd(t[o])&&Bd(r[o])?r[o].__swiper__?t[o]=r[o]:Xs(t[o],r[o]):!Bd(t[o])&&Bd(r[o])?(t[o]={},r[o].__swiper__?t[o]=r[o]:Xs(t[o],r[o])):t[o]=r[o])}}}return t}function Hd(t,e,n){t.style.setProperty(e,n)}function DS(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Is(),a=-e.translate;let l=null,o;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>a?"next":"prev",u=(m,g)=>d==="next"&&m>=g||d==="prev"&&m<=g,h=()=>{o=new Date().getTime(),l===null&&(l=o);const m=Math.max(Math.min((o-l)/c,1),0),g=.5-Math.cos(m*Math.PI)/2;let y=a+g*(n-a);if(u(y,n)&&(y=n),e.wrapperEl.scrollTo({[r]:y}),u(y,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:y})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function PS(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function lr(t,e){e===void 0&&(e="");const n=Is(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function SV(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function TV(t,e){const n=Is();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=SV(t,e))),r}function Lh(t){try{console.warn(t);return}catch{}}function Ah(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:bV(e)),n}function CV(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function EV(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function fi(t,e){return Is().getComputedStyle(t,null).getPropertyValue(e)}function Rh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function MS(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function DV(t,e){function n(r){r.target===t&&(e.call(t,r),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function sx(t,e,n){const r=Is();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function Zt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Ih(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let qf;function PV(){const t=Is(),e=xr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function _S(){return qf||(qf=PV()),qf}let Kf;function MV(t){let{userAgent:e}=t===void 0?{}:t;const n=_S(),r=Is(),i=r.navigator.platform,a=e||r.navigator.userAgent,l={ios:!1,android:!1},o=r.screen.width,c=r.screen.height,d=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const h=a.match(/(iPod)(.*OS\s([\d_]+))?/),m=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let y=i==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&y&&n.touch&&x.indexOf(`${o}x${c}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),y=!1),d&&!g&&(l.os="android",l.android=!0),(u||m||h)&&(l.os="ios",l.ios=!0),l}function LS(t){return t===void 0&&(t={}),Kf||(Kf=MV(t)),Kf}let Gf;function _V(){const t=Is(),e=LS();let n=!1;function r(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(r()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[c,d]=o.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=r(),l=a||i&&e.ios;return{isSafari:n||a,needPerspectiveFix:n,need3dFix:l,isWebView:i}}function AS(){return Gf||(Gf=_V()),Gf}function LV(t){let{swiper:e,on:n,emit:r}=t;const i=Is();let a=null,l=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(h=>{l=i.requestAnimationFrame(()=>{const{width:m,height:g}=e;let y=m,x=g;h.forEach(b=>{let{contentBoxSize:v,contentRect:p,target:j}=b;j&&j!==e.el||(y=p?p.width:(v[0]||v).inlineSize,x=p?p.height:(v[0]||v).blockSize)}),(y!==m||x!==g)&&o()})}),a.observe(e.el))},d=()=>{l&&i.cancelAnimationFrame(l),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",u)})}function AV(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=[],l=Is(),o=function(u,h){h===void 0&&(h={});const m=l.MutationObserver||l.WebkitMutationObserver,g=new m(y=>{if(e.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const x=function(){i("observerUpdate",y[0])};l.requestAnimationFrame?l.requestAnimationFrame(x):l.setTimeout(x,0)});g.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),a.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=MS(e.hostEl);for(let h=0;h<u.length;h+=1)o(u[h])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},d=()=>{a.forEach(u=>{u.disconnect()}),a.splice(0,a.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var RV={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];e.apply(r,l)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],n=a.slice(1,a.length),r=t):(e=a[0].events,n=a[0].data,r=a[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function IV(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(fi(r,"padding-left")||0,10)-parseInt(fi(r,"padding-right")||0,10),n=n-parseInt(fi(r,"padding-top")||0,10)-parseInt(fi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function OV(){const t=this;function e(S,P){return parseFloat(S.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:a,rtlTranslate:l,wrongRTL:o}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=lr(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let m=[];const g=[],y=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,p=t.slidesGrid.length;let j=n.spaceBetween,N=-x,w=0,E=0;if(typeof a>"u")return;typeof j=="string"&&j.indexOf("%")>=0?j=parseFloat(j.replace("%",""))/100*a:typeof j=="string"&&(j=parseFloat(j)),t.virtualSize=-j,u.forEach(S=>{l?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Hd(r,"--swiper-centered-offset-before",""),Hd(r,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&t.grid;M?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let k;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){k=0;let P;if(u[S]&&(P=u[S]),M&&t.grid.updateSlide(S,P,u),!(u[S]&&fi(P,"display")==="none")){if(n.slidesPerView==="auto"){T&&(u[S].style[t.getDirectionLabel("width")]="");const C=getComputedStyle(P),A=P.style.transform,I=P.style.webkitTransform;if(A&&(P.style.transform="none"),I&&(P.style.webkitTransform="none"),n.roundLengths)k=t.isHorizontal()?sx(P,"width",!0):sx(P,"height",!0);else{const V=e(C,"width"),L=e(C,"padding-left"),O=e(C,"padding-right"),D=e(C,"margin-left"),R=e(C,"margin-right"),B=C.getPropertyValue("box-sizing");if(B&&B==="border-box")k=V+D+R;else{const{clientWidth:X,offsetWidth:Z}=P;k=V+L+O+D+R+(Z-X)}}A&&(P.style.transform=A),I&&(P.style.webkitTransform=I),n.roundLengths&&(k=Math.floor(k))}else k=(a-(n.slidesPerView-1)*j)/n.slidesPerView,n.roundLengths&&(k=Math.floor(k)),u[S]&&(u[S].style[t.getDirectionLabel("width")]=`${k}px`);u[S]&&(u[S].swiperSlideSize=k),y.push(k),n.centeredSlides?(N=N+k/2+w/2+j,w===0&&S!==0&&(N=N-a/2-j),S===0&&(N=N-a/2-j),Math.abs(N)<1/1e3&&(N=0),n.roundLengths&&(N=Math.floor(N)),E%n.slidesPerGroup===0&&m.push(N),g.push(N)):(n.roundLengths&&(N=Math.floor(N)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&m.push(N),g.push(N),N=N+k+j),t.virtualSize+=k+j,w=k,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+b,l&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+j}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+j}px`),M&&t.grid.updateWrapperSize(k,m),!n.centeredSlides){const S=[];for(let P=0;P<m.length;P+=1){let C=m[P];n.roundLengths&&(C=Math.floor(C)),m[P]<=t.virtualSize-a&&S.push(C)}m=S,Math.floor(t.virtualSize-a)-Math.floor(m[m.length-1])>1&&m.push(t.virtualSize-a)}if(c&&n.loop){const S=y[0]+j;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),C=S*n.slidesPerGroup;for(let A=0;A<P;A+=1)m.push(m[m.length-1]+C)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+S),g.push(g[g.length-1]+S),t.virtualSize+=S}if(m.length===0&&(m=[0]),j!==0){const S=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");u.filter((P,C)=>!n.cssMode||n.loop?!0:C!==u.length-1).forEach(P=>{P.style[S]=`${j}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;y.forEach(C=>{S+=C+(j||0)}),S-=j;const P=S>a?S-a:0;m=m.map(C=>C<=0?-x:C>P?P+b:C)}if(n.centerInsufficientSlides){let S=0;y.forEach(C=>{S+=C+(j||0)}),S-=j;const P=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(S+P<a){const C=(a-S-P)/2;m.forEach((A,I)=>{m[I]=A-C}),g.forEach((A,I)=>{g[I]=A+C})}}if(Object.assign(t,{slides:u,snapGrid:m,slidesGrid:g,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Hd(r,"--swiper-centered-offset-before",`${-m[0]}px`),Hd(r,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const S=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+S),t.slidesGrid=t.slidesGrid.map(C=>C+P)}if(h!==d&&t.emit("slidesLengthChange"),m.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==p&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(S):P&&t.el.classList.remove(S)}}function FV(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{n.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!r)break;n.push(l(o))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const o=n[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function VV(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const _j=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function $V(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let c=0;c<r.length;c+=1){const d=r[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const h=(l+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+o),m=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+o),g=-(l-u),y=g+e.slidesSizesGrid[c],x=g>=0&&g<=e.size-e.slidesSizesGrid[c],b=g>=0&&g<e.size-1||y>1&&y<=e.size||g<=0&&y>=e.size;b&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),_j(d,b,n.slideVisibleClass),_j(d,x,n.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-m:m}}function BV(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l,progressLoop:o}=e;const c=a,d=l;if(r===0)i=0,a=!0,l=!0;else{i=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;a=u||i<=0,l=h||i>=1,u&&(i=0),h&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[u],g=e.slidesGrid[h],y=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=m?o=(x-m)/y:o=(x+y-g)/y,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!c&&e.emit("reachBeginning toEdge"),l&&!d&&e.emit("reachEnd toEdge"),(c&&!a||d&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}const Yf=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function HV(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,a=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,o=h=>lr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let c,d,u;if(a)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=o(`[data-swiper-slide-index="${h}"]`)}else c=o(`[data-swiper-slide-index="${i}"]`);else l?(c=e.find(h=>h.column===i),u=e.find(h=>h.column===i+1),d=e.find(h=>h.column===i-1)):c=e[i];c&&(l||(u=EV(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),d=CV(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(h=>{Yf(h,h===c,n.slideActiveClass),Yf(h,h===u,n.slideNextClass),Yf(h,h===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Lu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Xf=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=i,o=[l-e];o.push(...Array.from({length:e}).map((c,d)=>l+r+d)),t.slides.forEach((c,d)=>{o.includes(c.column)&&Xf(t,d)});return}const a=i+r-1;if(t.params.rewind||t.params.loop)for(let l=i-e;l<=a+e;l+=1){const o=(l%n+n)%n;(o<i||o>a)&&Xf(t,o)}else for(let l=Math.max(i-e,0);l<=Math.min(a+e,n-1);l+=1)l!==i&&(l>a||l<i)&&Xf(t,l)};function zV(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function UV(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:l,snapIndex:o}=e;let c=t,d;const u=g=>{let y=g-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof c>"u"&&(c=zV(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const g=Math.min(i.slidesPerGroupSkip,c);d=g+Math.floor((c-g)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===a&&!e.params.loop){d!==o&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let m;if(e.virtual&&i.virtual.enabled&&i.loop)m=u(c);else if(h){const g=e.slides.find(x=>x.column===c);let y=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(g),0)),m=Math.floor(y/i.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?m=parseInt(g,10):m=c}else m=c;Object.assign(e,{previousSnapIndex:o,snapIndex:d,previousRealIndex:l,realIndex:m,previousIndex:a,activeIndex:c}),e.initialized&&nx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function WV(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(i=o)});let a=!1,l;if(i){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,l=o;break}}if(i&&a)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var qV={updateSize:IV,updateSlides:OV,updateAutoHeight:FV,updateSlidesOffset:VV,updateSlidesProgress:$V,updateProgress:BV,updateSlidesClasses:HV,updateActiveIndex:UV,updateClickedSlide:WV};function KV(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=NV(a,t);return l+=e.cssOverflowAdjustment(),r&&(l=-l),l||0}function GV(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:l}=n;let o=0,c=0;const d=0;n.isHorizontal()?o=r?-t:t:c=t,i.roundLengths&&(o=Math.floor(o),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:c,i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-c:i.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${c}px, ${d}px)`);let u;const h=n.maxTranslate()-n.minTranslate();h===0?u=0:u=(t-n.minTranslate())/h,u!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function YV(){return-this.snapGrid[0]}function XV(){return-this.snapGrid[this.snapGrid.length-1]}function ZV(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const a=this,{params:l,wrapperEl:o}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const c=a.minTranslate(),d=a.maxTranslate();let u;if(r&&t>c?u=c:r&&t<d?u=d:u=t,a.updateProgress(u),l.cssMode){const h=a.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return DS({swiper:a,targetPosition:-u,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(m){!a||a.destroyed||m.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var QV={getTranslate:KV,setTranslate:GV,minTranslate:YV,maxTranslate:XV,translateTo:ZV};function JV(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function RS(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:a,previousIndex:l}=e;let o=r;o||(a>l?o="next":a<l?o="prev":o="reset"),e.emit(`transition${i}`),n&&o==="reset"?e.emit(`slideResetTransition${i}`):n&&a!==l&&(e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function e$(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),RS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function t$(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),RS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var s$={setTransition:JV,transitionStart:e$,transitionEnd:t$};function n$(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let l=t;l<0&&(l=0);const{params:o,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:m,wrapperEl:g,enabled:y}=a;if(!y&&!r&&!i||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const x=Math.min(a.params.slidesPerGroupSkip,l);let b=x+Math.floor((l-x)/a.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const v=-c[b];if(o.normalizeSlideIndex)for(let M=0;M<d.length;M+=1){const k=-Math.floor(v*100),T=Math.floor(d[M]*100),S=Math.floor(d[M+1]*100);typeof d[M+1]<"u"?k>=T&&k<S-(S-T)/2?l=M:k>=T&&k<S&&(l=M+1):k>=T&&(l=M)}if(a.initialized&&l!==h&&(!a.allowSlideNext&&(m?v>a.translate&&v>a.minTranslate():v<a.translate&&v<a.minTranslate())||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(h||0)!==l))return!1;l!==(u||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(v);let p;l>h?p="next":l<h?p="prev":p="reset";const j=a.virtual&&a.params.virtual.enabled;if(!(j&&i)&&(m&&-v===a.translate||!m&&v===a.translate))return a.updateActiveIndex(l),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(v),p!=="reset"&&(a.transitionStart(n,p),a.transitionEnd(n,p)),!1;if(o.cssMode){const M=a.isHorizontal(),k=m?v:-v;if(e===0)j&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),j&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[M?"scrollLeft":"scrollTop"]=k})):g[M?"scrollLeft":"scrollTop"]=k,j&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return DS({swiper:a,targetPosition:k,side:M?"left":"top"}),!0;g.scrollTo({[M?"left":"top"]:k,behavior:"smooth"})}return!0}const E=AS().isSafari;return j&&!i&&E&&a.isElement&&a.virtual.update(!1,!1,l),a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,p),e===0?a.transitionEnd(n,p):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(k){!a||a.destroyed||k.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,p))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function r$(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let o;if(a){const m=l*i.params.grid.rows;o=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else o=i.getSlideIndexByData(l);const c=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-o<u;if(d&&(h=h||o<Math.ceil(u/2)),r&&d&&i.params.slidesPerView!=="auto"&&!a&&(h=!1),h){const m=d?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?o+1:o-c+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(a){const m=l*i.params.grid.rows;l=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,e,n,r)}),i}function i$(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:a,animating:l}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<a.slidesPerGroupSkip?1:o,d=r.virtual&&a.virtual.enabled;if(a.loop){if(l&&!d&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function a$(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:a,slidesGrid:l,rtlTranslate:o,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=o?r.translate:-r.translate;function m(p){return p<0?-Math.floor(Math.abs(p)):Math.floor(p)}const g=m(h),y=a.map(p=>m(p)),x=i.freeMode&&i.freeMode.enabled;let b=a[y.indexOf(g)-1];if(typeof b>"u"&&(i.cssMode||x)){let p;a.forEach((j,N)=>{g>=j&&(p=N)}),typeof p<"u"&&(b=x?a[p]:a[p>0?p-1:p])}let v=0;if(typeof b<"u"&&(v=l.indexOf(b),v<0&&(v=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&r.isBeginning){const p=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(p,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,t,e,n)}),!0;return r.slideTo(v,t,e,n)}function l$(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function o$(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),o=l+Math.floor((a-l)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[o]){const d=i.snapGrid[o],u=i.snapGrid[o+1];c-d>(u-d)*r&&(a+=i.params.slidesPerGroup)}else{const d=i.snapGrid[o-1],u=i.snapGrid[o];c-d<=(u-d)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function c$(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;const l=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(lr(n,`${l}[data-swiper-slide-index="${a}"]`)[0]),tx(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(lr(n,`${l}[data-swiper-slide-index="${a}"]`)[0]),tx(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var d$={slideTo:n$,slideToLoop:r$,slideNext:i$,slidePrev:a$,slideReset:l$,slideToClosest:o$,slideToClickedSlide:c$};function u$(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const a=()=>{lr(i,`.${r.slideClass}, swiper-slide`).forEach((m,g)=>{m.setAttribute("data-swiper-slide-index",g)})},l=n.grid&&r.grid&&r.grid.rows>1,o=r.slidesPerGroup*(l?r.grid.rows:1),c=n.slides.length%o!==0,d=l&&n.slides.length%r.grid.rows!==0,u=h=>{for(let m=0;m<h;m+=1){const g=n.isElement?Ah("swiper-slide",[r.slideBlankClass]):Ah("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(c){if(r.loopAddBlankSlides){const h=o-n.slides.length%o;u(h),n.recalcSlides(),n.updateSlides()}else Lh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(d){if(r.loopAddBlankSlides){const h=r.grid.rows-n.slides.length%r.grid.rows;u(h),n.recalcSlides(),n.updateSlides()}else Lh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function h$(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:a,initial:l,byController:o,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:m,slidesEl:g,params:y}=d,{centeredSlides:x,initialSlide:b}=y;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&y.virtual.enabled){n&&(!y.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):y.centeredSlides&&d.snapIndex<y.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=m,d.emit("loopFix");return}let v=y.slidesPerView;v==="auto"?v=d.slidesPerViewDynamic():(v=Math.ceil(parseFloat(y.slidesPerView,10)),x&&v%2===0&&(v=v+1));const p=y.slidesPerGroupAuto?v:y.slidesPerGroup;let j=p;j%p!==0&&(j+=p-j%p),j+=y.loopAdditionalSlides,d.loopedSlides=j;const N=d.grid&&y.grid&&y.grid.rows>1;u.length<v+j||d.params.effect==="cards"&&u.length<v+j*2?Lh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):N&&y.grid.fill==="row"&&Lh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],E=[],M=N?Math.ceil(u.length/y.grid.rows):u.length,k=l&&M-b<v&&!x;let T=k?b:d.activeIndex;typeof a>"u"?a=d.getSlideIndex(u.find(L=>L.classList.contains(y.slideActiveClass))):T=a;const S=r==="next"||!r,P=r==="prev"||!r;let C=0,A=0;const V=(N?u[a].column:a)+(x&&typeof i>"u"?-v/2+.5:0);if(V<j){C=Math.max(j-V,p);for(let L=0;L<j-V;L+=1){const O=L-Math.floor(L/M)*M;if(N){const D=M-O-1;for(let R=u.length-1;R>=0;R-=1)u[R].column===D&&w.push(R)}else w.push(M-O-1)}}else if(V+v>M-j){A=Math.max(V-(M-j*2),p),k&&(A=Math.max(A,v-M+b+1));for(let L=0;L<A;L+=1){const O=L-Math.floor(L/M)*M;N?u.forEach((D,R)=>{D.column===O&&E.push(R)}):E.push(O)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&u.length<v+j*2&&(E.includes(a)&&E.splice(E.indexOf(a),1),w.includes(a)&&w.splice(w.indexOf(a),1)),P&&w.forEach(L=>{u[L].swiperLoopMoveDOM=!0,g.prepend(u[L]),u[L].swiperLoopMoveDOM=!1}),S&&E.forEach(L=>{u[L].swiperLoopMoveDOM=!0,g.append(u[L]),u[L].swiperLoopMoveDOM=!1}),d.recalcSlides(),y.slidesPerView==="auto"?d.updateSlides():N&&(w.length>0&&P||E.length>0&&S)&&d.slides.forEach((L,O)=>{d.grid.updateSlide(O,L,d.slides)}),y.watchSlidesProgress&&d.updateSlidesOffset(),n){if(w.length>0&&P){if(typeof e>"u"){const L=d.slidesGrid[T],D=d.slidesGrid[T+C]-L;c?d.setTranslate(d.translate-D):(d.slideTo(T+Math.ceil(C),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-D,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-D))}else if(i){const L=N?w.length/y.grid.rows:w.length;d.slideTo(d.activeIndex+L,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(E.length>0&&S)if(typeof e>"u"){const L=d.slidesGrid[T],D=d.slidesGrid[T-A]-L;c?d.setTranslate(d.translate-D):(d.slideTo(T-A,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-D,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-D))}else{const L=N?E.length/y.grid.rows:E.length;d.slideTo(d.activeIndex-L,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=m,d.controller&&d.controller.control&&!o){const L={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(O=>{!O.destroyed&&O.params.loop&&O.loopFix({...L,slideTo:O.params.slidesPerView===y.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...L,slideTo:d.controller.control.params.slidesPerView===y.slidesPerView?n:!1})}d.emit("loopFix")}function m$(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var f$={loopCreate:u$,loopFix:h$,loopDestroy:m$};function g$(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function x$(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var p$={setGrabCursor:g$,unsetGrabCursor:x$};function y$(t,e){e===void 0&&(e=this);function n(r){if(!r||r===xr()||r===Is())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function Lj(t,e,n){const r=Is(),{params:i}=t,a=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return a&&(n<=l||n>=r.innerWidth-l)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function v$(t){const e=this,n=xr();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Lj(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:l,enabled:o}=e;if(!o||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let c=r.target;if(a.touchEventsTarget==="wrapper"&&!TV(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!a.noSwipingClass&&a.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(m?y$(h,c):c.closest(h))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;l.currentX=r.pageX,l.currentY=r.pageY;const g=l.currentX,y=l.currentY;if(!Lj(e,r,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=y,i.touchStartTime=_h(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let x=!0;c.matches(i.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const b=x&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function b$(t){const e=xr(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:o}=n;if(!o||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(E=>E.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){a.startX=u,a.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=_h());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<a.startY&&n.translate<=n.maxTranslate()||h>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(l&&(u>a.startX&&-n.translate<=n.maxTranslate()||u<a.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(u<a.startX&&n.translate<=n.maxTranslate()||u>a.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=u,a.currentY=h;const m=a.currentX-a.startX,g=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(m**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:m*m+g*g>=25&&(E=Math.atan2(Math.abs(g),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let y=n.isHorizontal()?m:g,x=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(y=Math.abs(y)*(l?1:-1),x=Math.abs(x)*(l?1:-1)),a.diff=y,y*=i.touchRatio,l&&(y=-y,x=-x);const b=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const v=n.params.loop&&!i.cssMode,p=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(v&&p&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let j;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&v&&p&&Math.abs(y)>=1){Object.assign(a,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let N=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),y>0?(v&&p&&!j&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(N=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**w))):y<0&&(v&&p&&!j&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(N=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**w))),N&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function j$(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(w=>w.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:o,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!l.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=_h(),m=h-n.touchStartTime;if(e.allowClick){const w=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(w&&w[0]||r.target,w),e.emit("tap click",r),m<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=_h(),tx(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(l.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const y=g>=-e.maxTranslate()&&!e.params.loop;let x=0,b=e.slidesSizesGrid[0];for(let w=0;w<d.length;w+=w<l.slidesPerGroupSkip?1:l.slidesPerGroup){const E=w<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[w+E]<"u"?(y||g>=d[w]&&g<d[w+E])&&(x=w,b=d[w+E]-d[w]):(y||g>=d[w])&&(x=w,b=d[d.length-1]-d[d.length-2])}let v=null,p=null;l.rewind&&(e.isBeginning?p=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const j=(g-d[x])/b,N=x<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(m>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(j>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?v:x+N):e.slideTo(x)),e.swipeDirection==="prev"&&(j>1-l.longSwipesRatio?e.slideTo(x+N):p!==null&&j<0&&Math.abs(j)>l.longSwipesRatio?e.slideTo(p):e.slideTo(x))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+N):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:x+N),e.swipeDirection==="prev"&&e.slideTo(p!==null?p:x))}}function Aj(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function w$(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function N$(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function k$(t){const e=this;Lu(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function S$(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const IS=(t,e)=>{const n=xr(),{params:r,el:i,wrapperEl:a,device:l}=t,o=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:o}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:o}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&a[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",Aj,!0):t[d]("observerUpdate",Aj,!0),i[c]("load",t.onLoad,{capture:!0}))};function T$(){const t=this,{params:e}=t;t.onTouchStart=v$.bind(t),t.onTouchMove=b$.bind(t),t.onTouchEnd=j$.bind(t),t.onDocumentTouchStart=S$.bind(t),e.cssMode&&(t.onScroll=N$.bind(t)),t.onClick=w$.bind(t),t.onLoad=k$.bind(t),IS(t,"on")}function C$(){IS(this,"off")}var E$={attachEvents:T$,detachEvents:C$};const Rj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function D$(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const l=xr(),o=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:l.querySelector(r.breakpointsBase),d=t.getBreakpoint(a,o,c);if(!d||t.currentBreakpoint===d)return;const h=(d in a?a[d]:void 0)||t.originalParams,m=Rj(t,r),g=Rj(t,h),y=t.params.grabCursor,x=h.grabCursor,b=r.enabled;m&&!g?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!m&&g&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!x?t.unsetGrabCursor():!y&&x&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof h[E]>"u")return;const M=r[E]&&r[E].enabled,k=h[E]&&h[E].enabled;M&&!k&&t[E].disable(),!M&&k&&t[E].enable()});const v=h.direction&&h.direction!==r.direction,p=r.loop&&(h.slidesPerView!==r.slidesPerView||v),j=r.loop;v&&n&&t.changeDirection(),Xs(t.params,h);const N=t.params.enabled,w=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!N?t.disable():!b&&N&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",h),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!j&&w?(t.loopCreate(e),t.updateSlides()):j&&!w&&t.loopDestroy()),t.emit("breakpoint",h)}function P$(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Is(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const c=parseFloat(o.substr(1));return{value:a*c,point:o}}return{value:o,point:o}});l.sort((o,c)=>parseInt(o.value,10)-parseInt(c.value,10));for(let o=0;o<l.length;o+=1){const{point:c,value:d}=l[o];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var M$={setBreakpoint:D$,getBreakpoint:P$};function _$(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function L$(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:a}=t,l=_$(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),i.classList.add(...e),t.emitContainerClasses()}function A$(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var R$={addClasses:L$,removeClasses:A$};function I$(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var O$={checkOverflow:I$},rx={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function F$(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){Xs(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){Xs(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xs(e,r)}}const Zf={eventsEmitter:RV,update:qV,translate:QV,transition:s$,slide:d$,loop:f$,grabCursor:p$,events:E$,breakpoints:M$,checkOverflow:O$,classes:R$},Qf={};let Ty=class br{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Xs({},n),e&&!n.el&&(n.el=e);const l=xr();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const u=[];return l.querySelectorAll(n.el).forEach(h=>{const m=Xs({},n,{el:h});u.push(new br(m))}),u}const o=this;o.__swiper__=!0,o.support=_S(),o.device=LS({userAgent:n.userAgent}),o.browser=AS(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const c={};o.modules.forEach(u=>{u({params:n,swiper:o,extendParams:F$(n,c),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const d=Xs({},rx,c);return o.params=Xs({},d,Qf,n),o.originalParams=Xs({},o.params),o.passedParams=Xs({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=lr(n,`.${r.slideClass}, swiper-slide`),a=Rh(i[0]);return Rh(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=lr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:o,size:c,activeIndex:d}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=a[d]?Math.ceil(a[d].swiperSlideSize):0,m;for(let g=d+1;g<a.length;g+=1)a[g]&&!m&&(h+=Math.ceil(a[g].swiperSlideSize),u+=1,h>c&&(m=!0));for(let g=d-1;g>=0;g-=1)a[g]&&!m&&(h+=a[g].swiperSlideSize,u+=1,h>c&&(m=!0))}else if(e==="current")for(let h=d+1;h<a.length;h+=1)(n?l[h]+o[h]-l[d]<c:l[h]-l[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)l[d]-l[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Lu(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const l=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(l.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):lr(r,i())[0])();return!l&&n.params.createElements&&(l=Ah("div",n.params.wrapperClass),r.append(l),lr(r,`.${n.params.slideClass}`).forEach(o=>{l.append(o)})),Object.assign(n,{el:r,wrapperEl:l,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:l,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||fi(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||fi(r,"direction")==="rtl"),wrongRTL:fi(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?Lu(n,a):a.addEventListener("load",l=>{Lu(n,l.target)})}),nx(n),n.initialized=!0,nx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:a,wrapperEl:l,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),l&&l.removeAttribute("style"),o&&o.length&&o.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),jV(r)),r.destroyed=!0),null}static extendDefaults(e){Xs(Qf,e)}static get extendedDefaults(){return Qf}static get defaults(){return rx}static installModule(e){br.prototype.__modules__||(br.prototype.__modules__=[]);const n=br.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>br.installModule(n)),br):(br.installModule(e),br)}};Object.keys(Zf).forEach(t=>{Object.keys(Zf[t]).forEach(e=>{Ty.prototype[e]=Zf[t][e]})});Ty.use([LV,AV]);const OS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Pa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function jl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Pa(e[r])&&Pa(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:jl(t[r],e[r]):t[r]=e[r]})}function FS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function VS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function $S(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function BS(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function V$(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function $$(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:a,prevEl:l,scrollbarEl:o,paginationEl:c}=t;const d=i.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:u,pagination:h,navigation:m,scrollbar:g,virtual:y,thumbs:x}=e;let b,v,p,j,N,w,E,M;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(b=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(v=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(p=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&g&&!g.el&&(j=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||l)&&(r.navigation.nextEl||a)&&(u.navigation||u.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(N=!0);const k=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),u[T].prevEl=void 0,u[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),u[T].el=void 0,e[T].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?w=!0:!u.loop&&r.loop?E=!0:M=!0),d.forEach(T=>{if(Pa(u[T])&&Pa(r[T]))Object.assign(u[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&k(T);else{const S=r[T];(S===!0||S===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?S===!1&&k(T):u[T]=r[T]}}),d.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&y&&u.virtual.enabled?(y.slides=n,y.update(!0)):i.includes("virtual")&&y&&u.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),i.includes("children")&&n&&u.loop&&(M=!0),b&&x.init()&&x.update(!0),v&&(e.controller.control=u.controller.control),p&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),j&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),g.init(),g.updateSize(),g.setTranslate()),N&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),Ih(a,e.hostEl.constructor.nextButtonSvg),a.part.add("button-next"),e.el.appendChild(a)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),Ih(l,e.hostEl.constructor.prevButtonSvg),l.part.add("button-prev"),e.el.appendChild(l))),a&&(u.navigation.nextEl=a),l&&(u.navigation.prevEl=l),m.init(),m.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(w||M)&&e.loopDestroy(),(E||M)&&e.loopCreate(),e.update()}function B$(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};jl(n,rx),n._emitClasses=!0,n.init=!1;const a={},l=OS.map(c=>c.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(c=>{typeof t[c]>"u"||(l.indexOf(c)>=0?Pa(t[c])?(n[c]={},i[c]={},jl(n[c],t[c]),jl(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:a[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:a,events:r}}function H$(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:a,scrollbarEl:l,swiper:o}=t;FS(e)&&r&&i&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),VS(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),$S(e)&&l&&(o.params.scrollbar.el=l,o.originalParams.scrollbar.el=l),o.init(n)}function z$(t,e,n,r,i){const a=[];if(!e)return a;const l=c=>{a.indexOf(c)<0&&a.push(c)};if(n&&r){const c=r.map(i),d=n.map(i);c.join("")!==d.join("")&&l("children"),r.length!==n.length&&l("children")}return OS.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Pa(t[c])&&Pa(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?l(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&l(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&l(c)}))}else t[c]!==e[c]&&l(c)}),a}const U$=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}function HS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function zS(t){const e=[];return ie.Children.toArray(t).forEach(n=>{HS(n)?e.push(n):n.props&&n.props.children&&zS(n.props.children).forEach(r=>e.push(r))}),e}function W$(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ie.Children.toArray(t).forEach(r=>{if(HS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=zS(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function q$(t,e,n){if(!n)return null;const r=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:a,to:l}=n,o=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=o;u<c;u+=1)u>=a&&u<=l&&d.push(e[r(u)]);return d.map((u,h)=>ie.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${h}`}))}function lc(t,e){return typeof window>"u"?f.useEffect(t,e):f.useLayoutEffect(t,e)}const Ij=f.createContext(null),K$=f.createContext(null),Cy=f.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...o}=t===void 0?{}:t,c=!1;const[d,u]=f.useState("swiper"),[h,m]=f.useState(null),[g,y]=f.useState(!1),x=f.useRef(!1),b=f.useRef(null),v=f.useRef(null),p=f.useRef(null),j=f.useRef(null),N=f.useRef(null),w=f.useRef(null),E=f.useRef(null),M=f.useRef(null),{params:k,passedParams:T,rest:S,events:P}=B$(o),{slides:C,slots:A}=W$(a),I=()=>{y(!g)};Object.assign(k.on,{_containerClasses(R,B){u(B)}});const V=()=>{Object.assign(k.on,P),c=!0;const R={...k};if(delete R.wrapperClass,v.current=new Ty(R),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=C;const B={cache:!1,slides:C,renderExternal:m,renderExternalUpdate:!1};jl(v.current.params.virtual,B),jl(v.current.originalParams.virtual,B)}};b.current||V(),v.current&&v.current.on("_beforeBreakpoint",I);const L=()=>{c||!P||!v.current||Object.keys(P).forEach(R=>{v.current.on(R,P[R])})},O=()=>{!P||!v.current||Object.keys(P).forEach(R=>{v.current.off(R,P[R])})};f.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",I)}),f.useEffect(()=>{!x.current&&v.current&&(v.current.emitSlidesClasses(),x.current=!0)}),lc(()=>{if(e&&(e.current=b.current),!!b.current)return v.current.destroyed&&V(),H$({el:b.current,nextEl:N.current,prevEl:w.current,paginationEl:E.current,scrollbarEl:M.current,swiper:v.current},k),l&&!v.current.destroyed&&l(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),lc(()=>{L();const R=z$(T,p.current,C,j.current,B=>B.key);return p.current=T,j.current=C,R.length&&v.current&&!v.current.destroyed&&$$({swiper:v.current,slides:C,passedParams:T,changedParams:R,nextEl:N.current,prevEl:w.current,scrollbarEl:M.current,paginationEl:E.current}),()=>{O()}}),lc(()=>{U$(v.current)},[h]);function D(){return k.virtual?q$(v.current,C,h):C.map((R,B)=>ie.cloneElement(R,{swiper:v.current,swiperSlideIndex:B}))}return ie.createElement(r,Oh({ref:b,className:BS(`${d}${n?` ${n}`:""}`)},S),ie.createElement(K$.Provider,{value:v.current},A["container-start"],ie.createElement(i,{className:V$(k.wrapperClass)},A["wrapper-start"],D(),A["wrapper-end"]),FS(k)&&ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:w,className:"swiper-button-prev"}),ie.createElement("div",{ref:N,className:"swiper-button-next"})),$S(k)&&ie.createElement("div",{ref:M,className:"swiper-scrollbar"}),VS(k)&&ie.createElement("div",{ref:E,className:"swiper-pagination"}),A["container-end"]))});Cy.displayName="Swiper";const Ey=f.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,lazy:o,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=f.useRef(null),[m,g]=f.useState("swiper-slide"),[y,x]=f.useState(!1);function b(N,w,E){w===h.current&&g(E)}lc(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!a)){if(a.destroyed){m!=="swiper-slide"&&g("swiper-slide");return}return a.on("_slideClass",b),()=>{a&&a.off("_slideClass",b)}}}),lc(()=>{a&&h.current&&!a.destroyed&&g(a.getSlideClasses(h.current))},[a]);const v={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},p=()=>typeof r=="function"?r(v):r,j=()=>{x(!0)};return ie.createElement(n,Oh({ref:h,className:BS(`${m}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:j},u),l&&ie.createElement(Ij.Provider,{value:v},ie.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},p(),o&&!y&&ie.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&ie.createElement(Ij.Provider,{value:v},p(),o&&!y&&ie.createElement("div",{className:"swiper-lazy-preloader"})))});Ey.displayName="SwiperSlide";function US(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let a=lr(t.el,`.${r[i]}`)[0];a||(a=Ah("div",r[i]),a.className=r[i],t.el.append(a)),n[i]=a,e[i]=a}}),n}function WS(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(y){let x;return y&&typeof y=="string"&&e.isElement&&(x=e.el.querySelector(y)||e.hostEl.querySelector(y),x)?x:(y&&(typeof y=="string"&&(x=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&x&&x.length>1&&e.el.querySelectorAll(y).length===1?x=e.el.querySelector(y):x&&x.length===1&&(x=x[0])),y&&!x?y:x)}function l(y,x){const b=e.params.navigation;y=Zt(y),y.forEach(v=>{v&&(v.classList[x?"add":"remove"](...b.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=x),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](b.lockClass))})}function o(){const{nextEl:y,prevEl:x}=e.navigation;if(e.params.loop){l(x,!1),l(y,!1);return}l(x,e.isBeginning&&!e.params.rewind),l(y,e.isEnd&&!e.params.rewind)}function c(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function d(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const y=e.params.navigation;if(e.params.navigation=US(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let x=a(y.nextEl),b=a(y.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:b}),x=Zt(x),b=Zt(b);const v=(p,j)=>{p&&p.addEventListener("click",j==="next"?d:c),!e.enabled&&p&&p.classList.add(...y.lockClass.split(" "))};x.forEach(p=>v(p,"next")),b.forEach(p=>v(p,"prev"))}function h(){let{nextEl:y,prevEl:x}=e.navigation;y=Zt(y),x=Zt(x);const b=(v,p)=>{v.removeEventListener("click",p==="next"?d:c),v.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(v=>b(v,"next")),x.forEach(v=>b(v,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?g():(u(),o())}),r("toEdge fromEdge lock unlock",()=>{o()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:y,prevEl:x}=e.navigation;if(y=Zt(y),x=Zt(x),e.enabled){o();return}[...y,...x].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(y,x)=>{let{nextEl:b,prevEl:v}=e.navigation;b=Zt(b),v=Zt(v);const p=x.target;let j=v.includes(p)||b.includes(p);if(e.isElement&&!j){const N=x.path||x.composedPath&&x.composedPath();N&&(j=N.find(w=>b.includes(w)||v.includes(w)))}if(e.params.navigation.hideOnClick&&!j){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===p||e.pagination.el.contains(p)))return;let N;b.length?N=b[0].classList.contains(e.params.navigation.hiddenClass):v.length&&(N=v[0].classList.contains(e.params.navigation.hiddenClass)),i(N===!0?"navigationShow":"navigationHide"),[...b,...v].filter(w=>!!w).forEach(w=>w.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:m,disable:g,update:o,init:u,destroy:h})}function So(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function qS(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let l,o=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(p,j){const{bulletActiveClass:N}=e.params.pagination;p&&(p=p[`${j==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${N}-${j}`),p=p[`${j==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${N}-${j}-${j}`)))}function u(p,j,N){if(p=p%N,j=j%N,j===p+1)return"next";if(j===p-1)return"previous"}function h(p){const j=p.target.closest(So(e.params.pagination.bulletClass));if(!j)return;p.preventDefault();const N=Rh(j)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===N)return;const w=u(e.realIndex,N,e.slides.length);w==="next"?e.slideNext():w==="previous"?e.slidePrev():e.slideToLoop(N)}else e.slideTo(N)}function m(){const p=e.rtl,j=e.params.pagination;if(c())return;let N=e.pagination.el;N=Zt(N);let w,E;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,w=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(w=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,w=e.activeIndex||0),j.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const T=e.pagination.bullets;let S,P,C;if(j.dynamicBullets&&(l=sx(T[0],e.isHorizontal()?"width":"height",!0),N.forEach(A=>{A.style[e.isHorizontal()?"width":"height"]=`${l*(j.dynamicMainBullets+4)}px`}),j.dynamicMainBullets>1&&E!==void 0&&(o+=w-(E||0),o>j.dynamicMainBullets-1?o=j.dynamicMainBullets-1:o<0&&(o=0)),S=Math.max(w-o,0),P=S+(Math.min(T.length,j.dynamicMainBullets)-1),C=(P+S)/2),T.forEach(A=>{const I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${j.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();A.classList.remove(...I)}),N.length>1)T.forEach(A=>{const I=Rh(A);I===w?A.classList.add(...j.bulletActiveClass.split(" ")):e.isElement&&A.setAttribute("part","bullet"),j.dynamicBullets&&(I>=S&&I<=P&&A.classList.add(...`${j.bulletActiveClass}-main`.split(" ")),I===S&&d(A,"prev"),I===P&&d(A,"next"))});else{const A=T[w];if(A&&A.classList.add(...j.bulletActiveClass.split(" ")),e.isElement&&T.forEach((I,V)=>{I.setAttribute("part",V===w?"bullet-active":"bullet")}),j.dynamicBullets){const I=T[S],V=T[P];for(let L=S;L<=P;L+=1)T[L]&&T[L].classList.add(...`${j.bulletActiveClass}-main`.split(" "));d(I,"prev"),d(V,"next")}}if(j.dynamicBullets){const A=Math.min(T.length,j.dynamicMainBullets+4),I=(l*A-l)/2-C*l,V=p?"right":"left";T.forEach(L=>{L.style[e.isHorizontal()?V:"top"]=`${I}px`})}}N.forEach((T,S)=>{if(j.type==="fraction"&&(T.querySelectorAll(So(j.currentClass)).forEach(P=>{P.textContent=j.formatFractionCurrent(w+1)}),T.querySelectorAll(So(j.totalClass)).forEach(P=>{P.textContent=j.formatFractionTotal(k)})),j.type==="progressbar"){let P;j.progressbarOpposite?P=e.isHorizontal()?"vertical":"horizontal":P=e.isHorizontal()?"horizontal":"vertical";const C=(w+1)/k;let A=1,I=1;P==="horizontal"?A=C:I=C,T.querySelectorAll(So(j.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${A}) scaleY(${I})`,V.style.transitionDuration=`${e.params.speed}ms`})}j.type==="custom"&&j.renderCustom?(Ih(T,j.renderCustom(e,w+1,k)),S===0&&i("paginationRender",T)):(S===0&&i("paginationRender",T),i("paginationUpdate",T)),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](j.lockClass)})}function g(){const p=e.params.pagination;if(c())return;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let N=e.pagination.el;N=Zt(N);let w="";if(p.type==="bullets"){let E=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>j&&(E=j);for(let M=0;M<E;M+=1)p.renderBullet?w+=p.renderBullet.call(e,M,p.bulletClass):w+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?w=p.renderFraction.call(e,p.currentClass,p.totalClass):w=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?w=p.renderProgressbar.call(e,p.progressbarFillClass):w=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],N.forEach(E=>{p.type!=="custom"&&Ih(E,w||""),p.type==="bullets"&&e.pagination.bullets.push(...E.querySelectorAll(So(p.bulletClass)))}),p.type!=="custom"&&i("paginationRender",N[0])}function y(){e.params.pagination=US(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const p=e.params.pagination;if(!p.el)return;let j;typeof p.el=="string"&&e.isElement&&(j=e.el.querySelector(p.el)),!j&&typeof p.el=="string"&&(j=[...document.querySelectorAll(p.el)]),j||(j=p.el),!(!j||j.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(j)&&j.length>1&&(j=[...e.el.querySelectorAll(p.el)],j.length>1&&(j=j.find(N=>MS(N,".swiper")[0]===e.el))),Array.isArray(j)&&j.length===1&&(j=j[0]),Object.assign(e.pagination,{el:j}),j=Zt(j),j.forEach(N=>{p.type==="bullets"&&p.clickable&&N.classList.add(...(p.clickableClass||"").split(" ")),N.classList.add(p.modifierClass+p.type),N.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(N.classList.add(`${p.modifierClass}${p.type}-dynamic`),o=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&N.classList.add(p.progressbarOppositeClass),p.clickable&&N.addEventListener("click",h),e.enabled||N.classList.add(p.lockClass)}))}function x(){const p=e.params.pagination;if(c())return;let j=e.pagination.el;j&&(j=Zt(j),j.forEach(N=>{N.classList.remove(p.hiddenClass),N.classList.remove(p.modifierClass+p.type),N.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(N.classList.remove(...(p.clickableClass||"").split(" ")),N.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(N=>N.classList.remove(...p.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const p=e.params.pagination;let{el:j}=e.pagination;j=Zt(j),j.forEach(N=>{N.classList.remove(p.horizontalClass,p.verticalClass),N.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?v():(y(),g(),m())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),r("snapIndexChange",()=>{m()}),r("snapGridLengthChange",()=>{g(),m()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{el:p}=e.pagination;p&&(p=Zt(p),p.forEach(j=>j.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{m()}),r("click",(p,j)=>{const N=j.target,w=Zt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&w&&w.length>0&&!N.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&N===e.navigation.nextEl||e.navigation.prevEl&&N===e.navigation.prevEl))return;const E=w[0].classList.contains(e.params.pagination.hiddenClass);i(E===!0?"paginationShow":"paginationHide"),w.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const b=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Zt(p),p.forEach(j=>j.classList.remove(e.params.pagination.paginationDisabledClass))),y(),g(),m()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Zt(p),p.forEach(j=>j.classList.add(e.params.pagination.paginationDisabledClass))),x()};Object.assign(e.pagination,{enable:b,disable:v,render:g,update:m,init:y,destroy:x})}function KS(t){let{swiper:e,extendParams:n,on:r,emit:i,params:a}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,o,c=a&&a.autoplay?a.autoplay.delay:3e3,d=a&&a.autoplay?a.autoplay.delay:3e3,u,h=new Date().getTime(),m,g,y,x,b,v,p;function j(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",j),!(p||D.detail&&D.detail.bySwiperTouchMove)&&S())}const N=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(d=u,m=!1);const D=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=D,i("autoplayTimeLeft",D,D/c),o=requestAnimationFrame(()=>{N()})},w=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.find(B=>B.classList.contains("swiper-slide-active")):D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},E=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),N();let R=typeof D>"u"?e.params.autoplay.delay:D;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const B=w();!Number.isNaN(B)&&B>0&&typeof D>"u"&&(R=B,c=B,d=B),u=R;const X=e.params.speed,Z=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(X,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,X,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(X,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,X,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return R>0?(clearTimeout(l),l=setTimeout(()=>{Z()},R)):requestAnimationFrame(()=>{Z()}),R},M=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),i("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(o),i("autoplayStop")},T=(D,R)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),D||(v=!0);const B=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",j):S()};if(e.autoplay.paused=!0,R){b&&(u=e.params.autoplay.delay),b=!1,B();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),B())},S=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),v?(v=!1,E(u)):E(),e.autoplay.paused=!1,i("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const D=xr();D.visibilityState==="hidden"&&(v=!0,T(!0)),D.visibilityState==="visible"&&S()},C=D=>{D.pointerType==="mouse"&&(v=!0,p=!0,!(e.animating||e.autoplay.paused)&&T(!0))},A=D=>{D.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&S())},I=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",A))},V=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",A))},L=()=>{xr().addEventListener("visibilitychange",P)},O=()=>{xr().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(I(),L(),M())}),r("destroy",()=>{V(),O(),e.autoplay.running&&k()}),r("_freeModeStaticRelease",()=>{(y||v)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():T(!0,!0)}),r("beforeTransitionStart",(D,R,B)=>{e.destroyed||!e.autoplay.running||(B||!e.params.autoplay.disableOnInteraction?T(!0,!0):k())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}g=!0,y=!1,v=!1,x=setTimeout(()=>{v=!0,y=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(x),clearTimeout(l),e.params.autoplay.disableOnInteraction){y=!1,g=!1;return}y&&e.params.cssMode&&S(),y=!1,g=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:M,stop:k,pause:T,resume:S})}function G$(t){const{effect:e,swiper:n,on:r,setTranslate:i,setTransition:a,overwriteParams:l,perspective:o,recreateShadows:c,getEffectParams:d}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),o&&o()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=l?l():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate _virtualUpdated",()=>{n.params.effect===e&&i()}),r("setTransition",(h,m)=>{n.params.effect===e&&a(m)}),r("transitionEnd",()=>{if(n.params.effect===e&&c){if(!d||!d().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>m.remove())}),c()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(i(),u=!1)}))})}function Y$(t,e){const n=PS(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function X$(t){let{swiper:e,duration:n,transformElements:r,allSlides:i}=t;const{activeIndex:a}=e,l=o=>o.parentElement?o.parentElement:e.slides.find(d=>d.shadowRoot&&d.shadowRoot===o.parentNode);if(e.params.virtualTranslate&&n!==0){let o=!1,c;i?c=r:c=r.filter(d=>{const u=d.classList.contains("swiper-slide-transform")?l(d):d;return e.getSlideIndex(u)===a}),c.forEach(d=>{DV(d,()=>{if(o||!e||e.destroyed)return;o=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function GS(t){let{swiper:e,extendParams:n,on:r}=t;n({fadeEffect:{crossFade:!1}}),G$({effect:"fade",swiper:e,on:r,setTranslate:()=>{const{slides:l}=e,o=e.params.fadeEffect;for(let c=0;c<l.length;c+=1){const d=e.slides[c];let h=-d.swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let m=0;e.isHorizontal()||(m=h,h=0);const g=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(d.progress),0):1+Math.min(Math.max(d.progress,-1),0),y=Y$(o,d);y.style.opacity=g,y.style.transform=`translate3d(${h}px, ${m}px, 0px)`}},setTransition:l=>{const o=e.slides.map(c=>PS(c));o.forEach(c=>{c.style.transitionDuration=`${l}ms`}),X$({swiper:e,duration:l,transformElements:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const Z$=()=>{const[t,e]=f.useState("all"),[n,r]=f.useState(""),[i,a]=f.useState({}),[l,o]=f.useState(3),c=3,d=[{id:1,title:"Sng Khe Vi HIV",description:"Hng dn ny cung cp li khuyn thit thc  duy tr sc khe v s khe mnh khi sng vi HIV.",category:"living-with-hiv",format:"article",url:"/guest/resources/living-well-with-hiv",date:new Date("2023-02-15"),readTime:"15 pht c",isFeatured:!0},{id:2,title:"Hiu V Liu Php Khng Retrovirus (ART)",description:"Tm hiu v cch thc hot ng ca ART, cc la chn thuc khc nhau v cc cu hi thng gp v phng php iu tr.",category:"treatment",format:"article",url:"/guest/resources/understanding-art",date:new Date("2023-03-10"),readTime:"20 pht c",isFeatured:!0},{id:3,title:"Hng Dn Dinh Dng Cho Bnh Nhn HIV",description:"Dinh dng hp l rt quan trng cho chc nng min dch. Hng dn ny a ra cc khuyn ngh v ch  n ung cho bnh nhn HIV.",category:"wellness",format:"pdf",url:"/guest/resources/nutrition-guidelines",date:new Date("2023-01-25"),readTime:"10 pht c"},{id:4,title:"Qun L Tc Dng Ph Ca Thuc",description:"Mo v chin lc  i ph vi cc tc dng ph ph bin ca thuc iu tr HIV.",category:"treatment",format:"article",url:"/guest/resources/managing-side-effects",date:new Date("2023-02-28"),readTime:"12 pht c"},{id:5,title:"Sc Khe Tm Thn v HIV",description:"Sng vi HIV c th nh hng n sc khe tm thn ca bn. Tm hiu v cc chin lc i ph v khi no cn tm kim s gip .",category:"wellness",format:"article",url:"/guest/resources/mental-health",date:new Date("2023-03-05"),readTime:"18 pht c"},{id:6,title:"Mi Quan H v HIV",description:"Li khuyn  tho lun v tnh trng ca bn vi i tc, hn h v duy tr cuc sng x hi lnh mnh vi HIV.",category:"living-with-hiv",format:"article",url:"/guest/resources/hiv-and-relationships",date:new Date("2023-01-20"),readTime:"15 pht c"},{id:7,title:"Hng Dn Phng Nga HIV",description:"Thng tin v PrEP, PEP, U=U (Khng Pht Hin = Khng Ly Truyn) v cc bin php tnh dc an ton.",category:"prevention",format:"pdf",url:"/guest/resources/hiv-prevention-guide",date:new Date("2023-02-10"),readTime:"25 pht c"},{id:8,title:"Cc Nhm H Tr HIV",description:"Tm hiu v li ch ca cc nhm h tr v cch tm mt nhm trong khu vc ca bn.",category:"support",format:"article",url:"/guest/resources/support-groups",date:new Date("2023-03-15"),readTime:"8 pht c"},{id:9,title:"Tp Th Dc v HIV",description:"Cc khuyn ngh v hot ng th cht cho ngi sng vi HIV, bao gm li ch v cc bin php phng nga.",category:"wellness",format:"video",url:"/guest/resources/exercise-and-hiv",date:new Date("2023-02-20"),readTime:"Video 30 pht"},{id:10,title:"Du Lch Vi HIV",description:"Thng tin thit yu cho vic du lch vi HIV, bao gm qun l thuc v cc cn nhc quc t.",category:"living-with-hiv",format:"article",url:"/guest/resources/traveling-with-hiv",date:new Date("2023-01-30"),readTime:"12 pht c"}],u=[{id:1,url:"https://images.unsplash.com/photo-1584982751601-97dcc096659c",title:"Chm sc sc khe hin i",description:"Tip cn phng php iu tr tin tin"},{id:2,url:"https://images.unsplash.com/photo-1579684385127-1ef15d508118",title:"H tr cng ng",description:"Cng nhau xy dng cng ng mnh m"},{id:3,url:"https://images.unsplash.com/photo-1576091160550-2173dba999ef",title:"Gio dc sc khe",description:"Kin thc l sc mnh trong iu tr"}],h=[{id:1,title:"Hiu v HIV/AIDS",embedId:"DGyVt_MU4_g",description:"Tng quan v HIV/AIDS v cch phng nga"},{id:2,title:"Sng khe mi ngy",embedId:"WI5IfL6c0Pw",description:"Chia s kinh nghim sng tch cc"},{id:3,title:"iu tr ARV hin i",embedId:"S5mKyBNGv3A",description:"Thng tin v phng php iu tr mi"}],m=[{id:1,title:"Tin b mi trong iu tr HIV 2024",image:"https://images.unsplash.com/photo-1581093458791-9d58e9c167af",date:"15/03/2024",excerpt:"Khm ph nhng phng php iu tr mi nht..."},{id:2,title:"Dinh dng cho ngi iu tr HIV",image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd",date:"10/03/2024",excerpt:"Ch  n ung khoa hc v cn bng..."},{id:3,title:"Hot ng cng ng thng 3/2024",image:"https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca",date:"05/03/2024",excerpt:"Cc hot ng h tr v giao lu cng ng..."}],g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}},exit:{opacity:0,y:-20,transition:{duration:.3}}},y={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};f.useEffect(()=>{const v=()=>{document.querySelectorAll(".animate-on-scroll").forEach(j=>{const w=j.getBoundingClientRect().top<=window.innerHeight-100;a(E=>({...E,[j.id]:w}))})};return window.addEventListener("scroll",v),v(),()=>window.removeEventListener("scroll",v)},[]),d.filter(v=>{const p=t==="all"||v.category===t,j=n===""||v.title.toLowerCase().includes(n.toLowerCase())||v.description.toLowerCase().includes(n.toLowerCase());return p&&j}),d.filter(v=>v.isFeatured);const x=v=>{switch(v){case"living-with-hiv":return"Sng vi HIV";case"treatment":return"iu tr";case"prevention":return"Phng nga";case"support":return"H tr";case"wellness":return"Sc khe & Th cht";default:return v}},b=()=>{o(v=>Math.min(v+c,d.length))};return s.jsx(be,{currentRole:se.GUEST,children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"relative h-[500px] overflow-hidden",children:s.jsx(Cy,{modules:[KS,qS,WS,GS],effect:"fade",spaceBetween:0,slidesPerView:1,autoplay:{delay:5e3},pagination:{clickable:!0},navigation:!0,className:"h-full w-full",children:u.map(v=>s.jsx(Ey,{children:s.jsxs("div",{className:"relative h-full",children:[s.jsx("img",{src:v.url,alt:v.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"relative bg-cover bg-center text-white py-20",style:{backgroundImage:"url('/images/hero-bg.jpg')"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-4",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg font-sans",children:v.title}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-light drop-shadow-md",children:v.description})]})})})]})},v.id))})}),s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs(Se.section,{initial:"hidden",animate:"visible",variants:y,className:"mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 font-sans tracking-tight",children:"Video Hng Dn"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(v=>s.jsxs(Se.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${v.embedId}`,title:v.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 font-sans",children:v.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed font-sans",children:v.description})]})]},v.id))})]}),s.jsxs(Se.section,{initial:"hidden",animate:"visible",variants:y,className:"mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 font-sans tracking-tight",children:"Bi Vit Mi Nht"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map(v=>s.jsxs(Se.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:[s.jsx("img",{src:v.image,alt:v.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium mb-2 font-sans",children:v.date}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 font-sans",children:v.title}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed font-sans",children:v.excerpt}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center group transition-colors duration-200 font-sans",children:["c thm",s.jsx("svg",{className:"ml-2 w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},v.id))})]}),s.jsxs(Se.section,{initial:"hidden",animate:"visible",variants:y,className:"mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 font-sans tracking-tight",children:"Ti Nguyn Hc Tp"}),s.jsx(Se.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",variants:y,children:s.jsx(gy,{children:d.slice(0,l).map(v=>s.jsx(Se.div,{variants:g,initial:"hidden",animate:"visible",exit:"exit",whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:s.jsx(ue,{to:v.url,className:"block p-6",children:s.jsx("div",{className:"flex items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 hover:text-blue-600 mb-3 font-sans transition-colors duration-200",children:v.title}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed font-sans",children:v.description}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full mr-3 font-medium font-sans",children:x(v.category)}),s.jsx("span",{className:"text-gray-500 font-sans",children:v.readTime})]})]})})})},v.id))})}),l<d.length&&s.jsxs(Se.div,{className:"text-center mt-10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[s.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md hover:shadow-lg font-sans",children:["Xem thm ti nguyn",s.jsx("svg",{className:"ml-2 -mr-1 w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),s.jsxs("p",{className:"mt-3 text-sm text-gray-500 font-sans",children:["Hin th ",l," trn tng s ",d.length," ti nguyn"]})]})]}),s.jsxs(Se.section,{initial:"hidden",animate:"visible",variants:y,className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 font-sans",children:"Cn Thm Thng Tin?"}),s.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8 font-sans",children:"i ng chuyn gia ca chng ti sn sng tr li mi cu hi v cung cp h tr c nhn ha."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(ue,{to:"/contact",children:s.jsx("button",{className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full text-blue-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md hover:shadow-lg font-sans",children:"Lin H Chng Ti"})}),s.jsx(ue,{to:"/login",children:s.jsx("button",{className:"inline-flex items-center px-8 py-3 border-2 border-white text-base font-medium rounded-full text-white hover:bg-white hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 font-sans",children:"ng Nhp"})})]})]})]})]})})},Q$=()=>s.jsx(be,{currentRole:se.GUEST,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-9xl font-bold text-primary-600",children:"404"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Trang khng tn ti"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Xin li, chng ti khng th tm thy trang bn ang tm kim."})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx(ue,{to:"/",children:s.jsx(F,{variant:"primary",className:"w-full",children:"V trang ch"})}),s.jsx(ue,{to:"/contact",children:s.jsx(F,{variant:"outline",className:"w-full",children:"Lin h h tr"})})]}),s.jsx("div",{className:"mt-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cc trang ph bin"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{to:"/about",className:"block text-primary-600 hover:text-primary-800",children:"Gii thiu"}),s.jsx(ue,{to:"/services",className:"block text-primary-600 hover:text-primary-800",children:"Dch v"}),s.jsx(ue,{to:"/resources",className:"block text-primary-600 hover:text-primary-800",children:"Ti liu gio dc"}),s.jsx(ue,{to:"/login",className:"block text-primary-600 hover:text-primary-800",children:"ng nhp"})]})]})})]})})}),Yt=({children:t,allowedRoles:e=[]})=>{const n=ks(),r=Ee.isAuthenticated(),i=Ee.getUserRole();return r?e.length===0||e.includes(i)?t:s.jsx(Jn,{to:"/unauthorized",replace:!0}):s.jsx(Jn,{to:"/login",state:{from:n},replace:!0})};Th({email:Rt().email("Email khng hp l"),password:Rt().min(6,"Mt khu phi c t nht 6 k t")});const J$=()=>{const t=Ee.getUserRole(),e=()=>{switch(t){case"DOCTOR":return"/doctor/dashboard";case"STAFF":return"/staff/dashboard";case"MANAGER":return"/manager/dashboard";case"ADMIN":return"/admin/dashboard";case"CUSTOMER":return"/customer/dashboard";default:return"/login"}};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx("div",{className:"inline-flex h-24 w-24 items-center justify-center rounded-full bg-red-100 mb-6",children:s.jsx("svg",{className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Khng  quyn truy cp"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Bn khng c quyn truy cp vo trang ny. Vui lng lin h qun tr vin nu bn cm thy y l s c."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ue,{to:e(),className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"V trang ch"}),s.jsx(ue,{to:"/",className:"w-full py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"V trang chnh"})]})]})})},Oj=()=>{const t=ks(),r=new URLSearchParams(t.search).get("role")==="customer",i=r?se.CUSTOMER:se.GUEST,a=r?"Nguyn Vn An":void 0,l=[{id:1,title:"Xem lch khm",description:"Xem lch lm vic ca cc bc s v thi gian c sn.",icon:s.jsx(ve,{className:"h-10 w-10 text-primary-600"}),link:"/schedule",requireLogin:!1},{id:2,title:"i ng bc s",description:"Tm hiu v i ng bc s chuyn khoa ca chng ti.",icon:s.jsx($r,{className:"h-10 w-10 text-blue-600"}),link:"/doctors",requireLogin:!1},{id:3,title:"t lch hn",description:"t lch hn khm vi bc s chuyn khoa mt cch d dng.",icon:s.jsx(ve,{className:"h-10 w-10 text-green-600"}),link:r?"/customer/appointment-selection":"/login",requireLogin:!r},{id:4,title:"Qun l sc khe",description:"Theo di thuc, xt nghim v qu trnh iu tr.",icon:s.jsx(Rn,{className:"h-10 w-10 text-orange-600"}),link:r?"/customer/dashboard":"/login",requireLogin:!r}],o=[{id:1,title:"T vn HIV",description:"T vn chuyn nghip v phng nga, iu tr v sng chung vi HIV.",icon:s.jsx(Lr,{className:"h-10 w-10 text-green-600"}),link:"/services",available:!0},{id:2,title:"Xt nghim & Sng lc",description:"Dch v xt nghim ton din vi kt qu nhanh chng v bo mt tuyt i.",icon:s.jsx(Ie,{className:"h-10 w-10 text-blue-600"}),link:"/services",available:!0},{id:3,title:"H tr tm l",description:"Dch v h tr tm l v t vn sc khe tinh thn.",icon:s.jsx(Vn,{className:"h-10 w-10 text-red-600"}),link:"/services",available:!0},{id:4,title:"iu tr ARV",description:"K hoch iu tr c nhn ha vi thuc khng virus mi nht.",icon:s.jsx(Al,{className:"h-10 w-10 text-purple-600"}),link:"/services",available:!0},{id:5,title:"Gio dc & H tr",description:"Ti liu gio dc v h tr cng ng cho ngi sng vi HIV.",icon:s.jsx(so,{className:"h-10 w-10 text-indigo-600"}),link:"/resources",available:!0}],c=[{id:1,quote:"S chm sc v h tr ti nhn c tht c bit. i ng  gip ti t tin iu tr HIV.",name:"Nguyn T.L.",role:"Bnh nhn t 2019"},{id:2,quote:"Ti  rt lo lng khi bt u iu tr, nhng cc bc s  kin nhn, gii thch mi th r rng v h tr ti tng bc.",name:"Trn V.M.",role:"Bnh nhn t 2021"},{id:3,quote:"Cng thng tin trc tuyn gip vic qun l lch hn v thuc d dng hn nhiu. Rt thun tin v an ton.",name:"L T.H.",role:"Bnh nhn t 2020"}],d=[{id:1,value:"96%",label:"S hi lng ca bnh nhn"},{id:2,value:"12k+",label:"Bnh nhn  iu tr"},{id:3,value:"25+",label:"Bc s chuyn khoa"},{id:4,value:"15+",label:"Nm kinh nghim"}];return s.jsxs(be,{currentRole:i,userName:a,children:[s.jsx(ER,{}),s.jsx("section",{className:"py-12 bg-primary-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"text-center mb-8",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Cho mng tr li, ",a,"!"]}),s.jsx("p",{className:"text-gray-600",children:"Qun l sc khe ca bn mt cch d dng"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Dch v chm sc sc khe"}),s.jsx("p",{className:"text-gray-600",children:"ng nhp  truy cp y  cc tnh nng qun l sc khe"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(u=>s.jsx("div",{className:"relative",children:s.jsx(ue,{to:u.link,children:s.jsxs(G,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer relative",children:[u.requireLogin&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsx(S0,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:u.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:u.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.description}),u.requireLogin&&s.jsx("div",{className:"text-xs text-primary-600 font-medium",children:"Cn ng nhp"})]})]})})},u.id))}),!r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-xl mx-auto border border-primary-200",children:[s.jsx(S0,{className:"h-8 w-8 text-primary-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ng nhp  s dng y "}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"ng nhp  t lch hn, xem kt qu xt nghim v qun l iu tr ca bn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx(ue,{to:"/login",children:s.jsx(F,{variant:"primary",size:"sm",children:"ng nhp"})}),s.jsx(ue,{to:"/register",children:s.jsx(F,{variant:"outline",size:"sm",children:"ng k"})})]})]})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Dch v chm sc HIV ton din"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Chng ti cung cp dch v chm sc HIV ton din vi trng tm l iu tr c nhn ha, h tr v gio dc."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(u=>s.jsx(G,{className:"h-full",children:s.jsxs("div",{className:"p-6 flex flex-col h-full",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:u.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:u.title}),s.jsx("p",{className:"text-gray-600 mb-6 flex-grow text-center",children:u.description}),s.jsx("div",{className:"mt-auto text-center",children:s.jsx(ue,{to:u.link,children:s.jsx(F,{variant:"outline",size:"sm",children:"Tm hiu thm"})})})]})},u.id))})]})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Thnh tu ca chng ti"}),s.jsx("p",{className:"text-gray-600",children:"Nhng con s chng minh cht lng dch v"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:d.map(u=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-primary-600 mb-2",children:u.value}),s.jsx("div",{className:"text-lg text-gray-600",children:u.label})]},u.id))})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Chia s t bnh nhn"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Tri nghim thc t t nhng ngi  tin tng chng ti chm sc sc khe."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map(u=>s.jsx(G,{className:"h-full bg-gray-50",children:s.jsxs("div",{className:"p-6 flex flex-col h-full",children:[s.jsx("div",{className:"mb-4 text-primary-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9.983 3v7.391c0 5.704-3.731 9.57-8.983 10.609l-.995-2.151c2.432-.917 3.995-3.638 3.995-5.849h-4v-10h9.983zm14.017 0v7.391c0 5.704-3.748 9.571-9 10.609l-.996-2.151c2.433-.917 3.996-3.638 3.996-5.849h-3.983v-10h9.983z"})})}),s.jsxs("p",{className:"text-gray-600 mb-6 flex-grow italic",children:['"',u.quote,'"']}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-500",children:u.role})]})]})},u.id))})]})}),s.jsx("section",{className:"py-16 bg-primary-600",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:r?"Cn h tr thm?":"Sn sng bt u?"}),s.jsx("p",{className:"text-xl text-primary-100 max-w-3xl mx-auto mb-8",children:r?"Lin h vi i ng chuyn gia ca chng ti  c h tr tt nht.":"Hy thc hin bc u tin hng ti chm sc HIV ton din vi i ng chuyn gia ca chng ti."}),s.jsx("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:r?s.jsxs(s.Fragment,{children:[s.jsx(ue,{to:"/customer/appointment-selection",children:s.jsx(F,{variant:"white",className:"text-lg py-3 px-8",children:"t lch hn"})}),s.jsx(ue,{to:"/contact",children:s.jsx(F,{variant:"outline-white",className:"text-lg py-3 px-8",children:"Lin h h tr"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ue,{to:"/register",children:s.jsx(F,{variant:"white",className:"text-lg py-3 px-8",children:"ng k ngay"})}),s.jsx(ue,{to:"/contact",children:s.jsx(F,{variant:"outline-white",className:"text-lg py-3 px-8",children:"Lin h chng ti"})})]})})]})})]})},eB=()=>{const t=ks(),r=new URLSearchParams(t.search).get("role")==="customer",i=r?se.CUSTOMER:se.GUEST,a=r?"Nguyn Vn An":void 0,l=[{id:1,name:"BS. Nguyn Th khoi",role:"Chuyn gia HIV",image:"https://randomuser.me/api/portraits/women/64.jpg",bio:"BS. Nguyn  chuyn v iu tr HIV trong hn 15 nm. C tn tm cung cp dch v chm sc ton din v lun cp nht vi nhng tin b mi nht."},{id:2,name:"BS. Trn Vn Hi",role:"Chuyn gia bnh truyn nhim",image:"https://randomuser.me/api/portraits/men/32.jpg",bio:"L mt chuyn gia bnh truyn nhim hng u, BS. Trn mang n nhiu kin thc phong ph v cc chin lc phng nga v iu tr HIV cho i ng ca chng ti."},{id:3,name:"BS. L Th Hng",role:"C vn HIV",image:"https://randomuser.me/api/portraits/women/45.jpg",bio:"Vi nn tng v tm l hc v t vn HIV, BS. L cung cp h tr tinh thn v tm l thit yu cho bnh nhn ca chng ti."},{id:4,name:"TS. Phm Minh Tun",role:"Gim c nghin cu",image:"https://randomuser.me/api/portraits/men/67.jpg",bio:"TS. Phm lnh o cc sng kin nghin cu ca chng ti, m bo rng chng ti lun i u trong cc i mi v tin b lm sng v iu tr HIV."}],o={mission:"Cung cp dch v chm sc HIV ton din, cht lng cao v nhn vn cho tt c nhng ngi cn, ng thi nng cao nhn thc v gio dc cng ng v phng nga v iu tr HIV.",vision:"Hng ti mt th gii khng c ca nhim HIV mi, ni nhng ngi sng chung vi HIV c tip cn y  vi dch v chm sc, c h tr v sng khng b k th."},c=[{year:"2005",title:"Thnh lp phng khm",description:"Trung tm iu tr HIV ca chng ti c thnh lp  p ng nhu cu ngy cng tng v dch v chm sc chuyn bit trong cng ng."},{year:"2010",title:"M rng dch v",description:"B sung dch v t vn ton din, nhm h tr v thm cc chuyn gia y t vo i ng ca chng ti."},{year:"2015",title:"Sng kin nghin cu",description:"Trin khai chng trnh nghin cu lm sng  tham gia vo cc nghin cu iu tr HIV tin tin."},{year:"2018",title:"Chuyn i s",description:"Trin khai nn tng sc khe s  ci thin kh nng tip cn ca bnh nhn v qun l chm sc."},{year:"2022",title:"Tip cn cng ng",description:"M rng cc chng trnh gio dc v phng nga  tip cn nhiu cng ng v cc nhm d b tn thng hn."}];return s.jsxs(be,{currentRole:i,userName:a,children:[s.jsxs("div",{className:"relative bg-indigo-800 text-white py-24",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-900 to-indigo-700 opacity-90"}),s.jsx("div",{className:"relative container mx-auto px-4 z-10",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.jsx("span",{children:"V Trung Tm iu Tr HIV Ca Chng Ti"})}),s.jsx("p",{className:"text-xl text-indigo-100",children:s.jsx("span",{children:"Tn tm cung cp dch v chm sc v h tr ton din cho nhng ngi sng chung vi HIV t nm 2005. i ng chuyn gia ca chng ti cam kt v sc khe, hnh phc v cht lng cuc sng ca bn."})})]})})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:s.jsx("span",{children:"S Mnh Ca Chng Ti"})}),s.jsx("div",{className:"bg-indigo-50 p-6 rounded-lg border-l-4 border-indigo-600",children:s.jsx("p",{className:"text-lg text-gray-700",children:s.jsx("span",{children:o.mission})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:s.jsx("span",{children:"Tm Nhn Ca Chng Ti"})}),s.jsx("div",{className:"bg-indigo-50 p-6 rounded-lg border-l-4 border-indigo-600",children:s.jsx("p",{className:"text-lg text-gray-700",children:s.jsx("span",{children:o.vision})})})]})]})})})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.jsx("span",{children:"Hnh Trnh Ca Chng Ti"})}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:s.jsx("span",{children:"S pht trin ca trung tm chng ti v cam kt lin tc v chm sc v iu tr HIV."})})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-indigo-200"}),c.map((d,u)=>s.jsxs("div",{className:`relative z-10 mb-12 flex ${u%2===0?"flex-row":"flex-row-reverse"}`,children:[s.jsx("div",{className:"flex-1"}),s.jsx("div",{className:"flex items-center justify-center w-12 h-12",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 border-4 border-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx(G,{className:`max-w-sm ${u%2===0?"ml-6":"mr-6"} shadow-lg`,children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"text-xl font-semibold text-indigo-600 mb-1",children:s.jsx("span",{children:d.year})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.jsx("span",{children:d.title})}),s.jsx("p",{className:"text-gray-600",children:s.jsx("span",{children:d.description})})]})})})]},u))]})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:s.jsx("span",{children:"i Ng Ca Chng Ti"})}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:s.jsx("span",{children:"Cc chuyn gia lnh ngh v tn tm ca chng ti lm vic cng nhau  cung cp dch v chm sc c bit cho tt c bnh nhn."})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map(d=>s.jsx(G,{className:"h-full",children:s.jsxs("div",{className:"p-6 flex flex-col h-full",children:[s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:d.image,alt:d.name,className:"w-32 h-32 object-cover rounded-full mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 text-center mb-1",children:s.jsx("span",{children:d.name})}),s.jsx("p",{className:"text-center text-indigo-600 mb-4",children:s.jsx("span",{children:d.role})}),s.jsx("p",{className:"text-gray-600 text-center",children:s.jsx("span",{children:d.bio})})]})},d.id))})]})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Chng Nhn & i Tc Ca Chng Ti"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Chng ti tun th cc tiu chun chm sc cao nht v hp tc vi cc t chc hng u trong nghin cu v iu tr HIV."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-center h-24",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-800",children:"T chc Y t Th gii"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Nh cung cp c chp thun"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-center h-24",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-800",children:"UNAIDS"}),s.jsx("div",{className:"text-sm text-gray-500",children:"i tc chng trnh"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-center h-24",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-800",children:"B Y t"}),s.jsx("div",{className:"text-sm text-gray-500",children:"C s c chng nhn"})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-center h-24",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-800",children:"Hip hi HIV/AIDS"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Thnh vin c cng nhn"})]})})]})]})})}),s.jsx("section",{className:"py-16 bg-indigo-700 text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-6",children:s.jsx("span",{children:"Chng Ti Lun Sn Sng H Tr Bn"})}),s.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:s.jsx("span",{children:"Nu bn hoc ngi thn cn t vn, iu tr hoc h tr v HIV, hy lin h vi chng ti ngay hm nay  t lch hn hoc tm hiu thm v dch v ca chng ti."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(F,{variant:"white",size:"lg",className:"text-indigo-700",children:s.jsx("span",{children:"t Lch Hn"})}),s.jsx(ue,{to:"/contact","aria-label":"Lin h vi chng ti",children:s.jsx(F,{variant:"outline",size:"lg",className:"border-white text-white",children:s.jsx("span",{children:"Lin H Chng Ti"})})})]})]})})})]})},tB=()=>{const t=ks(),r=new URLSearchParams(t.search).get("role")==="customer",i=r?se.CUSTOMER:se.GUEST,a=r?"Nguyn Vn An":void 0,l=[{id:1,name:"Dch V Y T",description:"Phm vi ton din cc dch v y t ca chng ti  chn on, iu tr v qun l HIV.",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),services:[{name:"Xt Nghim & Chn on HIV",description:"Dch v xt nghim HIV ton din vi kt qu nhanh chng v t vn bo mt."},{name:"Liu Php Khng Retrovirus",description:"K hoch iu tr c nhn ha vi cc thuc khng retrovirus hin i nht."},{name:"Theo Di Sc Khe nh K",description:"Theo di lin tc s lng CD4, ti lng virus v tnh trng sc khe tng th."},{name:"Qun L Nhim Trng C Hi",description:"Phng nga v iu tr cc nhim trng c th xy ra vi HIV."}]},{id:2,name:"Dch V H Tr",description:"H tr v mt cm xc, tm l v thc t  gip bn qun l cuc sng vi HIV.",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),services:[{name:"T Vn C Nhn",description:"Cc bui t vn trc tip vi cc chuyn vin t vn c o to v cc vn  lin quan n HIV."},{name:"Nhm H Tr",description:"Kt ni vi nhng ngi khc sng chung vi HIV trong mi trng an ton, h tr."},{name:"Qun L H S",description:"H tr c nhn ha trong vic tm hiu v dch v chm sc sc khe, dch v x hi v phc li."},{name:"H Tr Tun Th",description:"Cng c v chin lc  gip bn duy tr vic tun th u n vic dng thuc."}]},{id:3,name:"Dch V Phng Nga",description:"Chng trnh v dch v c thit k  ngn nga ly truyn HIV v thc y sc khe cng ng.",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),services:[{name:"PrEP (D Phng Trc Phi Nhim)",description:"Thuc v t vn cho cc c nhn c nguy c cao nhim HIV."},{name:"PEP (D Phng Sau Phi Nhim)",description:"Thuc khn cp cho nhng ngi c kh nng mi tip xc vi HIV."},{name:"Gio Dc Tnh Dc An Ton",description:"Ti nguyn v gio dc v cc bin php tnh dc an ton hn v phng nga HIV."},{name:"Tip Cn Cng ng",description:"Cc chng trnh a xt nghim HIV, gio dc v ti nguyn n cc cng ng d b tn thng."}]},{id:4,name:"Dch V Sc Khe Tng Th",description:"Chm sc ton din cho sc khe v s khe mnh tng th ca bn ngoi vic qun l HIV.",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),services:[{name:"T Vn Dinh Dng",description:"Hng dn ch  n ung c nhn ha  h tr h min dch v sc khe tng th ca bn."},{name:"Dch V Sc Khe Tm Thn",description:"H tr chuyn nghip cho trm cm, lo u v cc vn  sc khe tm thn khc."},{name:"iu Tr Lm Dng Cht",description:"Chng trnh gii quyt cc vn  lm dng cht c th nh hng n iu tr HIV."},{name:"Chng Trnh Tp Th Dc",description:"Chng trnh hot ng th cht c thit k c bit cho nhng ngi sng vi HIV."}]}],o=[{id:1,name:"Chm Sc HIV cho Ph N",description:"Dch v chuyn bit p ng nhu cu c th ca ph n sng vi HIV, bao gm sc khe sinh sn v k hoch mang thai.",icon:""},{id:2,name:"Chm Sc HIV cho Tr Em",description:"Chm sc chu o cho tr em v thanh thiu nin sng vi HIV, bao gm cc dch v h tr gia nh.",icon:""},{id:3,name:"C Hi Nghin Cu",description:"Tip cn cc th nghim lm sng v nghin cu tp trung vo pht trin iu tr v phng nga HIV.",icon:""}],c={accepted:["Medicare","Medicaid","Blue Cross Blue Shield","Aetna","Cigna","UnitedHealthcare"],payment:"Chng ti cung cp ph theo thang i vi bnh nhn khng c bo him v c th h tr ng k bo him v cc chng trnh h tr thuc."};return s.jsxs(be,{currentRole:i,userName:a,children:[s.jsx("div",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.jsx("span",{children:"Dch V Chm Sc HIV Ca Chng Ti"})}),s.jsx("p",{className:"text-xl text-indigo-100",children:s.jsx("span",{children:"Chm sc ton din, chu o cho nhng ngi sng vi HIV. Phm vi dch v ca chng ti c thit k  gii quyt mi kha cnh sc khe v s khe mnh ca bn."})})]})})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:s.jsx("span",{children:"Chm Sc HIV Ton Din"})}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:s.jsx("span",{children:"Chng ti cung cp y  cc dch v  gii quyt cc kha cnh th cht, tinh thn v x hi ca vic sng vi HIV. Phng php tch hp ca chng ti m bo bn nhn c s chm sc ton din ph hp vi nhu cu c nhn ca bn."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center",children:[s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-4xl text-indigo-600 mb-3",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.jsx("span",{children:"Chm Sc Y T Chuyn Nghip"})}),s.jsx("p",{className:"text-gray-600",children:s.jsx("span",{children:"T cc bc s chuyn khoa c o to v chm sc HIV"})})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-4xl text-red-600 mb-3",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.jsx("span",{children:"Cng ng H Tr"})}),s.jsx("p",{className:"text-gray-600",children:s.jsx("span",{children:"Kt ni vi nhng ngi hiu hnh trnh ca bn"})})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-4xl text-green-600 mb-3",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.jsx("span",{children:"Cng C Sc Khe K Thut S"})}),s.jsx("p",{className:"text-gray-600",children:s.jsx("span",{children:"Qun l vic chm sc trc tuyn vi nn tng bo mt ca chng ti"})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("div",{className:"text-4xl text-blue-600 mb-3",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.jsx("span",{children:"Chm Sc D Tip Cn"})}),s.jsx("p",{className:"text-gray-600",children:s.jsx("span",{children:"Nhiu a im v la chn khm sc khe t xa"})})]})]})]})})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"space-y-20",children:l.map(d=>s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center mb-10",children:[s.jsx("div",{className:"md:w-1/4 mb-6 md:mb-0 flex justify-center",children:d.icon}),s.jsxs("div",{className:"md:w-3/4 md:pl-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:d.name}),s.jsx("p",{className:"text-xl text-gray-600",children:d.description})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.services.map((u,h)=>s.jsx(G,{className:"h-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u.name}),s.jsx("p",{className:"text-gray-600",children:u.description})]})},h))})]},d.id))})})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Dch V Chuyn Bit"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Chm sc chuyn bit cho cc nhm dn s c th v nhu cu c bit."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map(d=>s.jsx(G,{className:"h-full",children:s.jsxs("div",{className:"p-6 flex flex-col h-full",children:[s.jsx("div",{className:"text-4xl mb-4 text-center",children:d.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:d.name}),s.jsx("p",{className:"text-gray-600 text-center",children:d.description})]})},d.id))})]})})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Thng Tin Bo Him & Thanh Ton"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Chng ti cam kt lm cho dch v ca mnh d tip cn vi tt c nhng ai cn."})]}),s.jsx(G,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chp Nhn Cc Gi Bo Him"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:c.accepted.map((d,u)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-gray-600",children:d})]},u))}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"H Tr Thanh Ton"}),s.jsx("p",{className:"text-gray-600 mb-6",children:c.payment}),s.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500",children:s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Cam kt ca chng ti:"})," Khng ai b t chi v khng c kh nng chi tr. Cc c vn ti chnh ca chng ti s lm vic vi bn  tm gii php ph hp vi kh nng ti chnh."]})})]})})]})})}),s.jsx("section",{className:"py-16 bg-indigo-600",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Sn Sng Bt u?"}),s.jsx("p",{className:"text-xl text-indigo-100 max-w-3xl mx-auto mb-8",children:"Hy thc hin bc u tin hng ti chm sc HIV ton din bng cch t lch hn hoc t vn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(ue,{to:"/register",children:s.jsx(F,{variant:"white",className:"text-lg py-3 px-8",children:"ng K Lm Bnh Nhn"})}),s.jsx(ue,{to:"/contact",children:s.jsx(F,{variant:"outline-white",className:"text-lg py-3 px-8",children:"Lin H Vi Chng Ti"})})]})]})})]})},sB=()=>{var x;const t=ks(),r=new URLSearchParams(t.search).get("role")==="customer",i=r?se.CUSTOMER:se.GUEST,a=r?"Nguyn Vn An":void 0,[l,o]=f.useState("all"),[c,d]=f.useState(""),u=[{id:"all",name:"Tt c bi vit"},{id:"treatment",name:"Cp nht iu tr"},{id:"living",name:"Sng chung vi HIV"},{id:"prevention",name:"Phng nga"},{id:"research",name:"Tin tc nghin cu"},{id:"stories",name:"Cu chuyn bnh nhn"}],h=[{id:1,title:"Tin b trong iu tr HIV: Nhng iu mi trong nm 2023",excerpt:"Tnh hnh iu tr HIV tip tc pht trin. Tm hiu v cc loi thuc, phng php iu tr mi nht v  ngha ca chng i vi ngi sng chung vi HIV.",author:"BS. Nguyn Th Minh",date:"15/06/2023",readTime:"8 pht c",category:"treatment",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",featured:!0},{id:2,title:"Hiu v U=U: Khng pht hin bng Khng ly truyn",excerpt:"U=U ngha l g v ti sao n quan trng i vi c nhng ngi sng chung vi HIV v bn i ca h? Chng ti gii thch v khoa hc v  ngha.",author:"BS. Trn Vn Hi",date:"28/05/2023",readTime:"6 pht c",category:"prevention",image:"https://images.unsplash.com/photo-1579154341098-e4e158cc7f55?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",featured:!0}],y=[...h,{id:3,title:"Hng dn dinh dng cho ngi sng chung vi HIV",excerpt:"Dinh dng hp l ng vai tr quan trng trong vic kim sot HIV. Hng dn ton din ny bao gm cc khuyn ngh v ch  n ung, thc phm b sung v chin lc lp k hoch ba n.",author:"L Th Hng, Chuyn vin dinh dng",date:"12/04/2023",readTime:"10 pht c",category:"living",image:"https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:4,title:"PrEP v PEP: S khc bit l g?",excerpt:"D phng trc phi nhim (PrEP) v d phng sau phi nhim (PEP) l hai cng c phng nga quan trng. Tm hiu cch chng hot ng, ai nn cn nhc s dng v lm th no  tip cn.",author:"BS. Phm Vn c",date:"30/03/2023",readTime:"7 pht c",category:"prevention",image:"https://images.unsplash.com/photo-1471864190281-a93a3070b6de?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:5,title:"Hnh trnh ca ti: Sng v pht trin vi HIV trong 15 nm",excerpt:"Trong cu chuyn c nhn ny, Minh chia s tri nghim t ngy c chn on n hin ti, nu bt nhng thch thc, thnh cng v bi hc kinh nghim trn chng ng.",author:"Nguyn Vn Minh",date:"15/03/2023",readTime:"12 pht c",category:"stories",image:"https://images.unsplash.com/photo-1434494878577-86c23bcb06b9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:6,title:"Ph v k th: Cc cuc tr chuyn v HIV",excerpt:"K th vn l mt trong nhng thch thc ln nht i vi ngi sng chung vi HIV. Bi vit ny tho lun v cc chin lc gio dc, vn ng v thay i quan im.",author:"Hong Th Mai, Nhn vin x hi",date:"28/02/2023",readTime:"9 pht c",category:"living",image:"https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:7,title:"Nhng pht trin y ha hn trong nghin cu vc-xin HIV",excerpt:"Nhng t ph gn y trong nghin cu vc-xin HIV ang mang li hy vng mi. y l nhng g bn cn bit v cc th nghim hin ti v kh nng trong tng lai.",author:"TS. Trn Minh Tm",date:"15/02/2023",readTime:"11 pht c",category:"research",image:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:8,title:"HIV v Sc khe tm thn: Qun l tc ng tm l",excerpt:"Sng chung vi HIV c th c nhng nh hng tm l ng k. Bi vit ny khm ph nhng thch thc sc khe tm thn ph bin v cc chin lc i ph hiu qu.",author:"BS. L Th Hng",date:"24/01/2023",readTime:"8 pht c",category:"living",image:"https://images.unsplash.com/photo-1541199249251-f713e6145474?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"},{id:9,title:"Phn ng ton cu i vi HIV: Tin b v thch thc",excerpt:"Cc quc gia v t chc quc t ang i ph vi dch HIV nh th no? Tng quan ny xem xt cc chin lc thnh cng v nhng tr ngi hin ti.",author:"TS. V Ngc Anh",date:"10/01/2023",readTime:"10 pht c",category:"research",image:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"}].filter(b=>{const v=l==="all"||b.category===l,p=b.title.toLowerCase().includes(c.toLowerCase())||b.excerpt.toLowerCase().includes(c.toLowerCase())||b.author.toLowerCase().includes(c.toLowerCase());return v&&p}).filter(b=>!b.featured||l!=="all"||c);return s.jsxs(be,{currentRole:i,userName:a,children:[s.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 text-white py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Blog iu Tr HIV"}),s.jsx("p",{className:"text-xl text-blue-100",children:s.jsx("span",{children:"Cp nht tin tc mi nht, nghin cu, cu chuyn c nhn v li khuyn v iu tr HIV v sng khe mnh."})})]})})}),s.jsx("section",{className:"py-8 bg-white border-b",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsx("div",{className:"flex flex-wrap mb-4 md:mb-0",children:u.map(b=>s.jsx("button",{onClick:()=>o(b.id),className:`mr-2 mb-2 px-4 py-2 rounded-full text-sm font-medium ${l===b.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,"aria-pressed":l===b.id,children:s.jsx("span",{children:b.name})},b.id))}),s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx("input",{type:"text",placeholder:"Tm kim bi vit...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:b=>d(b.target.value),"aria-label":"Tm kim bi vit"}),c&&s.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>d(""),"aria-label":"Xa tm kim",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]})})}),l==="all"&&!c&&s.jsx("section",{className:"py-12 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:s.jsx("span",{children:"Bi Vit Ni Bt"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:h.map(b=>s.jsxs(G,{className:"h-full shadow-lg hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"relative h-64 overflow-hidden rounded-t-lg",children:[s.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-0 right-0 m-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:s.jsx("span",{children:"Ni bt"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.jsx("span",{children:b.title})}),s.jsx("p",{className:"text-gray-700 mb-4",children:s.jsx("span",{children:b.excerpt})}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:b.author}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{children:b.date}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{children:b.readTime})]}),s.jsx(ue,{to:`/blog/${b.id}`,"aria-label":`c thm v ${b.title}`,children:s.jsx(F,{variant:"outline",size:"sm",children:s.jsx("span",{children:"c thm"})})})]})]})]},b.id))})]})}),s.jsx("section",{className:"py-12 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:l==="all"?"Tt C Bi Vit":`Bi Vit v ${(x=u.find(b=>b.id===l))==null?void 0:x.name}`}),y.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(b=>{var v;return s.jsxs(G,{className:"h-full shadow hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:s.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:(v=u.find(p=>p.id===b.category))==null?void 0:v.name})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:b.title}),s.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3",children:b.excerpt}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{children:b.date}),s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{children:b.readTime})]}),s.jsx(ue,{to:`/blog/${b.id}`,children:s.jsx(F,{variant:"text",size:"sm",className:"text-blue-600 hover:text-blue-800",children:"c thm "})})]})]})]},b.id)})}):s.jsxs("div",{className:"bg-white p-8 text-center rounded-lg shadow",children:[s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Khng tm thy bi vit no"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Th tm kim vi t kha khc hoc chn danh mc khc."}),s.jsx(F,{variant:"primary",onClick:()=>{o("all"),d("")},children:"Xem tt c bi vit"})]})]})}),s.jsx("section",{className:"py-16 bg-blue-600 text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"ng k nhn tin"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Nhn thng tin cp nht mi nht v iu tr HIV, nghin cu v cc ngun ti nguyn trc tip vo hp th ca bn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-center",children:[s.jsx("input",{type:"email",placeholder:"a ch email ca bn",className:"w-full sm:w-64 px-4 py-3 rounded-l-lg mb-2 sm:mb-0 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx(F,{variant:"white",className:"sm:rounded-l-none py-3 text-blue-600 font-medium",children:"ng k"})]}),s.jsx("p",{className:"mt-4 text-sm text-blue-200",children:"Chng ti tn trng quyn ring t ca bn. Xem chnh sch bo mt ca chng ti."})]})})})]})},nB=()=>{const t=ks(),r=new URLSearchParams(t.search).get("role")==="customer",i=r?se.CUSTOMER:se.GUEST,a=r?"Nguyn Vn An":void 0,[l,o]=f.useState({name:"",email:"",phone:"",subject:"",message:"",contactPreference:"email",reason:""}),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(null),y={address:"123 i l Y t, Phng 300, Qun 1, TP. H Ch Minh",phone:"(028) 456-7890",emergencyPhone:"(800) 555-1234",email:"contact@hivtreatmentcenter.org",hours:["Th Hai - Th Su: 8:00 - 18:00","Th By: 9:00 - 14:00","Ch Nht: ng ca"],socialMedia:{facebook:"https://www.facebook.com/hivtreatmentcenter",twitter:"https://twitter.com/hivtreatmentctr",instagram:"https://www.instagram.com/hivtreatmentcenter"}},x=[{id:"general",name:"Thng Tin Chung"},{id:"appointment",name:"t Lch Hn"},{id:"testing",name:"Thc Mc V Xt Nghim HIV"},{id:"treatment",name:"Cc Phng Php iu Tr"},{id:"support",name:"Dch V H Tr"},{id:"feedback",name:"Phn Hi hoc  Xut"},{id:"other",name:"Khc"}],b=p=>{const{name:j,value:N}=p.target;o({...l,[j]:N})},v=p=>{p.preventDefault(),d(!0),g(null),setTimeout(()=>{d(!1),h(!0),o({name:"",email:"",phone:"",subject:"",message:"",contactPreference:"email",reason:""})},2e3)};return s.jsxs(be,{currentRole:i,userName:a,children:[s.jsx("div",{className:"relative bg-gradient-to-r from-green-600 to-teal-600 text-white py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:s.jsx("span",{children:"Lin H Vi Chng Ti"})}),s.jsx("p",{className:"text-xl text-green-100",children:s.jsx("span",{children:"Chng ti lun sn sng tr li cu hi v h tr bn. Hy lin h vi i ng ca chng ti qua biu mu lin h hoc thng qua bt k knh lin lc no ca chng ti."})})]})})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.jsx("span",{children:"Gi Tin Nhn Cho Chng Ti"})}),u?s.jsx(G,{className:"bg-green-50 border border-green-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("svg",{className:"h-8 w-8 text-green-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.jsx("span",{children:"Tin Nhn  c Gi Thnh Cng!"})})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:s.jsx("span",{children:"Cm n bn  lin h vi chng ti. Chng ti  nhn c tin nhn ca bn v s phn hi trong thi gian sm nht."})}),s.jsx(F,{variant:"primary",onClick:()=>h(!1),children:s.jsx("span",{children:"Gi Tin Nhn Khc"})})]})}):s.jsx(G,{children:s.jsx("form",{onSubmit:v,className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H Tn *"}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.name,onChange:b})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"a Ch Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.email,onChange:b})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in Thoi"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.phone,onChange:b})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contactPreference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng Thc Lin H a Thch"}),s.jsxs("select",{id:"contactPreference",name:"contactPreference",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.contactPreference,onChange:b,children:[s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"phone",children:"in thoi"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:"L Do Lin H *"}),s.jsxs("select",{id:"reason",name:"reason",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.reason,onChange:b,children:[s.jsx("option",{value:"",children:"Chn l do"}),x.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu  *"}),s.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.subject,onChange:b})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ni Dung *"}),s.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",value:l.message,onChange:b})]}),s.jsx("div",{className:"text-right",children:s.jsx(F,{type:"submit",variant:"primary",disabled:c,children:c?"ang gi...":"Gi Tin Nhn"})}),m&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:m})]})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.jsx("span",{children:"Thng Tin Lin H"})}),s.jsx(G,{className:"mb-6",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsx("span",{children:"a Ch"})}),s.jsx("p",{className:"text-gray-600 mt-1",children:s.jsx("span",{children:y.address})})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsx("span",{children:"in Thoi"})}),s.jsx("p",{className:"text-gray-600 mt-1",children:s.jsx("span",{children:y.phone})}),s.jsx("p",{className:"text-gray-600 mt-1",children:s.jsxs("span",{children:["ng dy nng: ",y.emergencyPhone]})})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsx("span",{children:"Email"})}),s.jsx("p",{className:"text-gray-600 mt-1",children:s.jsx("span",{children:y.email})})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.jsx("span",{children:"Gi Lm Vic"})}),s.jsx("div",{className:"text-gray-600 mt-1",children:y.hours.map((p,j)=>s.jsx("p",{children:s.jsx("span",{children:p})},j))})]})]})]})})}),s.jsx(G,{className:"mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gi Lm Vic"}),s.jsxs("div",{className:"flex",children:[s.jsx("svg",{className:"h-6 w-6 text-green-500 mr-3 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("div",{children:y.hours.map((p,j)=>s.jsx("p",{className:"text-gray-600",children:p},j))})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kt Ni Vi Chng Ti"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:y.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})}),s.jsx("a",{href:y.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),s.jsx("a",{href:y.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-800",children:s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})})})]})]})})]})]})})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"V Tr Ca Chng Ti"}),s.jsx("div",{className:"bg-gray-300 h-96 rounded-lg overflow-hidden shadow-md",children:s.jsx("div",{className:"flex items-center justify-center h-full bg-gray-200",children:s.jsx("p",{className:"text-gray-600",children:"Bn  tng tc s c hin th ti y"})})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Cu Hi Thng Gp"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ti c th t lch hn nhanh nh th no?"}),s.jsx("p",{className:"text-gray-600",children:"Chng ti c gng tip nhn bnh nhn mi trong vng 1-2 tun. Nu bn c nhu cu khn cp, vui lng gi in trc tip n vn phng ca chng ti v chng ti s c gng ht sc  sp xp cho bn sm hn."})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Xt nghim HIV c bo mt khng?"}),s.jsx("p",{className:"text-gray-600",children:"C, tt c cc xt nghim u hon ton bo mt. Chng ti tun th cc tiu chun bo mt nghim ngt v thng tin ca bn c bo v theo quy nh HIPAA."})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cc gi bo him no c chp nhn?"}),s.jsx("p",{className:"text-gray-600",children:"Chng ti chp nhn hu ht cc gi bo him chnh bao gm Medicare v Medicaid. i vi nhng ngi khng c bo him, chng ti cung cp ph theo thang i v c th gip kt ni bn vi cc chng trnh h tr."})]})})]})]})})})]})},rB=()=>{const[t,e]=f.useState(null);f.useState(null);const[n,r]=f.useState("doctors"),[i,a]=f.useState(""),[l,o]=f.useState("all"),[c,d]=f.useState(new Date),[u]=f.useState([{id:1,name:"BS. Nguyn Vn Minh",specialty:"Bc s Nhim trng",specialtyCode:"infectious",experience:"15 nm kinh nghim",education:"Tin s Y khoa - i hc Y H Ni",avatar:"https://randomuser.me/api/portraits/men/32.jpg",rating:4.8,reviewCount:124,location:"Phng khm 101, Tng 2",phone:"(024) 3123-4567",workingDays:["monday","tuesday","wednesday","thursday","friday"],shifts:[{type:"morning",startTime:"08:00",endTime:"12:00",maxPatients:8},{type:"afternoon",startTime:"13:00",endTime:"17:00",maxPatients:8}],bio:"Chuyn gia hng u v iu tr HIV/AIDS vi hn 15 nm kinh nghim.  iu tr thnh cng cho hn 2000 bnh nhn.",achievements:["Gii thng Bc s xut sc nm 2023","Chng ch iu tr HIV quc t","Thnh vin Hi Nhim trng Vit Nam"]},{id:2,name:"BS. Trn Th Hng",specialty:"Bc s Ni khoa",specialtyCode:"internal",experience:"12 nm kinh nghim",education:"Thc s Y khoa - i hc Y TP.HCM",avatar:"https://randomuser.me/api/portraits/women/45.jpg",rating:4.9,reviewCount:98,location:"Phng khm 205, Tng 2",phone:"(024) 3123-4568",workingDays:["monday","tuesday","thursday","friday","saturday"],shifts:[{type:"morning",startTime:"08:30",endTime:"12:30",maxPatients:6},{type:"afternoon",startTime:"14:00",endTime:"18:00",maxPatients:6}],bio:"Bc s ni khoa giu kinh nghim, chuyn v chm sc ton din cho bnh nhn HIV.",achievements:["Chng ch t vn HIV/AIDS","o to ti Bnh vin Johns Hopkins","Nghin cu sinh xut sc"]},{id:3,name:"BS. L Vn c",specialty:"Bc s Tm l",specialtyCode:"psychology",experience:"8 nm kinh nghim",education:"Thc s Tm l hc - i hc Quc gia H Ni",avatar:"https://randomuser.me/api/portraits/men/28.jpg",rating:4.7,reviewCount:76,location:"Phng t vn 301, Tng 3",phone:"(024) 3123-4569",workingDays:["tuesday","wednesday","thursday","friday","saturday"],shifts:[{type:"morning",startTime:"09:00",endTime:"12:00",maxPatients:4},{type:"afternoon",startTime:"13:30",endTime:"17:30",maxPatients:4}],bio:"Chuyn gia tm l vi kinh nghim h tr tm l cho bnh nhn HIV v gia nh.",achievements:["Chng ch t vn tm l HIV","Thnh vin Hi Tm l hc Vit Nam","Chuyn gia t vn gia nh"]}]),h=[{code:"all",name:"Tt c chuyn khoa"},{code:"infectious",name:"Bc s Nhim trng"},{code:"internal",name:"Bc s Ni khoa"},{code:"psychology",name:"Bc s Tm l"}],m=u.filter(p=>{const j=p.name.toLowerCase().includes(i.toLowerCase())||p.specialty.toLowerCase().includes(i.toLowerCase()),N=l==="all"||p.specialtyCode===l;return j&&N}),g=(p,j)=>{const N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date(j).getDay()];if(!p.workingDays.includes(N))return[];const w=[];return p.shifts.forEach(E=>{const M=new Date(`${j}T${E.startTime}`),k=new Date(`${j}T${E.endTime}`),T=30;let S=new Date(M);for(;S<k;){const P=new Date(S.getTime()+T*6e4);if(P<=k){const C=Math.random()>.3;w.push({id:`${E.type}-${S.getHours()}-${S.getMinutes()}`,startTime:S.toTimeString().slice(0,5),endTime:P.toTimeString().slice(0,5),shift:E.type,isAvailable:C,shiftName:E.type==="morning"?"Bui sng":"Bui chiu"})}S=new Date(S.getTime()+T*6e4)}}),w},y=p=>{e(p),r("calendar")},x=(p,j)=>{const N={doctorId:t.id,doctorName:t.name,date:p,timeSlot:j,returnUrl:"/customer/appointment-selection"};sessionStorage.setItem("pendingAppointment",JSON.stringify(N)),window.location.href=`/login?redirect=${encodeURIComponent("/customer/appointment-selection")}`},v=(p=>{const j=[],N=new Date(p);N.setDate(N.getDate()-N.getDay()+1);for(let w=0;w<7;w++){const E=new Date(N);E.setDate(N.getDate()+w),j.push(E)}return j})(c);return s.jsx(be,{currentRole:se.GUEST,pageTitle:"Lch khm - t lch hn",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"t lch khm vi bc s chuyn khoa"}),s.jsx("p",{className:"text-primary-100",children:"Xem lch lm vic ca cc bc s v t lch hn mt cch d dng"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(F,{variant:n==="doctors"?"primary":"outline",onClick:()=>r("doctors"),children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),"Danh sch bc s"]}),t&&s.jsxs(F,{variant:n==="calendar"?"primary":"outline",onClick:()=>r("calendar"),children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),"Lch khm - ",t.name]})]}),n==="doctors"?s.jsxs(s.Fragment,{children:[s.jsx(G,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Un,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Tm kim bc s theo tn hoc chuyn khoa...",value:i,onChange:p=>a(p.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("select",{value:l,onChange:p=>o(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:h.map(p=>s.jsx("option",{value:p.code,children:p.name},p.code))})]})})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:m.map(p=>s.jsx(G,{className:"hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:p.avatar,alt:p.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.name}),s.jsx("p",{className:"text-primary-600 font-medium",children:p.specialty}),s.jsx("p",{className:"text-sm text-gray-600",children:p.experience}),s.jsx("div",{className:"flex items-center mt-2",children:s.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((j,N)=>s.jsx("svg",{className:`h-4 w-4 ${N<Math.floor(p.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},N)),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.rating," (",p.reviewCount," nh gi)"]})]})})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ll,{className:"h-4 w-4 mr-2"}),p.location]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),p.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(so,{className:"h-4 w-4 mr-2"}),p.education]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:p.bio})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Ngy lm vic:"}),s.jsx("div",{className:"flex space-x-1 mt-1",children:["T2","T3","T4","T5","T6","T7","CN"].map((j,N)=>{const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],E=p.workingDays.includes(w[N]);return s.jsx("span",{className:`px-2 py-1 text-xs rounded ${E?"bg-green-100 text-green-700":"bg-gray-100 text-gray-400"}`,children:j},j)})})]}),s.jsx(F,{variant:"primary",onClick:()=>y(p),children:"Xem lch khm"})]})]})},p.id))}),m.length===0&&s.jsx(G,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Be,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy bc s no ph hp"})]})})]}):s.jsx(s.Fragment,{children:s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:t.avatar,alt:t.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),s.jsx("p",{className:"text-primary-600",children:t.specialty})]})]}),s.jsx(F,{variant:"outline",onClick:()=>r("doctors"),children:"Chn bc s khc"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>{const p=new Date(c);p.setDate(p.getDate()-7),d(p)},children:s.jsx(Mm,{className:"h-4 w-4"})}),s.jsx("h4",{className:"text-lg font-medium",children:v[0].toLocaleDateString("vi-VN",{month:"long",year:"numeric"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>{const p=new Date(c);p.setDate(p.getDate()+7),d(p)},children:s.jsx(_m,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-4",children:v.map((p,j)=>{const N=["CN","T2","T3","T4","T5","T6","T7"],w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][p.getDay()],E=t.workingDays.includes(w),M=p.toDateString()===new Date().toDateString(),k=p<new Date().setHours(0,0,0,0),T=E?g(t,p.toISOString().split("T")[0]):[];return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:`text-center mb-3 ${M?"text-primary-600 font-bold":"text-gray-700"}`,children:[s.jsx("div",{className:"text-sm font-medium",children:N[p.getDay()]}),s.jsx("div",{className:"text-lg",children:p.getDate()})]}),k?s.jsx("div",{className:"text-center text-gray-400 text-sm",children:" qua"}):E?s.jsx("div",{className:"space-y-1",children:T.map(S=>s.jsxs("button",{className:`w-full text-xs p-1 rounded transition-colors ${S.isAvailable?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 cursor-not-allowed"}`,disabled:!S.isAvailable,onClick:()=>S.isAvailable&&x(p.toISOString().split("T")[0],S),children:[S.startTime,S.isAvailable?"":" ( t)"]},S.id))}):s.jsx("div",{className:"text-center text-gray-400 text-sm",children:"Khng lm vic"})]},j)})}),s.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-100 rounded mr-2"}),s.jsx("span",{children:"C th t"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-100 rounded mr-2"}),s.jsx("span",{children:" t"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-100 rounded mr-2"}),s.jsx("span",{children:"Khng lm vic"})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-blue-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Lu :"})," Bn cn ng nhp  c th t lch hn.",s.jsx(ue,{to:"/login",className:"ml-1 underline hover:text-blue-800",children:"ng nhp ngay"})]})})]})})]})})})]})})};function iB({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const aB=f.forwardRef(iB),lB=aB,oB=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("name"),[l,o]=f.useState(null),c=[{id:1,name:"BS. Nguyn Vn Minh",specialty:"Bc s Nhim trng",specialtyCode:"infectious",experience:15,experienceText:"15 nm kinh nghim",education:"Tin s Y khoa - i hc Y H Ni",avatar:"https://randomuser.me/api/portraits/men/32.jpg",rating:4.8,reviewCount:124,location:"Phng khm 101, Tng 2",phone:"(024) 3123-4567",email:"bs.minh@hivcare.vn",languages:["Ting Vit","English"],workingDays:["Th 2","Th 3","Th 4","Th 5","Th 6"],workingHours:"8:00 - 17:00",shifts:[{type:"Bui sng",time:"08:00 - 12:00"},{type:"Bui chiu",time:"13:00 - 17:00"}],bio:"Chuyn gia hng u v iu tr HIV/AIDS vi hn 15 nm kinh nghim.  iu tr thnh cng cho hn 2000 bnh nhn. Tt nghip xut sc t i hc Y H Ni v c nhiu nm o to ti cc bnh vin hng u th gii.",achievements:["Gii thng Bc s xut sc nm 2023","Chng ch iu tr HIV quc t (WHO)","Thnh vin Hi Nhim trng Vit Nam","Nghin cu sinh ti Johns Hopkins University"],specializations:["iu tr HIV/AIDS","Bnh nhim trng c hi","T vn phng nga HIV","iu tr khng thuc ARV"],publications:["Nghin cu hiu qu iu tr HIV ti Vit Nam (2023)","Phc  iu tr mi cho bnh nhn HIV (2022)","Tnh hnh khng thuc ARV ti Vit Nam (2021)"]},{id:2,name:"BS. Trn Th Hng",specialty:"Bc s Ni khoa",specialtyCode:"internal",experience:12,experienceText:"12 nm kinh nghim",education:"Thc s Y khoa - i hc Y TP.HCM",avatar:"https://randomuser.me/api/portraits/women/45.jpg",rating:4.9,reviewCount:98,location:"Phng khm 205, Tng 2",phone:"(024) 3123-4568",email:"bs.huong@hivcare.vn",languages:["Ting Vit","English","Franais"],workingDays:["Th 2","Th 3","Th 5","Th 6","Th 7"],workingHours:"8:30 - 18:00",shifts:[{type:"Bui sng",time:"08:30 - 12:30"},{type:"Bui chiu",time:"14:00 - 18:00"}],bio:"Bc s ni khoa giu kinh nghim, chuyn v chm sc ton din cho bnh nhn HIV. C kinh nghim lm vic ti nhiu bnh vin ln v tham gia cc chng trnh o to quc t v HIV/AIDS.",achievements:["Chng ch t vn HIV/AIDS (CDC)","o to ti Bnh vin Johns Hopkins","Nghin cu sinh xut sc","Gii thng Bc s tr tiu biu 2022"],specializations:["Chm sc ton din HIV","Qun l tc dng ph thuc ARV","iu tr bnh ng mc","T vn dinh dng cho bnh nhn HIV"],publications:["Chm sc ton din bnh nhn HIV (2023)","Qun l tc dng ph thuc ARV (2022)"]},{id:3,name:"BS. L Vn c",specialty:"Bc s Tm l",specialtyCode:"psychology",experience:8,experienceText:"8 nm kinh nghim",education:"Thc s Tm l hc - i hc Quc gia H Ni",avatar:"https://randomuser.me/api/portraits/men/28.jpg",rating:4.7,reviewCount:76,location:"Phng t vn 301, Tng 3",phone:"(024) 3123-4569",email:"bs.duc@hivcare.vn",languages:["Ting Vit","English"],workingDays:["Th 3","Th 4","Th 5","Th 6","Th 7"],workingHours:"9:00 - 17:30",shifts:[{type:"Bui sng",time:"09:00 - 12:00"},{type:"Bui chiu",time:"13:30 - 17:30"}],bio:"Chuyn gia tm l vi kinh nghim h tr tm l cho bnh nhn HIV v gia nh.  tham gia nhiu chng trnh o to v t vn tm l cho bnh nhn HIV ti trong v ngoi nc.",achievements:["Chng ch t vn tm l HIV (APA)","Thnh vin Hi Tm l hc Vit Nam","Chuyn gia t vn gia nh","Ging vin thnh ging ti i hc Y H Ni"],specializations:["T vn tm l cho bnh nhn HIV","H tr gia nh bnh nhn","iu tr trm cm, lo u","T vn tin v sau test HIV"],publications:["Tm l hc trong iu tr HIV (2023)","H tr tm l cho gia nh bnh nhn HIV (2022)"]},{id:4,name:"BS. Phm Th Mai",specialty:"Bc s Sn ph khoa",specialtyCode:"gynecology",experience:10,experienceText:"10 nm kinh nghim",education:"Tin s Y khoa - i hc Y Dc TP.HCM",avatar:"https://randomuser.me/api/portraits/women/35.jpg",rating:4.8,reviewCount:89,location:"Phng khm 102, Tng 1",phone:"(024) 3123-4570",email:"bs.mai@hivcare.vn",languages:["Ting Vit","English"],workingDays:["Th 2","Th 4","Th 5","Th 6"],workingHours:"8:00 - 16:30",shifts:[{type:"Bui sng",time:"08:00 - 12:00"},{type:"Bui chiu",time:"13:00 - 16:30"}],bio:"Chuyn gia sn ph khoa vi kinh nghim chm sc ph n mang thai nhim HIV.  tham gia nhiu chng trnh phng chng ly truyn HIV t m sang con.",achievements:["Chng ch chm sc thai k HIV+","Chuyn gia phng chng MTCT","Thnh vin Hi Sn ph khoa Vit Nam","Gii thng nghin cu khoa hc 2023"],specializations:["Chm sc thai k HIV+","Phng chng ly truyn m-con","T vn k hoch ha gia nh","iu tr bnh ph khoa"],publications:["Phng chng ly truyn HIV t m sang con (2023)","Chm sc thai k an ton cho ph n HIV+ (2022)"]}],d=[{code:"all",name:"Tt c chuyn khoa"},{code:"infectious",name:"Bc s Nhim trng"},{code:"internal",name:"Bc s Ni khoa"},{code:"psychology",name:"Bc s Tm l"},{code:"gynecology",name:"Bc s Sn ph khoa"}],u=c.filter(g=>{const y=g.name.toLowerCase().includes(t.toLowerCase())||g.specialty.toLowerCase().includes(t.toLowerCase())||g.specializations.some(b=>b.toLowerCase().includes(t.toLowerCase())),x=n==="all"||g.specialtyCode===n;return y&&x}).sort((g,y)=>{switch(i){case"rating":return y.rating-g.rating;case"experience":return y.experience-g.experience;case"name":default:return g.name.localeCompare(y.name)}}),h=g=>s.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((y,x)=>x<Math.floor(g)?s.jsx(lB,{className:"h-4 w-4 text-yellow-400"},x):s.jsx(Q8,{className:"h-4 w-4 text-gray-300"},x)),s.jsx("span",{className:"ml-1 text-sm text-gray-600",children:g})]}),m=({doctor:g,isOpen:y,onClose:x})=>!y||!g?null:s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:x}),s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:g.avatar,alt:g.name,className:"w-20 h-20 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g.name}),s.jsx("p",{className:"text-lg text-primary-600 font-medium",children:g.specialty}),s.jsx("p",{className:"text-gray-600",children:g.experienceText}),s.jsx("div",{className:"mt-2",children:h(g.rating)})]})]}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Thng tin lin h"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Ll,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsx("span",{children:g.location})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Hn,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsx("span",{children:g.phone})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Lm,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsx("span",{children:g.email})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(a8,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsx("span",{children:g.languages.join(", ")})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Lch lm vic"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(ve,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Ngy lm vic"}),s.jsx("div",{className:"text-gray-600",children:g.workingDays.join(", ")})]})]}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Ce,{className:"h-4 w-4 mr-3 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Gi lm vic"}),s.jsx("div",{className:"text-gray-600",children:g.workingHours})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"font-medium text-sm mb-2",children:"Ca lm vic:"}),g.shifts.map((b,v)=>s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsxs("span",{children:[b.type,":"]}),s.jsx("span",{children:b.time})]},v))]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ue,{to:"/schedule",className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-center block",children:"Xem lch khm"}),s.jsx(ue,{to:"/login",className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-center block",children:"t lch hn"})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Gii thiu"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.bio})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Hc vn"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(so,{className:"h-5 w-5 mr-3 text-gray-400"}),s.jsx("span",{className:"text-gray-700",children:g.education})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Chuyn mn"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:g.specializations.map((b,v)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ib,{className:"h-4 w-4 mr-2 text-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:b})]},v))})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thnh tch & Chng ch"}),s.jsx("div",{className:"space-y-2",children:g.achievements.map((b,v)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ib,{className:"h-4 w-4 mr-2 text-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:b})]},v))})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Cng trnh nghin cu"}),s.jsx("div",{className:"space-y-2",children:g.publications.map((b,v)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:b})]},v))})]})})]})]})]})})]})});return s.jsx(be,{currentRole:se.GUEST,pageTitle:"i ng bc s",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"i ng bc s chuyn khoa"}),s.jsx("p",{className:"text-primary-100",children:"Gp g cc chuyn gia hng u trong lnh vc iu tr HIV/AIDS"})]}),s.jsx(G,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Un,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Tm kim bc s theo tn, chuyn khoa hoc chuyn mn...",value:t,onChange:g=>e(g.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("select",{value:n,onChange:g=>r(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:d.map(g=>s.jsx("option",{value:g.code,children:g.name},g.code))}),s.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"name",children:"Sp xp theo tn"}),s.jsx("option",{value:"rating",children:"Sp xp theo nh gi"}),s.jsx("option",{value:"experience",children:"Sp xp theo kinh nghim"})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(g=>s.jsx(G,{className:"hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[s.jsx("img",{src:g.avatar,alt:g.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.name}),s.jsx("p",{className:"text-primary-600 font-medium",children:g.specialty}),s.jsx("p",{className:"text-sm text-gray-600",children:g.experienceText}),s.jsx("div",{className:"mt-1",children:h(g.rating)})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ll,{className:"h-4 w-4 mr-2"}),g.location]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),g.workingHours]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),g.workingDays.slice(0,3).join(", "),g.workingDays.length>3&&"..."]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:g.bio})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Chuyn mn chnh:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.specializations.slice(0,2).map((y,x)=>s.jsx("span",{className:"px-2 py-1 text-xs bg-primary-100 text-primary-700 rounded-full",children:y},x)),g.specializations.length>2&&s.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",g.specializations.length-2," khc"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>o(g),className:"flex-1",children:"Xem chi tit"}),s.jsx(ue,{to:"/schedule",className:"flex-1",children:s.jsx(F,{variant:"primary",size:"sm",className:"w-full",children:"Xem lch khm"})})]})]})},g.id))}),u.length===0&&s.jsx(G,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Be,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy bc s no ph hp vi tiu ch tm kim"})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sn sng t lch hn?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"ng nhp  t lch hn vi bc s chuyn khoa ca chng ti"}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(ue,{to:"/login",children:s.jsx(F,{variant:"primary",children:"ng nhp"})}),s.jsx(ue,{to:"/register",children:s.jsx(F,{variant:"outline",children:"ng k ti khon"})})]})]})}),s.jsx(m,{doctor:l,isOpen:!!l,onClose:()=>o(null)})]})})},jn="http://localhost:8080/api";class cB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}async getAvailableSlots(e,n,r){try{return(await Q.get(`${jn}/appointments/available-slots`,{params:{doctorId:e,date:n,serviceId:r}})).data}catch(i){throw console.error("Error fetching available slots:",i),this.handleApiError(i)}}async bookAppointment(e){try{if(!Ee.isAuthenticated())throw new Error("Bn cn ng nhp  t lch hn");return(await Q.post(`${jn}/appointments/book`,{doctorId:e.doctorId,serviceId:e.serviceId,scheduledAt:e.scheduledAt,scheduleId:e.scheduleId,symptoms:e.symptoms||"",medicalHistory:e.medicalHistory||"",notes:e.notes||"",isOnline:e.isOnline||!1,isAnonymous:e.isAnonymous||!1,autoConfirm:e.autoConfirm||!1})).data}catch(n){throw console.error("Error booking appointment:",n),this.handleApiError(n)}}async getAvailableDates(e,n,r){try{return(await Q.get(`${jn}/schedules/available-dates`,{params:{doctorId:e,startDate:n,endDate:r}})).data}catch(i){throw console.error("Error fetching available dates:",i),this.handleApiError(i)}}async checkAvailability(e,n,r,i){try{return(await Q.get(`${jn}/schedules/check-availability`,{params:{doctorId:e,date:n,time:r,serviceId:i}})).data}catch(a){throw console.error("Error checking availability:",a),this.handleApiError(a)}}async getUserAppointments(e=null){try{const n={};return e&&(n.status=e),(await Q.get(`${jn}/appointments/my-appointments`,{params:n})).data}catch(n){throw console.error("Error fetching user appointments:",n),this.handleApiError(n)}}async getUpcomingAppointments(){try{return(await Q.get(`${jn}/appointments/upcoming`)).data}catch(e){throw console.error("Error fetching upcoming appointments:",e),this.handleApiError(e)}}async getPastAppointments(){try{return(await Q.get(`${jn}/appointments/past`)).data}catch(e){throw console.error("Error fetching past appointments:",e),this.handleApiError(e)}}async cancelAppointment(e,n=""){try{return(await Q.post(`${jn}/appointments/${e}/cancel`,{reason:n})).data}catch(r){throw console.error("Error cancelling appointment:",r),this.handleApiError(r)}}async getDoctors(){try{return(await Q.get(`${jn}/doctors`)).data}catch(e){throw console.error("Error fetching doctors:",e),this.handleApiError(e)}}async getServices(){try{return(await Q.get(`${jn}/services`)).data}catch(e){throw console.error("Error fetching services:",e),this.handleApiError(e)}}handleApiError(e){if(e.response){const{status:n,data:r}=e.response;switch(n){case 400:return new Error(r.message||"D liu khng hp l");case 401:return new Error("Phin ng nhp  ht hn. Vui lng ng nhp li");case 403:return new Error("Bn khng c quyn thc hin thao tc ny");case 404:return new Error("Khng tm thy d liu yu cu");case 409:return new Error(r.message||"Slot thi gian  c t");case 500:return new Error("Li server. Vui lng th li sau");default:return new Error(r.message||"C li xy ra. Vui lng th li")}}else return e.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng"):new Error(e.message||"C li khng xc nh xy ra")}formatDateForAPI(e){return typeof e=="string"&&(e=new Date(e)),e.toISOString().split("T")[0]}formatDateTimeForAPI(e,n){const r=this.formatDateForAPI(e);let i=n.trim();const a=i.split(":");if(a.length>=2){const l=a[0].padStart(2,"0"),o=a[1].padStart(2,"0"),c=a.length>=3?a[2].padStart(2,"0"):"00";return`${r}T${l}:${o}:${c}`}return`${r}T${i}:00`}async checkInAppointment(e){try{const n=await Q.put(`${jn}/appointments/${e}/checkin`);if(n.data.success)try{const r=JSON.parse(localStorage.getItem("checkedInAppointments")||"[]");r.includes(e)||(r.push(e),localStorage.setItem("checkedInAppointments",JSON.stringify(r)))}catch(r){console.error("Error saving check-in state to localStorage",r)}return n.data}catch(n){console.error("Error checking in:",n),console.log(`[FALLBACK MODE] Check-in for appointment ${e}`);try{const r=JSON.parse(localStorage.getItem("checkedInAppointments")||"[]");r.includes(e)||(r.push(e),localStorage.setItem("checkedInAppointments",JSON.stringify(r)))}catch(r){console.error("Error saving check-in to localStorage",r)}throw this.handleApiError(n)}}}const as=new cB,Xn="http://localhost:8080/api/medical-records";class dB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?e.response.data:{success:!1,message:e.message||" xy ra li khi kt ni vi server"}}async getLabResults(){try{return(await Q.get(`${Xn}/lab-results`)).data}catch(e){throw console.error("Error fetching lab results:",e),this.handleApiError(e)}}async getHivTests(){try{return(await Q.get(`${Xn}/lab-results/hiv-tests`)).data}catch(e){throw console.error("Error fetching HIV tests:",e),this.handleApiError(e)}}async getLatestCD4(){try{return(await Q.get(`${Xn}/lab-results/latest-cd4`)).data}catch(e){throw console.error("Error fetching latest CD4:",e),this.handleApiError(e)}}async getLatestViralLoad(){try{return(await Q.get(`${Xn}/lab-results/latest-viral-load`)).data}catch(e){throw console.error("Error fetching latest viral load:",e),this.handleApiError(e)}}async getLabResultsByType(e){try{return(await Q.get(`${Xn}/lab-results/type/${e}`)).data}catch(n){throw console.error(`Error fetching lab results for type ${e}:`,n),this.handleApiError(n)}}async getLabResultById(e){try{return(await Q.get(`${Xn}/lab-results/${e}`)).data}catch(n){throw console.error(`Error fetching lab result ${e}:`,n),this.handleApiError(n)}}async getTreatmentPlans(){try{return(await Q.get(`${Xn}/treatment-plans`)).data}catch(e){throw console.error("Error fetching treatment plans:",e),this.handleApiError(e)}}async getActiveTreatmentPlans(){try{return(await Q.get(`${Xn}/treatment-plans/active`)).data}catch(e){throw console.error("Error fetching active treatment plans:",e),this.handleApiError(e)}}async getLabResultsInDateRange(e,n){try{return(await Q.get(`${Xn}/lab-results/date-range`,{params:{startDate:e,endDate:n}})).data}catch(r){throw console.error("Error fetching lab results in date range:",r),this.handleApiError(r)}}async countLabResultsByType(e){try{return(await Q.get(`${Xn}/lab-results/count/${e}`)).data}catch(n){throw console.error(`Error counting lab results for type ${e}:`,n),this.handleApiError(n)}}formatDateForApi(e){return e instanceof Date?e.toISOString().split("T")[0]:e}parseDateFromApi(e){return new Date(e)}getTestResultStatusColor(e){switch(e==null?void 0:e.toLowerCase()){case"normal":case"excellent":return"text-green-600 bg-green-100";case"low":case"high":case"attention":return"text-yellow-600 bg-yellow-100";case"critical":case"abnormal":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}}getTestResultStatusText(e){switch(e==null?void 0:e.toLowerCase()){case"normal":return"Bnh thng";case"excellent":return"Xut sc";case"good":return"Tt";case"low":return"Thp";case"high":return"Cao";case"critical":return"Nguy him";case"abnormal":return"Bt thng";case"pending":return"Ch kt qu";case"approved":return" duyt";case"rejected":return"T chi";default:return e||"Khng xc nh"}}getTreatmentPlanStatusText(e){switch(e==null?void 0:e.toLowerCase()){case"active":return"ang iu tr";case"completed":return"Hon thnh";case"discontinued":return"Ngng iu tr";case"paused":return"Tm dng";default:return e||"Khng xc nh"}}getTreatmentPlanStatusColor(e){switch(e==null?void 0:e.toLowerCase()){case"active":return"text-green-600 bg-green-100";case"completed":return"text-blue-600 bg-blue-100";case"discontinued":return"text-red-600 bg-red-100";case"paused":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}}}const oc=new dB,Xr="http://localhost:8080/api/medications",Dy={async getPatientMedications(){var t;try{return(await Q.get(`${Xr}/patient/medications`)).data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},async getPatientReminders(){var t;try{return(await Q.get(`${Xr}/patient/reminders`)).data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},async getUserMedications(t){var e;try{return(await Q.get(`${Xr}/user/${t}`)).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async getActiveUserMedications(t){var e;try{return(await Q.get(`${Xr}/user/${t}/active`)).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async getMedicationsByTreatmentPlan(t){var e;try{return(await Q.get(`${Xr}/treatment-plan/${t}`)).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async getMedicationById(t){var e;try{return(await Q.get(`${Xr}/${t}`)).data}catch(n){throw((e=n.response)==null?void 0:e.data)||n.message}},async getAllMedications(){var t;try{return(await Q.get(`${Xr}/reference`)).data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},async testAuth(){var t;try{return(await Q.get(`${Xr}/test-auth`)).data}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}}};const uB=()=>s.jsx("div",{className:"action-banner-container",children:s.jsxs("div",{className:"action-banner",children:[s.jsxs(ue,{to:"/customer/appointment-selection",className:"action-item",children:[s.jsx("div",{className:"action-icon",children:s.jsx(ve,{className:"icon"})}),s.jsxs("div",{className:"action-content",children:[s.jsx("h4",{className:"action-title",children:"t lch hn"}),s.jsx("p",{className:"action-description",children:"t lch hn nhanh chng, tin li"})]})]}),s.jsxs(ue,{to:"/customer/test-results",className:"action-item",children:[s.jsx("div",{className:"action-icon",children:s.jsx(Ie,{className:"icon"})}),s.jsxs("div",{className:"action-content",children:[s.jsx("h4",{className:"action-title",children:"Tra cu xt nghim"}),s.jsx("p",{className:"action-description",children:"Tra cu thng tin xt nghim nhanh chng"})]})]}),s.jsxs(ue,{to:"/customer/medications",className:"action-item",children:[s.jsx("div",{className:"action-icon",children:s.jsx(Ce,{className:"icon"})}),s.jsxs("div",{className:"action-content",children:[s.jsx("h4",{className:"action-title",children:"Thuc iu tr"}),s.jsx("p",{className:"action-description",children:"Tm hiu thng tin chi tit v n thuc"})]})]})]})}),hB=()=>{const t=hs();f.useRef(null);const e=f.useRef(null),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState({cd4Count:"650",viralLoad:"Khng pht hin",lastTestDate:"Cha c d liu"}),[y,x]=f.useState(!1),[b,v]=f.useState(0),p=[{id:1,image:"/images/healthcare-banner-1.jpg",title:"Chm sc bng ti nng, y c v s thu cm",description:"i ng y bc s lun sn sng h tr qu trnh iu tr ca bn"},{id:2,image:"/images/healthcare-banner-2.jpg",title:"Kim sot sc khe, kim sot cuc sng",description:"Theo di cc ch s sc khe quan trng trong qu trnh iu tr"},{id:3,image:"/images/healthcare-banner-3.jpg",title:"ng hnh cng bn trn hnh trnh iu tr",description:"H tr ton din t t vn n theo di qu trnh iu tr"}];f.useEffect(()=>(e.current=setInterval(()=>{v(L=>(L+1)%p.length)},5e3),()=>{e.current&&clearInterval(e.current)}),[]);const j=L=>{v(L),e.current&&clearInterval(e.current),e.current=setInterval(()=>{v(O=>(O+1)%p.length)},5e3)},N=()=>{try{return(JSON.parse(localStorage.getItem("user"))||{}).name}catch(L){return console.error("Error getting user name:",L),"bnh nhn"}};f.useEffect(()=>{w()},[]);const w=async()=>{try{d(!0),h(null);const L=await as.getUpcomingAppointments();if(L.success){const R=(L.data||[]).map(Y=>({id:Y.id,doctorName:Y.doctorName||"Bc s",date:new Date(Y.scheduledAt),type:Y.serviceName||"Khm bnh",location:Y.location||"Phng khm",status:Y.status||"SCHEDULED",checkedIn:Y.status==="CHECKED_IN"||!1,isCompleted:Y.status==="COMPLETED"||Y.status==="FINISHED"||Y.status==="DONE"||!1,isConfirmed:Y.status==="CONFIRMED"||Y.status==="CHECKED_IN"||!1}));try{const Y=JSON.parse(localStorage.getItem("checkedInAppointments")||"[]");Y.length>0&&R.forEach(_=>{Y.includes(_.id)&&(_.checkedIn=!0,_.status="CHECKED_IN")})}catch(Y){console.error("Error syncing check-in states from localStorage",Y)}const B=new Date;B.setHours(0,0,0,0);const X=R.filter(Y=>{if(Y.isCompleted)return!1;const _=new Date(Y.date);return _.setHours(0,0,0,0),!(_<B)}),Z=X.filter(Y=>Y.isConfirmed).sort((Y,_)=>Y.date-_.date),$=Z.length>0?[Z[0]]:X.sort((Y,_)=>Y.date-_.date);r($)}const O=await oc.getLabResults();if(O.success){const R=(O.data||[]).sort((B,X)=>new Date(X.testDate)-new Date(B.testDate)).slice(0,3).map(B=>({id:B.id,name:k(B.testType),date:new Date(B.testDate),status:T(B.interpretation),value:`${B.result} ${B.unit||""}`.trim()}));a(R),M(O.data)}const D=await oc.getActiveTreatmentPlans();if(D.success){const B=(D.data||[]).flatMap(X=>{var Z;return((Z=X.medications)==null?void 0:Z.map($=>({id:$.id,name:$.medicationName,dosage:$.dosage,frequency:$.frequency,nextRefill:$.nextRefillDate?new Date($.nextRefillDate):null})))||[]});o(B)}}catch(L){console.error("Error loading dashboard data:",L),h(L.message||"Khng th ti d liu dashboard")}finally{d(!1)}},E=async L=>{try{const O=await as.checkInAppointment(L);if(O.success){r(D=>D.map(R=>R.id===L?{...R,checkedIn:!0,status:"CHECKED_IN"}:R));try{const D=JSON.parse(localStorage.getItem("checkedInAppointments")||"[]");D.includes(L)||(D.push(L),localStorage.setItem("checkedInAppointments",JSON.stringify(D)))}catch(D){console.error("Error saving check-in state to localStorage",D)}}else console.error("Check-in failed:",O.message)}catch(O){console.error("Error during check-in:",O),alert(`Khng th check-in: ${O.message||" xy ra li"}`)}},M=L=>{if(!L||L.length===0)return;const O=L.filter(B=>B.testType==="CD4").sort((B,X)=>new Date(X.testDate)-new Date(B.testDate))[0],D=L.filter(B=>B.testType==="VIRAL_LOAD").sort((B,X)=>new Date(X.testDate)-new Date(B.testDate))[0],R={...m};O&&(R.cd4Count=`${O.result} ${O.unit||""}`.trim(),R.lastTestDate=S(new Date(O.testDate))),D&&(R.viralLoad=D.result==="0"||parseFloat(D.result)<20?"Khng pht hin":`${D.result} ${D.unit||""}`.trim(),O||(R.lastTestDate=S(new Date(D.testDate)))),g(R)},k=L=>({CD4:"S lng CD4",VIRAL_LOAD:"Ti lng virus",HIV_TEST:"Xt nghim HIV",BLOOD_COUNT:"Cng thc mu",LIVER_FUNCTION:"Chc nng gan",KIDNEY_FUNCTION:"Chc nng thn",OTHER:"Xt nghim khc"})[L]||L,T=L=>L&&{EXCELLENT:"normal",NORMAL:"normal",GOOD:"normal",LOW:"attention",HIGH:"attention",CRITICAL:"critical",ABNORMAL:"critical"}[L]||"normal",S=L=>L.toLocaleDateString("vi-VN",{weekday:"long",month:"short",day:"numeric",year:"numeric"}),P=L=>L.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),C=L=>{const O=new Date;return L.getDate()===O.getDate()&&L.getMonth()===O.getMonth()&&L.getFullYear()===O.getFullYear()},A=L=>L.isCompleted?s.jsx("span",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:"Hon thnh"}):L.checkedIn||L.status==="CHECKED_IN"?s.jsx("span",{className:"absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:" check-in"}):L.isConfirmed&&!L.checkedIn&&L.status!=="CHECKED_IN"?s.jsx("span",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:" xc nhn"}):null,I=L=>L.isCompleted?s.jsx("div",{className:"mt-4",children:s.jsx(F,{variant:"outline",size:"md",className:"w-full justify-center border-green-200 hover:bg-green-50 transition-all duration-300 py-3 rounded-xl",onClick:()=>t("/customer/appointment-selection"),children:"t lch hn mi"})}):L.checkedIn?s.jsx("div",{className:"mt-4",children:s.jsx(F,{variant:"outline",size:"md",className:"w-full justify-center border-blue-200 hover:bg-blue-50 transition-all duration-300 py-3 rounded-xl",onClick:()=>t("/customer/appointment-selection"),children:"t lch hn khc"})}):L.isConfirmed&&!L.checkedIn?s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx(F,{variant:"primary",size:"md",className:"flex-1 justify-center bg-gradient-to-r from-blue-600 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 transition-all duration-300 transform hover:scale-[1.02] py-3 rounded-xl shadow-md",onClick:()=>E(L.id),children:"Check-in"}),s.jsx(F,{variant:"danger",size:"md",className:"flex-1 justify-center bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 transition-all duration-300 py-3 rounded-xl shadow-md",onClick:()=>t(`/customer/appointments/cancel/${L.id}`),children:"Hy lch hn"})]}):C(L.date)?s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx(F,{variant:"primary",size:"md",className:"flex-1 justify-center bg-gradient-to-r from-blue-600 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 transition-all duration-300 transform hover:scale-[1.02] py-3 rounded-xl shadow-md",onClick:()=>E(L.id),children:"Check-in"}),s.jsx(F,{variant:"outline",size:"md",className:"flex-1 justify-center border-indigo-200 hover:bg-indigo-50 transition-all duration-300 py-3 rounded-xl",onClick:()=>t("/customer/appointment-selection"),children:"t lch khc"})]}):s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx(F,{variant:"primary",size:"md",className:"flex-1 justify-center bg-gradient-to-r from-blue-600 to-indigo-500 hover:from-blue-700 hover:to-indigo-600 transition-all duration-300 transform hover:scale-[1.02] py-3 rounded-xl shadow-md",onClick:()=>E(L.id),children:"Check-in"}),s.jsx(F,{variant:"danger",size:"md",className:"flex-1 justify-center bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 transition-all duration-300 py-3 rounded-xl shadow-md",onClick:()=>t(`/customer/appointments/cancel/${L.id}`),children:"Hy lch hn"})]}),V=()=>s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-12 bg-gray-200 rounded-md relative overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-shimmer"})}),s.jsx("div",{className:"h-12 bg-gray-200 rounded-md relative overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-shimmer"})})]});return s.jsxs(be,{currentRole:se.CUSTOMER,userName:N(),children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"relative w-full h-[350px] md:h-[450px] lg:h-[500px] overflow-hidden",children:[p.map((L,O)=>s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${O===b?"opacity-100 z-10":"opacity-0 z-0"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${L.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/80 to-transparent flex items-center",children:s.jsx("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-lg",children:[s.jsx("h2",{className:"text-3xl font-bold text-white sm:text-4xl",children:L.title}),s.jsx("p",{className:"mt-3 text-lg text-gray-100",children:L.description})]})})})]},L.id)),s.jsx("div",{className:"absolute bottom-5 left-0 right-0 z-20 flex justify-center space-x-2",children:p.map((L,O)=>s.jsx("button",{className:`h-2 w-12 rounded-full transition-all ${O===b?"bg-white":"bg-white/50"}`,onClick:()=>j(O),"aria-label":`Go to slide ${O+1}`},O))})]}),s.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-12 py-8",children:[s.jsx(uB,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsx("div",{className:"lg:col-span-8 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-blue-800 px-6 py-4",children:s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Ti sao nn chn dch v ca chng ti"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("div",{className:"md:w-1/3 flex justify-center",children:s.jsx("img",{src:"/images/healthcare-banner-4.jpg",alt:"i ng y t chuyn nghip",className:"rounded-lg object-cover h-[350px] w-full md:w-auto"})}),s.jsxs("div",{className:"md:w-2/3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx($r,{className:"h-6 w-6 text-blue-700"})}),s.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Chuyn gia hng u"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"H thng quy t i ng chuyn gia, bc s, dc s v iu dng c trnh  chuyn mn cao, tay ngh gii, tn tm v chuyn nghip. Lun t ngi bnh lm trung tm, chng ti cam kt em n dch v chm sc sc khe tt cho khch hng."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(ZL,{className:"h-6 w-6 text-blue-700"})}),s.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Cht lng quc t"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"H thng Y t c qun l v vn hnh di s gim st ca nhng nh qun l y t giu kinh nghim, cng vi s h tr ca phng tin k thut hin i, nhm m bo cung cp dch v chm sc sc khe ton din v hiu qu."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Vn,{className:"h-6 w-6 text-blue-700"})}),s.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Cng ngh tin tin"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chng ti cung cp c s vt cht hng nht v dch v 5 sao bng cch s dng cc cng ngh tin tin c qun l bi cc bc s lm sng lnh ngh  m bo dch v chm sc sc khe ton din v hiu qu cao."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(so,{className:"h-6 w-6 text-blue-700"})}),s.jsx("h3",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Nghin cu & i mi"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Chng ti lin tc thc y y hc hn lm da trn nghin cu c phng php v s pht trin y t c chia s t quan h i tc ton cu vi cc h thng chm sc sc khe hng u th gii nhm cung cp cc phng php iu tr mang tnh cch mng."})]})]}),s.jsx("div",{className:"mt-8 flex justify-center md:justify-start"})]})]})})]})}),s.jsx("div",{className:"lg:col-span-4 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"bg-blue-800 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(ve,{className:"h-5 w-5 mr-2"}),"Cuc hn sp ti"]})}),s.jsx("div",{className:"p-5",children:c?s.jsx(V,{}):n.length>0?s.jsx("div",{children:n.map(L=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"bg-blue-50 p-5 rounded-md border border-blue-100 relative",children:[A(L),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-md",children:s.jsx(ve,{className:"h-5 w-5 text-blue-700"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"font-semibold text-gray-900",children:S(L.date)})})]}),s.jsx("div",{className:"bg-blue-700 text-white text-base font-medium py-1 px-3 rounded-md",children:P(L.date)})]}),s.jsxs("p",{className:"text-gray-700",children:[L.type," vi ",s.jsx("span",{className:"font-medium",children:L.doctorName})]}),s.jsxs("p",{className:"text-gray-500 text-sm flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),L.location]})]})]}),I(L)]},L.id))}):s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-blue-50 p-6 rounded-md border border-blue-100",children:[s.jsx(ve,{className:"h-12 w-12 mx-auto text-blue-700 mb-4"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Bn khng c lch hn sp ti no"}),s.jsx(F,{variant:"primary",size:"md",className:"bg-blue-700 hover:bg-blue-800 rounded-md",onClick:()=>t("/customer/appointment-selection"),children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(Y8,{className:"h-5 w-5 mr-2"}),"t lch hn ngay"]})})]})})})]})})]})]})]}),s.jsx(M4,{isOpen:y,onClose:()=>x(!1)})]})},Fj=({onBookingComplete:t=null})=>{const e=hs(),[n,r]=f.useState(1),[i,a]=f.useState(null),[l,o]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState(null),[m,g]=f.useState([]),[y,x]=f.useState([]),[b,v]=f.useState([]),[p,j]=f.useState([]),[N,w]=f.useState({symptoms:"",medicalHistory:"",notes:"",isUrgent:!1}),[E,M]=f.useState(!1),[k,T]=f.useState(!1),[S,P]=f.useState(null),[C,A]=f.useState(!1);f.useEffect(()=>{if(!Ee.isAuthenticated()){e("/login",{state:{from:"/customer/appointments/new",message:"Bn cn ng nhp  t lch hn"}});return}I()},[e]);const I=async()=>{T(!0),P(null);try{const[_,H]=await Promise.all([as.getServices(),as.getDoctors()]);_.success&&v(_.data),H.success&&j(H.data)}catch(_){console.error("Error loading initial data:",_),P(_.message)}finally{T(!1)}};f.useEffect(()=>{i&&p.length>0&&(g(p),l&&(d(null),h(null),x([])))},[i,p]),f.useEffect(()=>{l&&c&&i&&V()},[l,c,i]);const V=async()=>{if(!(!l||!c||!i)){T(!0),P(null);try{const _=await as.getAvailableSlots(l.id,as.formatDateForAPI(c),i.id);_.success?x(_.data):(P(_.message||"Khng th ti thng tin slot thi gian"),x([]))}catch(_){console.error("Error loading available slots:",_),P(_.message),x([])}finally{T(!1)}}},L=_=>{a(_),o(null),d(null),h(null),x([]),r(2)},O=_=>{o(_),d(null),h(null),x([])},D=_=>{d(_),h(null)},R=_=>{_.isAvailable&&(h(_),r(3))},B=_=>{const{name:H,value:U,type:W,checked:J}=_.target;w({...N,[H]:W==="checkbox"?J:U})},X=async _=>{if(_.preventDefault(),!i||!l||!c||!u){P("Vui lng in y  thng tin");return}M(!0),P(null);try{console.log("Selected date:",c),console.log("Selected slot startTime:",u.startTime);const H=as.formatDateTimeForAPI(c,u.startTime);console.log("Formatted scheduledAt:",H);const U={doctorId:l.id,serviceId:i.id,scheduledAt:H,scheduleId:u.scheduleId,symptoms:N.symptoms,medicalHistory:N.medicalHistory,notes:N.notes,autoConfirm:!0};console.log("Appointment data being sent:",U);const W=await as.bookAppointment(U);W.success?(A(!0),r(4),t&&t(W.data)):P(W.message||"Khng th t lch hn")}catch(H){console.error("Error booking appointment:",H),P(H.message)}finally{M(!1)}},Z=()=>{r(1),a(null),o(null),d(null),h(null),x([]),w({symptoms:"",medicalHistory:"",notes:"",isUrgent:!1}),P(null),A(!1)},$=_=>new Date(_).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Y=()=>{const _=[],H=new Date;for(let U=0;U<=14;U++){const W=new Date(H);W.setDate(H.getDate()+U),_.push(W.toISOString().split("T")[0])}return _};return k&&n===1?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]})}):s.jsxs("div",{className:"space-y-6",children:[S&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-red-400"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:S})})]})}),s.jsx("div",{className:"relative flex items-center justify-center space-x-4 mb-8",children:[1,2,3].map(_=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`relative z-10 w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${n>=_?"bg-primary-600 text-white shadow-md":"bg-gray-200 text-gray-500"}`,children:n>_?s.jsx(Se.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):_}),_<3&&s.jsxs("div",{className:"relative w-16 mx-2",children:[s.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 h-1 w-full ${n>_?"bg-primary-600":"bg-gray-200"}`}),n>_&&s.jsx(Se.div,{className:"absolute top-1/2 -translate-y-1/2 h-1 bg-primary-600",initial:{width:0},animate:{width:"100%"},transition:{duration:.3,delay:.2}})]})]},_))}),s.jsxs("div",{className:"flex justify-center space-x-8 mb-6",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=1?"text-primary-600":"text-gray-500"}`,children:"Chn dch v"})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=2?"text-primary-600":"text-gray-500"}`,children:"Chn bc s & thi gian"})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=3?"text-primary-600":"text-gray-500"}`,children:"Xc nhn thng tin"})})]}),n===1&&s.jsx(G,{title:"Chn dch v khm",children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:b.map(_=>{const U=(W=>{const J=W.toLowerCase();return J.includes("t vn")?Lr:J.includes("khm")?Vn:J.includes("xt nghim")?Ie:J.includes("thuc")?Ze:Vn})(_.name);return s.jsxs(Se.div,{className:`relative overflow-hidden border rounded-lg p-6 cursor-pointer transition-all duration-300
                      ${(i==null?void 0:i.id)===_.id?"border-primary-500 bg-primary-50/60 shadow-md":"border-gray-200 hover:border-primary-300 hover:bg-primary-50/30 hover:shadow-md"}
                    `,onClick:()=>L(_),whileHover:{y:-4},whileTap:{scale:.98},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-white to-primary-50 opacity-50 z-0"}),(i==null?void 0:i.id)===_.id&&s.jsx(Se.div,{className:"absolute top-3 right-3 bg-primary-500 text-white rounded-full p-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex items-start space-x-4 relative z-10",children:[s.jsx(Se.div,{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center shadow-sm",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:s.jsx(U,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:_.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),s.jsx("div",{className:"flex items-center justify-between text-sm",children:s.jsxs("span",{className:"text-gray-500 bg-gray-100 px-2 py-1 rounded-full text-xs",children:[" ",_.durationMinutes," pht"]})})]}),s.jsx("div",{className:"text-primary-600 transition-transform duration-300 group-hover:translate-x-1",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]},_.id)})})})}),n===2&&i&&s.jsx("div",{className:"space-y-6",children:s.jsx(G,{title:`Chn bc s cho dch v: ${i.name}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Chn bc s"}),m.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"ang ti danh sch bc s..."})]}):s.jsx("div",{className:"space-y-3",children:m.map(_=>s.jsxs(Se.div,{className:`border rounded-lg p-4 cursor-pointer transition-all duration-200 relative overflow-hidden ${(l==null?void 0:l.id)===_.id?"border-primary-500 bg-primary-50/70 shadow-md":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,onClick:()=>O(_),whileHover:{y:-2},whileTap:{scale:.98},children:[(l==null?void 0:l.id)===_.id&&s.jsx(Se.div,{className:"absolute top-3 right-3 bg-primary-500 text-white rounded-full p-1 shadow-sm",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:_.avatarUrl?s.jsx("img",{src:_.avatarUrl,alt:_.name,className:"w-16 h-16 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-full flex items-center justify-center border border-blue-200 shadow-sm",children:s.jsx(Be,{className:"h-8 w-8 text-blue-600"})})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:_.name}),s.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs font-medium inline-flex items-center px-2 py-0.5 rounded-full",children:_.specialty}),_.degree&&s.jsx("div",{className:"bg-purple-100 text-purple-800 text-xs font-medium inline-flex items-center px-2 py-0.5 rounded-full",children:_.degree})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-y-1 text-sm text-gray-600",children:[_.experienceYears&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsxs("span",{children:["Kinh nghim: ",_.experienceYears," nm"]})]}),_.email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("span",{children:_.email})]}),_.phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("span",{children:_.phone})]})]})]}),s.jsx("div",{className:"text-primary-600 self-center ml-2",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),_.bio&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:_.bio})})]},_.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:l?`Lch lm vic - ${l.name}`:"Chn bc s  xem lch"}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Chn ngy khm"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Y().slice(0,8).map(_=>{const H=new Date(_),U=c===_,W=!0;return s.jsxs(Se.button,{className:`p-3 text-left rounded-lg border transition-all duration-200 ${U?"border-primary-500 bg-primary-500 text-white shadow-md":"border-gray-200 hover:border-primary-300 hover:bg-primary-50 text-gray-700"}`,onClick:()=>D(_),whileHover:{y:-2,scale:1.02},whileTap:{scale:.98},disabled:!W,children:[s.jsx("div",{className:"text-sm font-medium",children:H.toLocaleDateString("vi-VN",{weekday:"short"})}),s.jsx("div",{className:`text-center font-bold ${U?"text-white":"text-gray-800"}`,children:H.getDate()}),s.jsx("div",{className:`text-xs text-center ${U?"text-white":"text-gray-500"}`,children:H.toLocaleDateString("vi-VN",{month:"short"})}),!U&&s.jsx("div",{className:"flex justify-center mt-1",children:s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-500"})})]},_)})})]}),c&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Chn gi khm - ",$(c)]}),k?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map((_,H)=>s.jsx("div",{className:"h-10 bg-gray-200 rounded-lg animate-pulse"},H))}):y.length===0?s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(ve,{className:"h-10 w-10 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"Khng c khung gi no kh dng trong ngy ny"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Vui lng chn ngy khc hoc lin h vi chng ti"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(_=>s.jsxs(Se.button,{className:`p-3 text-center rounded-lg border text-sm transition-all duration-200 relative ${(u==null?void 0:u.startTime)===_.startTime?"border-primary-500 bg-primary-500 text-white shadow-md":_.isAvailable?"border-gray-200 hover:border-primary-300 hover:bg-primary-50 text-gray-700":"border-red-100 bg-red-50 text-red-400 cursor-not-allowed relative overflow-hidden"}`,onClick:()=>R(_),disabled:!_.isAvailable,whileHover:_.isAvailable?{y:-2,scale:1.03}:{},whileTap:_.isAvailable?{scale:.98}:{},title:_.isAvailable?"":"Khung gi ny  c t",children:[_.displayTime||`${_.startTime} - ${_.endTime}`,(u==null?void 0:u.startTime)===_.startTime&&s.jsx(Se.div,{className:"absolute -top-1 -right-1 bg-white text-primary-500 rounded-full p-0.5 shadow-sm border border-primary-500",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),!_.isAvailable&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-red-50/80 backdrop-blur-[1px]"}),s.jsx("div",{className:"relative z-10 text-xs text-red-500 font-medium px-1 py-0.5 bg-white/50 rounded-sm",children:" t"})]})})]},`${_.startTime}-${_.endTime}`))})]})]}):s.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(ve,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Vui lng chn bc s  xem lch lm vic"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chn mt bc s t danh sch bn tri  xem lch lm vic v t lch hn"})]})]})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx(Se.div,{whileHover:{x:-2},whileTap:{scale:.98},children:s.jsx(F,{variant:"outline",onClick:()=>r(1),children:" Quay li"})}),s.jsx(Se.div,{whileHover:{x:2},whileTap:{scale:.98},children:s.jsx(F,{variant:"primary",onClick:()=>r(3),disabled:!l||!c||!u,className:!l||!c||!u?"opacity-50":"shadow-md hover:shadow-lg",children:"Tip tc "})})]})]})})}),n===3&&s.jsx(G,{title:"Xc nhn thng tin t lch",children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:X,children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ve,{className:"h-5 w-5 text-primary-500 mr-2"}),"Thng tin lch hn"]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Ie,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Dch v"}),s.jsx("p",{className:"font-medium text-gray-900",children:i==null?void 0:i.name})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:s.jsx(Be,{className:"h-4 w-4 text-indigo-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Bc s"}),s.jsx("p",{className:"font-medium text-gray-900",children:l==null?void 0:l.name}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[(l==null?void 0:l.specialty)&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full",children:l.specialty}),(l==null?void 0:l.degree)&&s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-0.5 rounded-full",children:l.degree})]}),(l==null?void 0:l.experienceYears)&&s.jsxs("p",{className:"mt-1",children:["Kinh nghim: ",l.experienceYears," nm"]}),(l==null?void 0:l.phone)&&s.jsxs("p",{className:"mt-1",children:["ST: ",l.phone]})]})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(ve,{className:"h-4 w-4 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngy khm"}),s.jsx("p",{className:"font-medium text-gray-900",children:$(c)})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:s.jsx(Ce,{className:"h-4 w-4 text-amber-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Gi khm"}),s.jsx("p",{className:"font-medium text-gray-900",children:(u==null?void 0:u.displayTime)||`${u==null?void 0:u.startTime} - ${u==null?void 0:u.endTime}`})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ze,{className:"h-5 w-5 text-primary-500 mr-2"}),"Thng tin bnh nhn"]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"symptoms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Triu chng hin ti"}),s.jsx("textarea",{id:"symptoms",name:"symptoms",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"M t cc triu chng bn ang gp phi...",value:N.symptoms,onChange:B})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"medicalHistory",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tin s bnh"}),s.jsx("textarea",{id:"medicalHistory",name:"medicalHistory",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"Tin s bnh n, cc bnh  mc, thuc ang s dng...",value:N.medicalHistory,onChange:B})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi ch thm"}),s.jsx("textarea",{id:"notes",name:"notes",rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"Ghi ch thm cho bc s...",value:N.notes,onChange:B})]}),s.jsx("div",{className:"flex items-center"})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx(Se.div,{whileHover:{x:-2},whileTap:{scale:.98},children:s.jsx(F,{variant:"outline",onClick:()=>r(2),children:" Quay li"})}),s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{type:"submit",variant:"primary",disabled:E,className:"px-8 py-2.5 shadow-md hover:shadow-lg text-base font-medium relative",children:E?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"Xc nhn t lch"})})]})]})})}),n===4&&C&&s.jsx(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring",stiffness:100},children:s.jsx(G,{className:"border-t-4 border-t-green-500 shadow-lg",children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-6 relative mx-auto w-20 h-20",children:[s.jsx(Se.div,{className:"absolute inset-0 rounded-full bg-green-100",initial:{scale:0},animate:{scale:1.5,opacity:0},transition:{repeat:1/0,duration:1.5,ease:"easeOut",delay:.2}}),s.jsx(Se.div,{className:"absolute inset-0 rounded-full bg-green-100",initial:{scale:0},animate:{scale:1.3,opacity:0},transition:{repeat:1/0,duration:1.5,ease:"easeOut",delay:.6}}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Se.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},children:s.jsx(Xe,{className:"h-12 w-12 text-green-600"})})})]}),s.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"t lch thnh cng!"}),s.jsxs("p",{className:"text-gray-600 mb-3 max-w-md mx-auto",children:["Lch hn ca bn  c ",s.jsx("span",{className:"text-green-600 font-medium",children:"t ng xc nhn"}),". Bn khng cn ch xc nhn t nhn vin."]}),s.jsx("p",{className:"text-gray-500 text-sm mb-8 max-w-md mx-auto",children:"Bn s nhn c thng bo qua email v SMS trc thi gian hn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{variant:"primary",onClick:()=>e("/customer/appointments"),className:"shadow-md hover:shadow-lg px-6",children:"Lch hn ca bn"})}),s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{variant:"outline",onClick:Z,className:"border-gray-300 hover:bg-gray-50",children:"t lch hn khc"})})]})]})]})})})]})},zd=()=>{const t=ks(),e=hs(),[n,r]=f.useState("upcoming"),[i,a]=f.useState(!1),[l,o]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState(null),[b,v]=f.useState(""),[p,j]=f.useState(!1);f.useEffect(()=>{if(!Ee.isAuthenticated()){e("/login",{state:{from:t.pathname,message:"Bn cn ng nhp  xem lch hn"}});return}t.pathname==="/customer/appointments/new"&&a(!0),N()},[t.pathname,e]);const N=async()=>{d(!0),h(null);try{const L=await as.getUserAppointments();if(L.success){const O=L.data.map(D=>{var R,B;return{id:D.id,service:{id:D.serviceId,name:D.serviceName,icon:w(D.serviceName)},doctorName:D.doctorName,doctorSpecialty:D.doctorSpecialty||"Bc s",date:new Date(D.scheduledAt),timeSlot:{startTime:new Date(D.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",hour12:!1}),endTime:new Date(new Date(D.scheduledAt).getTime()+(D.serviceDuration||30)*6e4).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",hour12:!1})},status:D.status.toLowerCase(),patientInfo:{fullName:((R=Ee.getCurrentUser())==null?void 0:R.name)||"Bnh nhn",phone:((B=Ee.getCurrentUser())==null?void 0:B.phone)||""},notes:D.notes||"",bookingId:`APT-${D.id}`,symptoms:D.symptoms||"",medicalHistory:D.medicalHistory||""}});o(O)}else h(L.message||"Khng th ti danh sch lch hn")}catch(L){console.error("Error loading appointments:",L),h(L.message)}finally{d(!1)}},w=L=>{const O=L.toLowerCase();return O.includes("t vn")?Lr:O.includes("khm")?Vn:O.includes("xt nghim")?Ie:O.includes("thuc")?Ze:Vn},E=L=>{N(),a(!1),r("upcoming")},M=async(L,O)=>{const D=l.find(R=>R.id===L);if(D){if(D.status==="checked_in"){h("Khng th hy lch hn sau khi  check-in.");return}const R=new Date(D.date),B=new Date,X=24*60*60*1e3;if(R-B<=X){h("Khng th hy lch hn trong vng 24 gi trc gi hn.");return}}if(O)try{j(!0);const R=await as.cancelAppointment(L,O);R.success?(o(B=>B.map(X=>X.id===L?{...X,status:"cancelled"}:X)),g(!1),x(null),v("")):h(R.message||"Khng th hy lch hn")}catch(R){console.error("Error cancelling appointment:",R),h(R.message)}finally{j(!1)}else x(D),g(!0)},k=()=>{y&&M(y.id,b||"Hy bi bnh nhn")},T=L=>{if(L.status==="checked_in")return!1;const O=new Date(L.date),D=new Date,R=24*60*60*1e3;return O-D>R},S=async L=>{try{const O=await as.checkInAppointment(L);if(O.success)o(D=>D.map(R=>R.id===L?{...R,status:"checked_in"}:R)),h(null);else if(O.message&&O.message.includes("within 2 hours")){const D=l.find(R=>R.id===L);if(D){const B=new Date(D.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});h(`Bn ch c th check-in trong vng 2 gi trc gi hn (${B}). Vui lng quay li sau.`)}else h("Bn ch c th check-in trong vng 2 gi trc gi hn. Vui lng quay li sau.")}else h(O.message||"Khng th check-in")}catch(O){if(console.error("Error checking in:",O),O.message&&O.message.includes("within 2 hours")){const D=l.find(R=>R.id===L);if(D){const B=new Date(D.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});h(`Bn ch c th check-in trong vng 2 gi trc gi hn (${B}). Vui lng quay li sau.`)}else h("Bn ch c th check-in trong vng 2 gi trc gi hn. Vui lng quay li sau.")}else h(O.message)}},P=L=>L.toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=L=>{switch(L){case"pending":return"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20";case"scheduled":return"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20";case"confirmed":return"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20";case"checked_in":return"bg-indigo-50 text-indigo-700 ring-1 ring-inset ring-indigo-600/20";case"completed":return"bg-indigo-50 text-indigo-700 ring-1 ring-inset ring-indigo-600/20";case"cancelled":return"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20";case"no_show":return"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/10";default:return"bg-gray-50 text-gray-700 ring-1 ring-inset ring-gray-600/10"}},A=L=>{switch(L){case"pending":return"Ch xc nhn";case"scheduled":return" ln lch";case"confirmed":return" xc nhn";case"checked_in":return" check-in";case"under_review":return"ang tip nhn h s";case"completed":return" hon thnh";case"cancelled":return" hy";case"no_show":return"Khng n khm";default:return"Khng xc nh"}},I=L=>{const O=new Date;return l.filter(D=>{switch(L){case"upcoming":return(D.status==="pending"||D.status==="confirmed"||D.status==="scheduled"||D.status==="checked_in")&&D.date>=O;case"past":return D.status==="completed"||D.date<O;case"cancelled":return D.status==="cancelled"||D.status==="no_show";default:return!0}})},V=I(n);return i?s.jsx(be,{currentRole:se.CUSTOMER,pageTitle:"t lch hn mi",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(F,{variant:"outline",onClick:()=>{a(!1),e("/customer/appointments")},className:"hover:bg-gray-50 transition-all duration-300 flex items-center",children:s.jsxs(Se.span,{initial:{x:0},whileHover:{x:-2},className:"inline-flex items-center",children:[s.jsx("span",{className:"mr-1"}),"  Danh sch lch hn"]})})}),s.jsx(Fj,{onBookingComplete:E})]})}):s.jsx(be,{currentRole:se.CUSTOMER,pageTitle:"Lch hn",headerText:"Qun l lch hn",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c?s.jsx("div",{className:"flex justify-center my-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):s.jsxs(s.Fragment,{children:[u&&s.jsxs("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md flex items-start",children:[s.jsx(ze,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:u})]}),i?s.jsx(Fj,{onBookingComplete:E}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:n==="upcoming"?"primary":"outline",onClick:()=>r("upcoming"),className:"text-sm px-3 py-1",children:"Sp ti"}),s.jsx(F,{variant:n==="past"?"primary":"outline",onClick:()=>r("past"),className:"text-sm px-3 py-1",children:" qua"}),s.jsx(F,{variant:n==="all"?"primary":"outline",onClick:()=>r("all"),className:"text-sm px-3 py-1",children:"Tt c"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(F,{variant:"primary",onClick:()=>a(!0),className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-1"}),"t lch xt nghim"]}),s.jsxs(F,{variant:"outline",className:"flex items-center",onClick:()=>e("/customer/online-consultation/new"),children:[s.jsx(no,{className:"h-5 w-5 mr-1"}),"T vn trc tuyn"]})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"upcoming",label:"Sp ti",count:I("upcoming").length},{key:"past",label:" qua",count:I("past").length},{key:"cancelled",label:" hy",count:I("cancelled").length}].map(L=>s.jsxs("button",{onClick:()=>r(L.key),className:"relative py-2 px-1 font-medium text-sm focus:outline-none",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`${n===L.key?"text-primary-600":"text-gray-500 hover:text-gray-700"} transition-colors duration-200`,children:L.label}),s.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${n===L.key?"bg-primary-100 text-primary-600 font-semibold":"bg-gray-100 text-gray-900"} transition-colors duration-200`,children:L.count})]}),n===L.key&&s.jsx(Se.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500",transition:{type:"spring",stiffness:500,damping:30}})]},L.key))})}),s.jsx(gy,{mode:"wait",children:s.jsx(Se.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"space-y-6",children:V.length===0?s.jsx(G,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ve,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c lch hn no"}),s.jsx("p",{className:"text-gray-600 mb-4",children:n==="upcoming"?"Bn cha c lch hn no sp ti.":n==="past"?"Bn cha c lch hn no  hon thnh.":"Bn cha c lch hn no b hy."}),n==="upcoming"&&s.jsxs(F,{variant:"primary",onClick:()=>a(!0),className:"shadow-md hover:shadow-lg transition-all duration-300",children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"t lch hn u tin"]})]})}):V.map(L=>{const O=L.service.icon;return s.jsx(Se.div,{whileHover:{y:-4},transition:{duration:.2},children:s.jsx(G,{className:"hover:shadow-md transition-all duration-300 border border-gray-200 hover:border-gray-300",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(O,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:L.service.name}),s.jsxs("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:[L.doctorName," -"," ",s.jsx("span",{className:"font-normal text-gray-600",children:L.doctorSpecialty})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-700 font-medium",children:[s.jsx(ve,{className:"h-4 w-4 mr-1 text-primary-500"}),P(L.date)]}),s.jsxs("div",{className:"flex items-center text-gray-700 font-medium",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1 text-primary-500"}),L.timeSlot.startTime," -"," ",L.timeSlot.endTime]})]})]})]}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(L.status)}`,children:A(L.status)})})]}),n==="upcoming"&&L.status==="confirmed"&&s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx(F,{variant:"primary",size:"sm",onClick:()=>S(L.id),className:"bg-indigo-600 hover:bg-indigo-700 transition-colors duration-200",children:"Check-in"}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>M(L.id,null),className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 transition-colors duration-200",disabled:!T(L),title:T(L)?"Hy lch hn":L.status==="checked_in"?"Khng th hy lch hn sau khi  check-in":"Khng th hy lch hn trong vng 24 gi trc gi hn",children:"Hy lch hn"})]}),n==="upcoming"&&L.status!=="confirmed"&&s.jsx("div",{className:"mt-4 flex justify-end",children:L.status==="pending"&&s.jsx(F,{variant:"outline",size:"sm",onClick:()=>M(L.id,null),className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 transition-colors duration-200",disabled:!T(L),title:T(L)?"Hy lch hn":L.status==="checked_in"?"Khng th hy lch hn sau khi  check-in":"Khng th hy lch hn trong vng 24 gi trc gi hn",children:"Hy lch hn"})})]})})},L.id)})},n)})]})]}),m&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Hu lch hn"}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"mb-4 text-gray-700",children:"Vui lng cho chng ti bit l do bn mun hu lch hn ny:"}),s.jsx("textarea",{value:b,onChange:L=>v(L.target.value),placeholder:"Nhp l do hu lch hn...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:3})]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(F,{variant:"outline",onClick:()=>g(!1),children:"Hu b"}),s.jsx(F,{variant:"primary",onClick:k,disabled:p,children:p?"ang x l...":"Xc nhn hu lch"})]})]})})]})})},Ud=()=>{var ce,re,Te,Fe,Ss,Wn,ne,De,Me,Ae,z,K,te,me,he,oe;const[t]=I5(),[e,n]=f.useState("all"),[r,i]=f.useState(null),[a,l]=f.useState(null),[o,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState([]),[g,y]=f.useState([]),[x,b]=f.useState([]),[v,p]=f.useState(!0),[j,N]=f.useState(!0),[w,E]=f.useState(null),[M,k]=f.useState(null);f.useEffect(()=>{const q=t.get("category");q&&n(q)},[t]),f.useEffect(()=>{T(),S()},[]);const T=async()=>{try{p(!0),E(null);const q=await oc.getLabResults();if(q.success){const je=(q.data||[]).map(we=>({id:we.id,testName:P(we.testType),date:new Date(we.testDate),category:C(we.testType),result:we.result,unit:we.unit||"",referenceRange:we.referenceRange||"",status:we.status||A(we.interpretation),doctorName:we.doctorName||"N/A",notes:we.notes||"",approvalStatus:we.approvalStatus,interpretation:we.notes||I(we.testType,we.result)}));m(je)}else E(q.message||"Khng th ti kt qu xt nghim")}catch(q){console.error("Error loading test results:",q),E(q.message||" xy ra li khi ti d liu")}finally{p(!1)}},S=async()=>{try{N(!0),k(null);const[q,je]=await Promise.all([oc.getActiveTreatmentPlans(),oc.getTreatmentPlans()]);q.success&&b(q.data||[]),je.success&&y(je.data||[]),!q.success&&!je.success&&k("Khng th ti phc  iu tr")}catch(q){console.error("Error loading treatment plans:",q),k(q.message||" xy ra li khi ti phc  iu tr")}finally{N(!1)}},P=q=>({CD4:"S lng CD4+ T-cells",VIRAL_LOAD:"Ti lng virus HIV",HIV_TEST:"Xt nghim HIV",BLOOD_COUNT:"Cng thc mu",LIVER_FUNCTION:"Chc nng gan",KIDNEY_FUNCTION:"Chc nng thn",OTHER:"Xt nghim khc"})[q]||q,C=q=>({CD4:"CD4 Count",VIRAL_LOAD:"Viral Load",HIV_TEST:"Viral Load",BLOOD_COUNT:"Blood Work",LIVER_FUNCTION:"Liver Function",KIDNEY_FUNCTION:"Kidney Function",OTHER:"Other"})[q]||"Other",A=q=>q&&{EXCELLENT:"approved",NORMAL:"approved",GOOD:"approved","bnh thng":"approved",LOW:"abnormal",HIGH:"abnormal",CRITICAL:"abnormal",ABNORMAL:"abnormal"}[q]||"normal",I=(q,je)=>{switch(q){case"CD4":const we=parseInt(je);return we>500?"S lng CD4 tt, h min dch ang hot ng hiu qu.":we>200?"S lng CD4  mc trung bnh, cn theo di.":"S lng CD4 thp, cn tng cng iu tr.";case"VIRAL_LOAD":return je.includes("<")||je.toLowerCase().includes("undetectable")?"Ti lng virus khng pht hin c - iu ny rt tt v cho thy thuc ARV ang hot ng hiu qu.":"Cn theo di ti lng virus v c th iu chnh phc  iu tr.";default:return"Kt qu xt nghim  c ghi nhn."}},V=q=>q?new Date(q).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",L=q=>q?new Date(q).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",O=(q,je)=>{if(!q)return"N/A";const we=new Date(q),Dt=je?new Date(je):new Date,We=Math.abs(Dt-we),jt=Math.ceil(We/(1e3*60*60*24));if(jt<30)return`${jt} ngy`;if(jt<365)return`${Math.floor(jt/30)} thng`;{const oo=Math.floor(jt/365),Oa=Math.floor(jt%365/30);return Oa>0?`${oo} nm ${Oa} thng`:`${oo} nm`}},D=q=>{if(!q)return"bg-gray-100 text-gray-800 border-gray-200";switch(typeof q=="string"?q.toLowerCase():""){case"normal":case"bnh thng":case"approved":case"stable":return"bg-green-100 text-green-800 border-green-200";case"abnormal":case"critical":case"attention":case"rejected":return"bg-red-100 text-red-800 border-red-200";case"pending":case"waiting":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"cancelled":return"bg-orange-100 text-orange-800 border-orange-200";case"unknown":default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=q=>{if(!q)return"Khng xc nh";switch(typeof q=="string"?q.toLowerCase():""){case"normal":case"bnh thng":return"Nguy him";case"abnormal":return"Bt thng";case"critical":return"Nguy him";case"pending":return"Ch duyt";case"approved":return"Bnh thng";case"rejected":return" t chi";case"unknown":return"Khng xc nh";default:return!isNaN(q)&&parseFloat(q)>0?q:q||"Khng xc nh"}},B=q=>{if(!q)return"bg-gray-500";switch(typeof q=="string"?q.toLowerCase():""){case"normal":case"approved":case"stable":return"bg-green-500";case"attention":case"pending":case"waiting":return"bg-yellow-500";case"critical":case"abnormal":case"rejected":case"bnh thng":return"bg-red-500";default:return"bg-gray-500"}},X=h,Y=[...e==="all"?X:X.filter(q=>q.category===e)].sort((q,je)=>je.date.getTime()-q.date.getTime()).reduce((q,je)=>{const we=je.date.toISOString().split("T")[0];return q[we]||(q[we]=[]),q[we].push(je),q},{}),_=r?X.find(q=>q.id===r):null,U=(()=>{const q=X.filter(We=>We.category==="Viral Load").sort((We,jt)=>jt.date.getTime()-We.date.getTime())[0],je=X.filter(We=>We.category==="CD4 Count").sort((We,jt)=>jt.date.getTime()-We.date.getTime())[0],we=X.filter(We=>We.category==="Liver Function").sort((We,jt)=>jt.date.getTime()-We.date.getTime())[0],Dt=X.filter(We=>We.category==="Kidney Function").sort((We,jt)=>jt.date.getTime()-We.date.getTime())[0];return{viralLoad:q,cd4Count:je,liverFunction:we,kidneyFunction:Dt}})(),W=({regimen:q,isOpen:je,onClose:we})=>!je||!q?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full mr-4",children:s.jsx(Rd,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Chi tit phc  iu tr #",q.id]}),s.jsxs("p",{className:"text-gray-600",children:["Bc s: ",q.doctorName||"N/A"]})]})]}),s.jsx("button",{onClick:we,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pi,{className:"h-5 w-5 mr-2 text-blue-600"}),"Thng tin phc  iu tr"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Ngy bt u:"}),s.jsx("span",{className:"font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:V(q.startDate)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Ngy kt thc:"}),s.jsx("span",{className:"font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:q.endDate?V(q.endDate):"ang thc hin"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Thi gian iu tr:"}),s.jsx("span",{className:"font-semibold text-blue-700 bg-blue-100 px-3 py-1 rounded",children:O(q.startDate,q.endDate)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Trng thi:"}),s.jsx("span",{className:`font-semibold px-3 py-1 rounded ${q.status==="COMPLETED"?"text-gray-700 bg-gray-100":q.status==="ACTIVE"?"text-green-700 bg-green-100":q.status==="PAUSED"?"text-yellow-700 bg-yellow-100":q.status==="DISCONTINUED"?"text-red-700 bg-red-100":"text-blue-700 bg-blue-100"}`,children:q.status==="COMPLETED"?" hon thnh":q.status==="ACTIVE"?"ang thc hin":q.status==="PAUSED"?"Tm dng":q.status==="DISCONTINUED"?" ngng":"Khng xc nh"})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"M t phc  iu tr"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:q.description||"Phc  iu tr ARV c ch nh ph hp vi tnh trng sc khe hin ti ca bnh nhn."})]}),q.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Ghi ch t bc s:"}),s.jsx("p",{className:"text-sm text-blue-700",children:q.notes})]})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2 text-purple-600"}),"Chi tit iu tr"]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"border-l-4 border-purple-300 pl-4 bg-purple-50 p-4 rounded-r-lg",children:[s.jsx("div",{className:"mb-2",children:s.jsx("h4",{className:"font-semibold text-gray-900",children:"Thng tin iu tr"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Ngy to:"}),s.jsx("span",{className:"ml-2 font-medium",children:L(q.createdAt)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Cp nht ln cui:"}),s.jsx("span",{className:"ml-2 font-medium",children:L(q.updatedAt)})]})]}),q.medications&&q.medications.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Thuc c k n:"}),s.jsx("div",{className:"space-y-2",children:q.medications.map((Dt,We)=>s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("span",{className:"font-medium",children:Dt.name}),Dt.dosage&&s.jsxs("span",{className:"text-gray-600 ml-2",children:["- ",Dt.dosage]})]},We))})]})]})})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[s.jsx(Xe,{className:"h-5 w-5 mr-2"}),"Hng dn iu tr"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-green-500 mr-3 mt-0.5 font-bold text-lg",children:""}),s.jsx("span",{className:"text-sm text-green-700 leading-relaxed",children:"Tun th ng lch ung thuc theo ch nh ca bc s"})]}),s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-green-500 mr-3 mt-0.5 font-bold text-lg",children:""}),s.jsx("span",{className:"text-sm text-green-700 leading-relaxed",children:"Theo di nh k cc ch s sc khe v xt nghim"})]}),s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-green-500 mr-3 mt-0.5 font-bold text-lg",children:""}),s.jsx("span",{className:"text-sm text-green-700 leading-relaxed",children:"Duy tr li sng lnh mnh v ch  dinh dng ph hp"})]}),s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-green-500 mr-3 mt-0.5 font-bold text-lg",children:""}),s.jsx("span",{className:"text-sm text-green-700 leading-relaxed",children:"Lin h bc s ngay khi c bt k triu chng bt thng no"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[s.jsx(Pi,{className:"h-5 w-5 mr-2"}),"Thng tin b sung"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-blue-500 mr-3 mt-0.5",children:""}),s.jsx("span",{className:"text-sm text-blue-700",children:"Phc  iu tr ny c thit k ring cho tnh trng sc khe hin ti ca bn"})]}),s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-blue-500 mr-3 mt-0.5",children:""}),s.jsx("span",{className:"text-sm text-blue-700",children:"Thi gian iu tr c th c iu chnh da trn kt qu xt nghim nh k"})]}),s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-blue-500 mr-3 mt-0.5",children:""}),s.jsx("span",{className:"text-sm text-blue-700",children:"Vui lng t lch ti khm theo lch hn  theo di tin trin iu tr"})]})]})]})]})]})}),J=({isOpen:q,onClose:je})=>q?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full mr-4",children:s.jsx(Ce,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lch s xt nghim"}),s.jsx("p",{className:"text-gray-600",children:"Theo di tin trin qua cc ln xt nghim"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{className:"text-sm border border-gray-300 rounded-lg px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm",value:e,onChange:we=>n(we.target.value),children:[s.jsx("option",{value:"all",children:" Tt c xt nghim"}),s.jsx("option",{value:"Viral Load",children:" Ti lng virus HIV"}),s.jsx("option",{value:"CD4 Count",children:" S lng CD4"}),s.jsx("option",{value:"Liver Function",children:" Chc nng gan"}),s.jsx("option",{value:"Kidney Function",children:" Chc nng thn"})]}),s.jsx("button",{onClick:je,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})]})}),s.jsx("div",{className:"p-6",children:_?s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(Ie,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900",children:_.testName}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[s.jsx(ve,{className:"h-4 w-4 mr-1"}),V(_.date)]})]})]}),s.jsxs(F,{variant:"outline",onClick:()=>i(null),className:"bg-white hover:bg-gray-50 border-gray-300",children:[s.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Quay li danh sch"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:s.jsx(us,{className:"h-5 w-5 text-green-600"})}),s.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Kt qu"})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:`h-4 w-4 rounded-full ${B(_.status)}`}),s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[_.result," ",_.unit]})]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Phm vi tham chiu:"}),s.jsx("br",{}),_.referenceRange||"Khng c thng tin"]})})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:s.jsx(Pi,{className:"h-5 w-5 text-purple-600"})}),s.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Trng thi"})]}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium border-2 ${D(_.status)}`,children:R(_.status)})}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Ngy xt nghim:"}),s.jsx("br",{}),V(_.date)]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(bl,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Ghi ch"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.interpretation||"Khng c ghi ch"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:s.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h5",{className:"text-lg font-semibold text-gray-900",children:"Thng tin bc s"})]}),s.jsxs("p",{className:"text-gray-700",children:["c xt nghim bi: ",s.jsx("strong",{children:_.doctorName})]})]})]})]}):s.jsx("div",{children:Object.keys(Y).length>0?s.jsx("div",{className:"space-y-4",children:Object.entries(Y).map(([we,Dt])=>s.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(ve,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:V(new Date(we))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Dt.map(We=>s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm cursor-pointer transition-all group",onClick:()=>i(We.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${B(We.status)} shadow-sm`}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:We.testName}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:We.category})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900 block",children:[We.result," ",We.unit]}),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${D(We.status)}`,children:R(We.status)})]}),s.jsx(Ms,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-500 transition-colors"})]})]})},We.id))})]},we))}):s.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl",children:[s.jsx("div",{className:"p-4 bg-white rounded-full w-20 h-20 mx-auto mb-4 shadow-sm",children:s.jsx(Ie,{className:"h-12 w-12 text-gray-300 mx-auto"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c kt qu xt nghim"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy kt qu xt nghim no cho danh mc  chn."})]})})})]})}):null;return s.jsx(be,{currentRole:se.CUSTOMER,userName:"Nguyn Vn An",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tra cu thng tin xt nghim"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Lch s xt nghim c nhn v thng tin chi tit v cc phc  iu tr hin ti"})]}),s.jsx("div",{className:"flex space-x-3"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs(G,{children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(Al,{className:"h-6 w-6 mr-2 text-primary-600"}),"Tng hp ch s HIV"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Tng quan v tnh trng sc khe v hiu qu iu tr HIV"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl mb-6 border border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full mr-4",children:s.jsx(Xe,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-green-900",children:"Tnh trng tng th: Xut sc"}),s.jsx("p",{className:"text-green-700",children:"iu tr HIV hiu qu, h min dch mnh"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:(re=(ce=U.viralLoad)==null?void 0:ce.result)!=null&&re.includes("<")||(Fe=(Te=U.viralLoad)==null?void 0:Te.result)!=null&&Fe.toLowerCase().includes("undetectable")?"100%":""}),s.jsx("div",{className:"text-sm text-green-700",children:"Hiu qu iu tr"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(Ie,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Ti lng virus"})]}),s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[(Ss=U.viralLoad)==null?void 0:Ss.result," ",(Wn=U.viralLoad)==null?void 0:Wn.unit]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Khng pht hin"}),s.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-full"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"U=U: Khng ly truyn"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:s.jsx(Al,{className:"h-5 w-5 text-purple-600"})}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"CD4 Count"})]}),s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[(ne=U.cd4Count)==null?void 0:ne.result," ",(De=U.cd4Count)==null?void 0:De.unit]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"H min dch mnh"}),s.jsx("div",{className:"h-4 w-4 bg-green-600 rounded-full"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Tnh trng min dch tt"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg mr-3",children:s.jsx(Vn,{className:"h-5 w-5 text-orange-600"})}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Chc nng gan"})]}),s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[((Me=U.liverFunction)==null?void 0:Me.result)||"Normal"," ",((Ae=U.liverFunction)==null?void 0:Ae.unit)||""]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Bnh thng"}),s.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-full"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Thuc ARV an ton"})]}),s.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-teal-100 rounded-lg mr-3",children:s.jsx("svg",{className:"h-5 w-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx("h4",{className:"font-semibold text-gray-900",children:"Chc nng thn"})]}),s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[((z=U.kidneyFunction)==null?void 0:z.result)||"Normal"," ",((K=U.kidneyFunction)==null?void 0:K.unit)||""]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Bnh thng"}),s.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-full"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Khng nh hng"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(us,{className:"h-5 w-5 mr-2 text-blue-600"}),"Tin trin iu tr"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:x.length>0?O(x[0].startDate):""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Thi gian iu tr"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:(me=(te=U.viralLoad)==null?void 0:te.result)!=null&&me.includes("<")||(oe=(he=U.viralLoad)==null?void 0:he.result)!=null&&oe.toLowerCase().includes("undetectable")?"100%":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Tun th iu tr"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:[h.filter(q=>(q.status==="approved"||q.status==="normal")&&(q.category==="CD4 Count"||q.category==="Viral Load")).length||"0","/",h.filter(q=>q.category==="CD4 Count"||q.category==="Viral Load").length||"0"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Ln xt nghim tt"})]})]})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(F,{variant:"primary",className:"flex-1 flex items-center justify-center",onClick:()=>u(!0),children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Xem lch s xt nghim"]})})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(Rd,{className:"h-6 w-6 mr-2 text-primary-600"}),"Phc  iu tr hin ti"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Cc phc  iu tr ang c thc hin theo ch nh ca bc s"})]}),s.jsxs(F,{variant:"outline",onClick:S,className:"flex items-center",disabled:j,children:[s.jsx(at,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"Lm mi"]})]})}),s.jsx("div",{className:"p-6",children:j?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"ang ti phc  iu tr..."})]}):M?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ze,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),s.jsx("p",{className:"text-gray-600 mb-4",children:M}),s.jsxs(F,{onClick:S,variant:"primary",children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),"Th li"]})]}):x.length>0?s.jsx("div",{className:"space-y-3",children:x.map(q=>s.jsx("div",{className:"border border-gray-200 rounded-lg bg-white hover:shadow-md transition-shadow",children:s.jsx("div",{className:"w-full text-left p-4 rounded-lg transition-all hover:bg-gray-50 cursor-pointer",onClick:()=>{l(q),c(!0)},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rd,{className:"h-5 w-5 text-primary-600 mr-3"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["Phc  iu tr #",q.id]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Bc s: ",q.doctorName||"N/A"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:q.description||"Phc  iu tr ARV"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Bt u: ",V(q.startDate)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"ang thc hin"}),s.jsx(Ms,{className:"h-5 w-5 text-gray-400"})]})]})})},q.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Rd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cha c phc  iu tr"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Bn hin ti cha c phc  iu tr no ang c thc hin."}),s.jsxs(F,{variant:"primary",onClick:()=>window.location.href="/customer/appointments",className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),"t lch khm"]})]})})]}),g.length>0&&s.jsxs(G,{children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Ce,{className:"h-5 w-5 mr-2 text-gray-600"}),"Lch s phc  iu tr"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Tt c cc phc  iu tr  v ang thc hin"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:g.map(q=>s.jsx("div",{className:"border border-gray-100 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:s.jsx("div",{className:"w-full text-left p-3 rounded-lg cursor-pointer",onClick:()=>{l(q),c(!0)},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-500 mr-3"}),s.jsxs("div",{children:[s.jsxs("h5",{className:"font-medium text-gray-900",children:["Phc  iu tr #",q.id]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[V(q.startDate)," - ",q.endDate?V(q.endDate):"ang thc hin"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q.endDate?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800"}`,children:q.endDate?" hon thnh":"ang thc hin"}),s.jsx(Ms,{className:"h-4 w-4 text-gray-400"})]})]})})},q.id))})})]})]})]}),s.jsx(W,{regimen:a,isOpen:o,onClose:()=>{c(!1),l(null)}}),s.jsx(J,{isOpen:d,onClose:()=>{u(!1),i(null)}})]})})},Wd=()=>{const[t,e]=f.useState(null),[n,r]=f.useState(!1),[i,a]=f.useState(!1),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,g]=f.useState(!0),[y,x]=f.useState(null),[b,v]=f.useState({}),[p,j]=f.useState(Ee.getCurrentUser());f.useEffect(()=>{N()},[]);const N=async()=>{try{g(!0);const D=await Dy.getPatientMedications();if(D.success&&D.data){const R=D.data.medications||[];h(w(R)),D.data.medicationsByTime&&v(D.data.medicationsByTime)}else x("Failed to load medications data")}catch(D){console.error("Error fetching medications:",D),x("Error loading medications. Please try again later.")}finally{g(!1)}},w=D=>D.map(R=>{const B=R.medication||{},X=R.startDate?new Date(R.startDate):new Date,Z=R.endDate?new Date(R.endDate):null,$=E(X),Y=M($),_=R.status==="ACTIVE"||R.status==="active";return{id:R.id,name:B.name||"Unknown Medication",genericName:B.genericName||B.description||"",dosage:R.dosage||B.strength||"",frequency:R.frequency||"As prescribed",timing:R.schedules&&R.schedules.length>0&&(R.schedules[0].formattedTime||R.schedules[0].timeOfDay)||"8:00 AM",startDate:X,endDate:Z,purpose:B.description||"HIV Treatment",prescribedBy:R.prescribedBy||"Your Doctor",instructions:R.instructions||"Take as directed by your healthcare provider",sideEffects:B.sideEffects?B.sideEffects.split(",").map(H=>H.trim()):["Consult your doctor about possible side effects"],isActive:_,category:B.category||"HIV Medication",nextRefill:$,remainingDays:Y,adherenceRate:Math.floor(Math.random()*20)+80,schedules:R.schedules||[]}}),E=D=>{const R=new Date(D);return R.setDate(R.getDate()+30),R},M=D=>{const R=new Date,B=D.getTime()-R.getTime(),X=Math.ceil(B/(1e3*60*60*24));return X>0?X:0},k=u.filter(D=>D.isActive),T=u.filter(D=>!D.isActive),S=t?u.find(D=>D.id===t):null,P=D=>D?D.toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",A=(()=>{const D=[],R=new Date;for(let B=0;B<7;B++){const X=new Date;X.setDate(R.getDate()+B);const Z={date:X,medications:k.map($=>({...$,taken:B<0,time:$.timing}))};D.push(Z)}return D})();if(m)return s.jsx(be,{currentRole:se.CUSTOMER,userName:(p==null?void 0:p.name)||"Bnh nhn",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"ang ti thng tin thuc..."})]})})});if(y)return s.jsx(be,{currentRole:se.CUSTOMER,userName:(p==null?void 0:p.name)||"Bnh nhn",children:s.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl max-w-2xl mx-auto mt-8",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ze,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h2",{className:"text-xl font-semibold text-red-700",children:"Khng th ti thng tin thuc"})]}),s.jsx("p",{className:"text-red-600 mb-4",children:y}),s.jsx(F,{variant:"primary",className:"w-full",onClick:N,children:"Th li"})]})});const I=({medication:D,isOpen:R,onClose:B})=>!R||!D?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full mr-4",children:s.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:D.name}),s.jsx("p",{className:"text-gray-600",children:D.genericName})]})]}),s.jsx("button",{onClick:B,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pi,{className:"h-5 w-5 mr-2 text-green-600"}),"Thng tin c bn"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Liu lng:"}),s.jsx("span",{className:"font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded",children:D.dosage})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Tn sut:"}),s.jsx("span",{className:"font-semibold text-blue-700 bg-blue-100 px-3 py-1 rounded",children:D.frequency})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Thi gian:"}),s.jsx("span",{className:"font-semibold text-purple-700 bg-purple-100 px-3 py-1 rounded",children:D.timing})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block mb-1",children:"Mc ch:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:D.purpose})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block mb-1",children:"Bc s k n:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:D.prescribedBy})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 block mb-1",children:"Danh mc:"}),s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:D.category})]})]})})]})]}),D.components&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2 text-blue-600"}),"Thnh phn hot cht"]}),s.jsx("div",{className:"space-y-4",children:D.components.map((X,Z)=>s.jsxs("div",{className:"border-l-4 border-blue-300 pl-4 bg-blue-50 p-4 rounded-r-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:X.name}),s.jsx("span",{className:"text-blue-600 font-bold text-lg",children:X.dose})]}),s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded",children:X.class})}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:X.mechanism})]},Z))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[s.jsx(so,{className:"h-5 w-5 mr-2"}),"Hng dn s dng"]}),s.jsx("p",{className:"text-sm text-yellow-700 leading-relaxed",children:D.instructions})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-4 flex items-center",children:[s.jsx(ze,{className:"h-5 w-5 mr-2"}),"Tc dng ph c th gp"]}),s.jsx("div",{className:"space-y-2",children:D.sideEffects.map((X,Z)=>s.jsxs("div",{className:"flex items-start bg-white p-3 rounded-lg",children:[s.jsx("span",{className:"text-red-500 mr-3 mt-0.5 font-bold",children:""}),s.jsx("span",{className:"text-sm text-red-700",children:X})]},Z))})]})]}),D.isActive&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[s.jsx(ve,{className:"h-5 w-5 mr-2"}),"Lch ti khm & nhn thuc"]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-purple-700",children:"Ngy ti khm:"}),s.jsx("span",{className:"font-semibold text-purple-900",children:P(D.nextRefill)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-purple-700",children:"Cn li:"}),s.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded font-medium",children:[D.remainingDays," ngy"]})]})]})]}),D.adherenceRate&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[s.jsx(Al,{className:"h-5 w-5 mr-2"}),"Thng k tun th"]}),s.jsx("div",{className:"bg-white p-4 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[D.adherenceRate,"%"]}),s.jsx("div",{className:"text-sm text-green-700",children:"T l tun th iu tr"}),s.jsxs("div",{className:"mt-3 text-xs text-green-600",children:["Hiu qu: ",D.effectiveness||"Rt cao"]})]})})]})]})]})]})}),V=({isOpen:D,onClose:R})=>D?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full mr-4",children:s.jsx(Ce,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lch trnh ung thuc tun ny"}),s.jsx("p",{className:"text-gray-600",children:"Theo di v qun l lch ung thuc hng ngy"})]})]}),s.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map((B,X)=>s.jsxs("div",{className:`p-5 rounded-xl border-2 ${X===0?"bg-blue-50 border-blue-300 shadow-md":"bg-gray-50 border-gray-200 hover:border-blue-200 hover:shadow-sm"} transition-all`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.date.toLocaleDateString("vi-VN",{weekday:"long"})}),s.jsx("p",{className:"text-sm text-gray-600",children:B.date.toLocaleDateString("vi-VN",{day:"numeric",month:"long"})})]}),X===0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:"Hm nay"})]}),s.jsx("div",{className:"space-y-3",children:B.medications.map(Z=>s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:Z.name}),s.jsx("div",{className:"flex items-center space-x-2",children:B.taken?s.jsx(Xe,{className:"h-5 w-5 text-green-500"}):s.jsx("div",{className:"h-5 w-5 border-2 border-gray-300 rounded-full"})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsx("span",{children:Z.dosage}),s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:Z.time})]})]},Z.id))})]},X))})})]})}):null,L=({isOpen:D,onClose:R})=>D?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-full mr-4",children:s.jsx(Ce,{className:"h-8 w-8 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lch s thuc iu tr"}),s.jsx("p",{className:"text-gray-600",children:"Cc thuc  s dng trong qu trnh iu tr"})]})]}),s.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsx("div",{className:"p-6",children:T.length>0?s.jsx("div",{className:"space-y-4",children:T.map(B=>s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-gray-200 rounded-lg",children:s.jsx("svg",{className:"h-5 w-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.name}),s.jsx("p",{className:"text-sm text-gray-600",children:B.genericName})]})]}),s.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:" ngng"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Thi gian s dng:"}),s.jsxs("div",{className:"font-medium text-gray-900",children:[B.startDate.toLocaleDateString("vi-VN")," - ",B.endDate.toLocaleDateString("vi-VN")]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Liu lng:"}),s.jsx("div",{className:"font-medium text-gray-900",children:B.dosage})]})]}),B.reasonStopped&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border-l-4 border-blue-400",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium mb-1",children:"L do ngng thuc:"}),s.jsx("div",{className:"text-sm text-blue-800",children:B.reasonStopped})]})]},B.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-4",children:s.jsx(Ce,{className:"h-12 w-12 text-gray-400 mx-auto"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cha c lch s thuc"}),s.jsx("p",{className:"text-gray-500",children:"Khng c thuc no  ngng s dng."})]})})]})}):null,O=({isOpen:D,onClose:R,medications:B})=>{if(!D)return null;const[X,Z]=f.useState({enableReminders:!0,notifyBeforeMinutes:15,soundEnabled:!0,vibrateEnabled:!0,dailyDigest:!0,digestTime:"20:00"}),$=_=>{const{name:H,value:U,type:W,checked:J}=_.target;Z(ce=>({...ce,[H]:W==="checkbox"?J:U}))},Y=()=>{setTimeout(()=>{alert("Ci t li nhc  c lu thnh cng!"),R()},500)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full mr-4",children:s.jsx(vl,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ci t li nhc ung thuc"}),s.jsx("p",{className:"text-gray-600",children:"Ty chnh thng bo nhc nh ung thuc"})]})]}),s.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(et,{className:"h-6 w-6 text-gray-500"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ci t chung"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Bt li nhc ung thuc"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Nhn thng bo khi n gi ung thuc"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"enableReminders",className:"sr-only peer",checked:X.enableReminders,onChange:$}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Nhc trc thi gian ung thuc"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Nhn thng bo trc khi n gi ung thuc"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("select",{name:"notifyBeforeMinutes",value:X.notifyBeforeMinutes,onChange:$,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",children:[s.jsx("option",{value:"0",children:"ng gi"}),s.jsx("option",{value:"5",children:"5 pht"}),s.jsx("option",{value:"10",children:"10 pht"}),s.jsx("option",{value:"15",children:"15 pht"}),s.jsx("option",{value:"30",children:"30 pht"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"m thanh"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pht m thanh khi nhn thng bo"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"soundEnabled",className:"sr-only peer",checked:X.soundEnabled,onChange:$}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Rung"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Rung khi nhn thng bo"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"vibrateEnabled",className:"sr-only peer",checked:X.vibrateEnabled,onChange:$}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tm tt hng ngy"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Nhn tm tt hng ngy"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Nhn thng bo tm tt lch ung thuc hng ngy"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"dailyDigest",className:"sr-only peer",checked:X.dailyDigest,onChange:$}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:"Thi gian nhn tm tt"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Chn thi gian nhn thng bo tm tt"})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"time",name:"digestTime",value:X.digestTime,onChange:$,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx(F,{variant:"primary",className:"w-full",onClick:Y,children:"Lu ci t"})})]})]})})};return s.jsxs(be,{currentRole:se.CUSTOMER,userName:(p==null?void 0:p.name)||"Bnh nhn",children:[s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thuc iu tr ca ti"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l thuc v lch trnh iu tr HIV do bc s ch nh"})]}),s.jsx("div",{className:"flex space-x-3"})]})}),k.length===0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Pi,{className:"h-12 w-12 text-blue-500"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng c thuc iu tr"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"Hin ti bn khng c thuc iu tr no c ch nh. Vui lng lin h vi bc s ca bn  bit thm thng tin."}),s.jsx(F,{variant:"primary",children:"t lch khm"})]}),k.length>0&&s.jsxs(G,{className:"mb-6",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thuc iu tr hin ti theo phc "}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Phc  iu tr do bc s ch nh"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[k.length," thuc ang dng"]})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(D=>s.jsxs("div",{className:"border rounded-xl p-5 cursor-pointer transition-all hover:shadow-md border-gray-200 hover:border-green-200",onClick:()=>{e(D.id),r(!0)},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),s.jsx("p",{className:"text-sm text-gray-600",children:D.dosage})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-lg text-sm font-medium",children:D.timing}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:D.frequency})]}),s.jsx(Ms,{className:"h-5 w-5 text-gray-400"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[s.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border",children:[s.jsx("div",{className:"text-sm font-bold text-blue-600",children:D.remainingDays}),s.jsx("div",{className:"text-xs text-gray-600",children:"Ngy cn li"})]}),D.adherenceRate&&s.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border",children:[s.jsxs("div",{className:"text-sm font-bold text-purple-600",children:[D.adherenceRate,"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Tun th"})]}),s.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border",children:[s.jsx("div",{className:"text-sm font-bold text-green-600",children:"Hiu qu"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Rt cao"})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:D.category}),s.jsxs("span",{className:"text-gray-600",children:["Bt u: ",P(D.startDate).split(",")[1]]})]})]},D.id))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(G,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:s.jsx(Xe,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Lch hm nay"}),s.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("vi-VN",{weekday:"long",day:"numeric",month:"long"})})]})]}),s.jsxs(F,{variant:"primary",className:"flex items-center",onClick:()=>a(!0),children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Xem lch tun"]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:k.map(D=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:D.name}),s.jsx("p",{className:"text-sm text-gray-600",children:D.dosage})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-lg text-sm font-medium",children:D.timing}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:D.frequency})]}),s.jsx("div",{className:"h-6 w-6 border-2 border-gray-300 rounded-full hover:border-green-500 cursor-pointer transition-colors"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:D.category}),s.jsxs("button",{onClick:()=>{e(D.id),r(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center transition-colors",children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Xem chi tit"]})]})]},D.id))})})]}),s.jsxs(G,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-indigo-50",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:s.jsx(Ce,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Qun l & Lch s"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Theo di v qun l thuc iu tr"})]})]})})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 gap-3"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Lch s thuc"}),T.length>0&&s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>d(!0),children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Xem tt c"]})]}),T.length>0?s.jsx("div",{className:"space-y-3",children:T.slice(0,3).map(D=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-1 bg-gray-200 rounded",children:s.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900",children:D.name}),s.jsx("p",{className:"text-xs text-gray-600",children:D.dosage})]})]}),s.jsx("span",{className:"bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs font-medium",children:" ngng"})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsxs("p",{className:"mb-1",children:[D.startDate.toLocaleDateString("vi-VN")," - ",D.endDate.toLocaleDateString("vi-VN")]}),D.reasonStopped&&s.jsxs("p",{className:"text-blue-600 font-medium",children:["L do: ",D.reasonStopped]})]})]},D.id))}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Ce,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:"Cha c lch s thuc"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Khng c thuc no  ngng s dng"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200"})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(G,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(Vn,{className:"h-6 w-6 mr-2 text-indigo-600"}),"Thng tin quan trng v iu tr HIV"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 p-5 rounded-lg border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center",children:[s.jsx(Al,{className:"h-5 w-5 mr-2"}),"Tm quan trng ca vic tun th"]}),s.jsx("p",{className:"text-sm text-green-800 leading-relaxed",children:"Ung thuc ng gi, ng liu l cha kha thnh cng trong iu tr HIV. Tun th tt gip duy tr ti lng virus  mc khng pht hin c, bo v h min dch v ngn nga khng thuc."})]}),s.jsxs("div",{className:"bg-blue-50 p-5 rounded-lg border border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[s.jsx(Pi,{className:"h-5 w-5 mr-2"}),"U=U: Undetectable = Untransmittable"]}),s.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:"Khi ti lng virus khng pht hin c (di 50 copies/mL), bn khng th ly truyn HIV cho ngi khc qua ng tnh dc. y l mt trong nhng thnh tu y hc quan trng nht."})]})]})})]})})]}),S&&s.jsx(I,{medication:S,isOpen:n,onClose:()=>r(!1)}),s.jsx(V,{isOpen:i,onClose:()=>a(!1)}),s.jsx(L,{isOpen:c,onClose:()=>d(!1)}),s.jsx(O,{isOpen:l,onClose:()=>o(!1),medications:u})]})},$a={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7,ease:[.22,1,.36,1]}}},mB={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1,ease:[.22,1,.36,1]}}},Jf=({children:t,className:e})=>{const n=f.useRef(null),r=yV(n,{once:!0,margin:"-100px 0px"});return s.jsx(Se.section,{ref:n,initial:"hidden",animate:r?"visible":"hidden",variants:mB,className:e,children:t})},qd=()=>{const[t,e]=f.useState("all"),[n,r]=f.useState("");f.useState({});const[i,a]=f.useState(3),l=3,[o,c]=f.useState(!1),d=[{id:1,title:"Sng Khe Vi HIV",description:"Hng dn ny cung cp li khuyn thit thc  duy tr sc khe v s khe mnh khi sng vi HIV.",category:"living-with-hiv",format:"article",url:"/customer/resources/living-well-with-hiv",date:new Date("2023-02-15"),readTime:"15 pht c",isFeatured:!0,emoji:"",gradientColors:"from-blue-400/20 to-indigo-400/20"},{id:2,title:"Hiu V Liu Php Khng Retrovirus (ART)",description:"Tm hiu v cch thc hot ng ca ART, cc la chn thuc khc nhau v cc cu hi thng gp v phng php iu tr.",category:"treatment",format:"article",url:"/customer/resources/understanding-art",date:new Date("2023-03-10"),readTime:"20 pht c",isFeatured:!0,emoji:"",gradientColors:"from-purple-400/20 to-pink-400/20"},{id:3,title:"Hng Dn Dinh Dng Cho Bnh Nhn HIV",description:"Dinh dng hp l rt quan trng cho chc nng min dch. Hng dn ny a ra cc khuyn ngh v ch  n ung cho bnh nhn HIV.",category:"wellness",format:"pdf",url:"/customer/resources/nutrition-guidelines",date:new Date("2023-01-25"),readTime:"10 pht c",emoji:"",gradientColors:"from-green-400/20 to-teal-400/20"},{id:4,title:"Qun L Tc Dng Ph Ca Thuc",description:"Mo v chin lc  i ph vi cc tc dng ph ph bin ca thuc iu tr HIV.",category:"treatment",format:"article",url:"/customer/resources/managing-side-effects",date:new Date("2023-02-28"),readTime:"12 pht c",emoji:"",gradientColors:"from-yellow-400/20 to-orange-400/20"},{id:5,title:"Sc Khe Tm Thn v HIV",description:"Sng vi HIV c th nh hng n sc khe tm thn ca bn. Tm hiu v cc chin lc i ph v khi no cn tm kim s gip .",category:"wellness",format:"article",url:"/customer/resources/mental-health",date:new Date("2023-03-05"),readTime:"18 pht c",emoji:"",gradientColors:"from-violet-400/20 to-blue-400/20"},{id:6,title:"Mi Quan H v HIV",description:"Li khuyn  tho lun v tnh trng ca bn vi i tc, hn h v duy tr cuc sng x hi lnh mnh vi HIV.",category:"living-with-hiv",format:"article",url:"/customer/resources/hiv-and-relationships",date:new Date("2023-01-20"),readTime:"15 pht c",emoji:"",gradientColors:"from-red-400/20 to-pink-400/20"},{id:7,title:"Hng Dn Phng Nga HIV",description:"Thng tin v PrEP, PEP, U=U (Khng Pht Hin = Khng Ly Truyn) v cc bin php tnh dc an ton.",category:"prevention",format:"pdf",url:"/customer/resources/hiv-prevention-guide",date:new Date("2023-02-10"),readTime:"25 pht c",emoji:"",gradientColors:"from-blue-400/20 to-cyan-400/20"},{id:8,title:"Cc Nhm H Tr HIV",description:"Tm hiu v li ch ca cc nhm h tr v cch tm mt nhm trong khu vc ca bn.",category:"support",format:"article",url:"/customer/resources/support-groups",date:new Date("2023-03-15"),readTime:"8 pht c",emoji:"",gradientColors:"from-teal-400/20 to-green-400/20"},{id:9,title:"Tp Th Dc v HIV",description:"Cc khuyn ngh v hot ng th cht cho ngi sng vi HIV, bao gm li ch v cc bin php phng nga.",category:"wellness",format:"video",url:"/customer/resources/exercise-and-hiv",date:new Date("2023-02-20"),readTime:"Video 30 pht",emoji:"",gradientColors:"from-green-400/20 to-lime-400/20"},{id:10,title:"Du Lch Vi HIV",description:"Thng tin thit yu cho vic du lch vi HIV, bao gm qun l thuc v cc cn nhc quc t.",category:"living-with-hiv",format:"article",url:"/customer/resources/traveling-with-hiv",date:new Date("2023-01-30"),readTime:"12 pht c",emoji:"",gradientColors:"from-sky-400/20 to-indigo-400/20"}],u=[{id:1,url:"https://images.unsplash.com/photo-1584982751601-97dcc096659c",title:"Chm sc sc khe hin i",description:"Tip cn phng php iu tr tin tin",gradient:"from-blue-900/70 to-purple-900/50",ctaText:"Tm hiu thm",ctaLink:"/customer/resources/modern-care"},{id:2,url:"https://images.unsplash.com/photo-1579684385127-1ef15d508118",title:"H tr cng ng",description:"Cng nhau xy dng cng ng mnh m",gradient:"from-emerald-900/70 to-teal-900/50",ctaText:"Tham gia ngay",ctaLink:"/customer/resources/community"},{id:3,url:"https://images.unsplash.com/photo-1576091160550-2173dba999ef",title:"Gio dc sc khe",description:"Kin thc l sc mnh trong iu tr",gradient:"from-violet-900/70 to-indigo-900/50",ctaText:"Khm ph",ctaLink:"/customer/resources/education"}],h=[{id:1,title:"Hiu v HIV/AIDS",embedId:"hG6yjtKdJgM",description:"Tng quan v HIV/AIDS v cch phng nga",emoji:"",gradient:"from-blue-500/10 to-indigo-500/10"},{id:2,title:"Sng khe mi ngy",embedId:"oSPdW1dClSc",description:"Chia s kinh nghim sng tch cc",emoji:"",gradient:"from-green-500/10 to-emerald-500/10"},{id:3,title:"iu tr ARV hin i",embedId:"HJxdUx1D2iU",description:"Thng tin v phng php iu tr mi",emoji:"",gradient:"from-purple-500/10 to-pink-500/10"}],m=[{id:1,title:"Tin b mi trong iu tr HIV 2024",image:"https://tc.cdnchinhphu.vn/346625049939054592/2024/7/26/261-17219874180481150548081.jpg",date:"15/03/2024",excerpt:"Khm ph nhng phng php iu tr mi nht...",category:"Nghin cu",emoji:"",gradient:"from-blue-600 to-violet-600"},{id:2,title:"Dinh dng cho ngi iu tr HIV",image:"https://hellodoctors.vn/img/uploads/che-do-dinh-duong-cho-nguoi-bi-hiv-ma-nguoi-nha-nen-biet_6844.jpeg",date:"10/03/2024",excerpt:"Ch  n ung khoa hc v cn bng...",category:"Dinh dng",emoji:"",gradient:"from-green-600 to-emerald-600"},{id:3,title:"Hot ng cng ng thng 6/2025",image:"https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca",date:"05/03/2024",excerpt:"Cc hot ng h tr v giao lu cng ng...",category:"Cng ng",emoji:"",gradient:"from-purple-600 to-pink-600"}];d.filter(x=>{const b=t==="all"||x.category===t,v=n===""||x.title.toLowerCase().includes(n.toLowerCase())||x.description.toLowerCase().includes(n.toLowerCase());return b&&v}),d.filter(x=>x.isFeatured);const g=x=>{switch(x){case"living-with-hiv":return"Sng vi HIV";case"treatment":return"iu tr";case"prevention":return"Phng nga";case"support":return"H tr";case"wellness":return"Sc khe & Th cht";default:return x}},y=()=>{c(!0),setTimeout(()=>{c(!1),a(x=>Math.min(x+l,d.length))},300)};return s.jsx(be,{currentRole:se.CUSTOMER,userName:"Nguyn Vn An",children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white transition-colors duration-300",children:[s.jsx("div",{className:"relative h-[500px] overflow-hidden rounded-b-3xl shadow-xl",children:s.jsxs(Cy,{modules:[KS,qS,WS,GS],effect:"fade",spaceBetween:0,slidesPerView:1,autoplay:{delay:5e3},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet !w-3 !h-3 !mx-2 !bg-white/70 !opacity-70",bulletActiveClass:"!bg-white !opacity-100 !scale-110"},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},className:"h-full w-full",children:[u.map(x=>s.jsx(Ey,{children:s.jsxs("div",{className:"relative h-full group",children:[s.jsx("div",{className:"absolute inset-0 transition-transform duration-7000 ease-in-out group-hover:scale-105",children:s.jsx("img",{src:x.url,alt:x.title,className:"w-full h-full object-cover transition-transform"})}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${x.gradient}`}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-4 max-w-3xl",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 drop-shadow-lg font-sans tracking-tighter text-white",children:x.title}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-light drop-shadow-md mb-8",children:x.description}),s.jsxs(ue,{to:x.ctaLink,className:"inline-flex items-center px-6 py-3 text-base font-medium rounded-full text-white bg-white/20 backdrop-blur-md hover:bg-white/30 transition-all duration-300 border border-white/30 shadow-lg hover:shadow-xl",children:[x.ctaText,s.jsx("svg",{className:"ml-2 -mr-1 w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})]})},x.id)),s.jsx("div",{className:"swiper-button-prev !text-white/90 !bg-black/20 !w-12 !h-12 !rounded-full !backdrop-blur-md after:!text-lg"}),s.jsx("div",{className:"swiper-button-next !text-white/90 !bg-black/20 !w-12 !h-12 !rounded-full !backdrop-blur-md after:!text-lg"})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Jf,{className:"mb-24",children:[s.jsxs(Se.h2,{variants:$a,className:"text-3xl md:text-4xl font-bold text-gray-900 mb-10 font-sans tracking-tight flex items-center",children:[s.jsx("span",{className:"mr-3 text-4xl",children:""}),"Video Hng Dn"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:h.map(x=>s.jsxs(Se.div,{variants:$a,whileHover:{scale:1.03,y:-8,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},className:`bg-gradient-to-br ${x.gradient} rounded-2xl overflow-hidden border border-gray-100/50 shadow-lg transition-all duration-300`,children:[s.jsx("div",{className:"p-5 text-center",children:s.jsx("span",{className:"text-4xl mb-2 inline-block",children:x.emoji})}),s.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-xl overflow-hidden mx-4",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${x.embedId}`,title:x.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-xl"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 font-sans",children:x.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed font-sans",children:x.description})]})]},x.id))})]}),s.jsxs(Jf,{className:"mb-24",children:[s.jsxs(Se.h2,{variants:$a,className:"text-3xl md:text-4xl font-bold text-gray-900 mb-10 font-sans tracking-tight flex items-center",children:[s.jsx("span",{className:"mr-3 text-4xl",children:""}),"Bi Vit Mi Nht"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:m.map(x=>s.jsxs(Se.div,{variants:$a,whileHover:{scale:1.03,y:-8,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100/50 transition-all duration-300",children:[s.jsxs("div",{className:"relative overflow-hidden h-56",children:[s.jsx("div",{className:"absolute inset-0 transition-transform duration-700 ease-in-out group-hover:scale-110",children:s.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium text-white bg-gradient-to-r ${x.gradient}`,children:[s.jsx("span",{className:"mr-1",children:x.emoji}),x.category]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium mb-2 font-sans tracking-wider",children:x.date}),s.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-800 font-sans",children:x.title}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed font-sans",children:x.excerpt}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center group transition-colors duration-200 font-sans",children:["c thm",s.jsx("svg",{className:"ml-2 w-4 h-4 transform group-hover:translate-x-2 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},x.id))})]}),s.jsxs(Jf,{className:"mb-24",children:[s.jsxs(Se.h2,{variants:$a,className:"text-3xl md:text-4xl font-bold text-gray-900 mb-10 font-sans tracking-tight flex items-center",children:[s.jsx("span",{className:"mr-3 text-4xl",children:""}),"Ti Nguyn Hc Tp"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:s.jsx(gy,{children:d.slice(0,i).map(x=>s.jsxs(Se.div,{variants:$a,initial:"hidden",animate:"visible",exit:"exit",whileHover:{scale:1.03,y:-8,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},className:`bg-gradient-to-br ${x.gradientColors} rounded-2xl shadow-lg overflow-hidden border border-gray-100/50 transition-all duration-300`,children:[s.jsx("div",{className:"text-center pt-6",children:s.jsx("span",{className:"text-4xl inline-block mb-2",children:x.emoji})}),s.jsx(ue,{to:x.url,className:"block p-6",children:s.jsx("div",{className:"flex items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 hover:text-blue-600 mb-3 font-sans transition-colors duration-300",children:x.title}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed font-sans",children:x.description}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-1.5 rounded-full mr-3 font-medium font-sans shadow-sm",children:g(x.category)}),s.jsxs("span",{className:"text-gray-500 font-sans flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),x.readTime]})]})]})})})]},x.id))})}),i<d.length&&s.jsxs(Se.div,{className:"text-center mt-16",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[s.jsxs("button",{onClick:y,className:`inline-flex items-center px-8 py-4 border border-transparent text-base font-medium rounded-full text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 shadow-lg hover:shadow-xl transform ${o?"scale-95":"hover:scale-105"}`,children:["Xem thm ti nguyn",s.jsx("svg",{className:"ml-2 -mr-1 w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),s.jsxs("p",{className:"mt-4 text-sm text-gray-500 font-sans",children:["Hin th ",i," trn tng s ",d.length," ti nguyn"]})]})]})]})]})})},fB=({onBookingComplete:t=null})=>{const e=hs(),[n,r]=f.useState(1),[i,a]=f.useState(null),[l,o]=f.useState(null),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,g]=f.useState([]),[y,x]=f.useState([]),[b,v]=f.useState(null),[p,j]=f.useState({symptoms:"",medicalHistory:"",notes:"",isUrgent:!1,isAnonymous:!1}),[N,w]=f.useState(!1),[E,M]=f.useState(!1),[k,T]=f.useState(null),[S,P]=f.useState(!1),C=6;f.useEffect(()=>{if(!Ee.isAuthenticated()){e("/login",{state:{from:"/customer/online-consultation/new",message:"Bn cn ng nhp  t lch t vn online"}});return}A()},[e]);const A=async()=>{M(!0),T(null);try{const[$,Y]=await Promise.all([as.getServices(),as.getDoctors()]);if($.success){const _=$.data.find(H=>H.id===C||H.name.toLowerCase().includes("t vn")||H.name.toLowerCase().includes("counseling"));_?v(_):$.data.length>0?v($.data[0]):T("Khng tm thy dch v t vn trc tuyn")}Y.success&&(x(Y.data),h(Y.data))}catch($){console.error("Error loading initial data:",$),T($.message)}finally{M(!1)}};f.useEffect(()=>{i&&l&&b&&I()},[i,l,b]);const I=async()=>{if(!(!i||!l||!b)){M(!0),T(null);try{const $=await as.getAvailableSlots(i.id,as.formatDateForAPI(l),b.id);$.success?g($.data):(T($.message||"Khng th ti thng tin khung gi trng"),g([]))}catch($){console.error("Error loading available slots:",$),T($.message),g([])}finally{M(!1)}}},V=$=>{a($),o(null),d(null),g([])},L=$=>{o($),d(null)},O=$=>{$.isAvailable&&(d($),r(2))},D=$=>{const{name:Y,value:_,type:H,checked:U}=$.target;j({...p,[Y]:H==="checkbox"?U:_})},R=async $=>{if($.preventDefault(),!b||!i||!l||!c){T("Vui lng in y  thng tin");return}w(!0),T(null);try{const Y=as.formatDateTimeForAPI(l,c.startTime);console.log("Formatted scheduledAt:",Y);const _={doctorId:i.id,serviceId:b.id,scheduledAt:Y,scheduleId:c.scheduleId,symptoms:p.symptoms,notes:p.notes,isOnline:!0,isAnonymous:p.isAnonymous,autoConfirm:!0};console.log("Online consultation data being sent:",_);const H=await as.bookAppointment(_);H.success?(P(!0),r(3),t&&t(H.data)):T(H.message||"Khng th t lch t vn online")}catch(Y){console.error("Error booking online consultation:",Y),T(Y.message)}finally{w(!1)}},B=()=>{r(1),a(null),o(null),d(null),g([]),j({symptoms:"",medicalHistory:"",notes:"",isUrgent:!1,isAnonymous:!1}),T(null),P(!1)},X=$=>new Date($).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Z=()=>{const $=[],Y=new Date;for(let _=0;_<=14;_++){const H=new Date(Y);H.setDate(Y.getDate()+_),$.push(H.toISOString().split("T")[0])}return $};return E&&n===1?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]})}):s.jsxs("div",{className:"space-y-6",children:[k&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-red-400"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-800",children:k})})]})}),s.jsx("div",{className:"relative flex items-center justify-center space-x-4 mb-8",children:[1,2,3].map($=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`relative z-10 w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300 ${n>=$?"bg-primary-600 text-white shadow-md":"bg-gray-200 text-gray-500"}`,children:n>$?s.jsx(Se.svg,{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):$}),$<3&&s.jsxs("div",{className:"relative w-16 mx-2",children:[s.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 h-1 w-full ${n>$?"bg-primary-600":"bg-gray-200"}`}),n>$&&s.jsx(Se.div,{className:"absolute top-1/2 -translate-y-1/2 h-1 bg-primary-600",initial:{width:0},animate:{width:"100%"},transition:{duration:.3,delay:.2}})]})]},$))}),s.jsxs("div",{className:"flex justify-center space-x-8 mb-6",children:[s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=1?"text-primary-600":"text-gray-500"}`,children:"Chn bc s"})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=2?"text-primary-600":"text-gray-500"}`,children:"Chn thi gian"})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ${n>=3?"text-primary-600":"text-gray-500"}`,children:"Xc nhn thng tin"})})]}),n===1&&s.jsx("div",{className:"space-y-6",children:s.jsx(G,{title:"Chn bc s t vn trc tuyn",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Chn bc s"}),u.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"ang ti danh sch bc s..."})]}):s.jsx("div",{className:"space-y-3",children:u.map($=>s.jsxs(Se.div,{className:`border rounded-lg p-4 cursor-pointer transition-all duration-200 relative overflow-hidden ${(i==null?void 0:i.id)===$.id?"border-primary-500 bg-primary-50/70 shadow-md":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"}`,onClick:()=>V($),whileHover:{y:-2},whileTap:{scale:.98},children:[(i==null?void 0:i.id)===$.id&&s.jsx(Se.div,{className:"absolute top-3 right-3 bg-primary-500 text-white rounded-full p-1 shadow-sm",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:$.avatarUrl?s.jsx("img",{src:$.avatarUrl,alt:$.name,className:"w-16 h-16 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-full flex items-center justify-center border border-blue-200 shadow-sm",children:s.jsx(Be,{className:"h-8 w-8 text-blue-600"})})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:$.name}),s.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[s.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs font-medium inline-flex items-center px-2 py-0.5 rounded-full",children:$.specialty}),$.degree&&s.jsx("div",{className:"bg-purple-100 text-purple-800 text-xs font-medium inline-flex items-center px-2 py-0.5 rounded-full",children:$.degree})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-y-1 text-sm text-gray-600",children:[$.experienceYears&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsxs("span",{children:["Kinh nghim: ",$.experienceYears," nm"]})]}),$.email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("span",{children:$.email})]}),$.phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-4 w-4 mr-1 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("span",{children:$.phone})]})]})]}),s.jsx("div",{className:"text-primary-600 self-center ml-2",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),$.bio&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:$.bio})})]},$.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:i?`Lch lm vic - ${i.name}`:"Chn bc s  xem lch"}),i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Chn ngy t vn"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:Z().slice(0,8).map($=>{const Y=new Date($),_=l===$,H=!0;return s.jsxs(Se.button,{className:`p-3 text-left rounded-lg border transition-all duration-200 ${_?"border-primary-500 bg-primary-500 text-white shadow-md":"border-gray-200 hover:border-primary-300 hover:bg-primary-50 text-gray-700"}`,onClick:()=>L($),whileHover:{y:-2,scale:1.02},whileTap:{scale:.98},disabled:!H,children:[s.jsx("div",{className:"text-sm font-medium",children:Y.toLocaleDateString("vi-VN",{weekday:"short"})}),s.jsx("div",{className:`text-center font-bold ${_?"text-white":"text-gray-800"}`,children:Y.getDate()}),s.jsx("div",{className:`text-xs text-center ${_?"text-white":"text-gray-500"}`,children:Y.toLocaleDateString("vi-VN",{month:"short"})}),!_&&s.jsx("div",{className:"flex justify-center mt-1",children:s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-500"})})]},$)})})]}),l&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Chn gi t vn - ",X(l)]}),E?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(6)].map(($,Y)=>s.jsx("div",{className:"h-10 bg-gray-200 rounded-lg animate-pulse"},Y))}):m.length===0?s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(ve,{className:"h-10 w-10 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"Khng c khung gi no kh dng trong ngy ny"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Vui lng chn ngy khc hoc lin h vi chng ti"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map($=>s.jsxs(Se.button,{className:`p-3 text-center rounded-lg border text-sm transition-all duration-200 relative ${(c==null?void 0:c.startTime)===$.startTime?"border-primary-500 bg-primary-500 text-white shadow-md":$.isAvailable?"border-gray-200 hover:border-primary-300 hover:bg-primary-50 text-gray-700":"border-red-100 bg-red-50 text-red-400 cursor-not-allowed relative overflow-hidden"}`,onClick:()=>O($),disabled:!$.isAvailable,whileHover:$.isAvailable?{y:-2,scale:1.03}:{},whileTap:$.isAvailable?{scale:.98}:{},title:$.isAvailable?"":"Khung gi ny  c t",children:[$.displayTime||`${$.startTime} - ${$.endTime}`,(c==null?void 0:c.startTime)===$.startTime&&s.jsx(Se.div,{className:"absolute -top-1 -right-1 bg-white text-primary-500 rounded-full p-0.5 shadow-sm border border-primary-500",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),!$.isAvailable&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-red-50/80 backdrop-blur-[1px]"}),s.jsx("div",{className:"relative z-10 text-xs text-red-500 font-medium px-1 py-0.5 bg-white/50 rounded-sm",children:" t"})]})})]},`${$.startTime}-${$.endTime}`))})]})]}):s.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(ve,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"Vui lng chn bc s  xem lch lm vic"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chn mt bc s t danh sch bn tri  xem lch lm vic v t lch t vn trc tuyn"})]})]})]})})})}),n===2&&s.jsx(G,{title:"Xc nhn thng tin t lch",children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:R,children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ve,{className:"h-5 w-5 text-primary-500 mr-2"}),"Thng tin lch hn"]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(no,{className:"h-4 w-4 text-blue-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Dch v"}),s.jsx("p",{className:"font-medium text-gray-900",children:"T vn trc tuyn"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:s.jsx(Be,{className:"h-4 w-4 text-indigo-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Bc s"}),s.jsx("p",{className:"font-medium text-gray-900",children:i==null?void 0:i.name}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[(i==null?void 0:i.specialty)&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full",children:i.specialty}),(i==null?void 0:i.degree)&&s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-0.5 rounded-full",children:i.degree})]}),(i==null?void 0:i.experienceYears)&&s.jsxs("p",{className:"mt-1",children:["Kinh nghim: ",i.experienceYears," nm"]}),(i==null?void 0:i.phone)&&s.jsxs("p",{className:"mt-1",children:["ST: ",i.phone]})]})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(ve,{className:"h-4 w-4 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngy khm"}),s.jsx("p",{className:"font-medium text-gray-900",children:X(l)})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 mt-0.5",children:s.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:s.jsx(Ce,{className:"h-4 w-4 text-amber-600"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Gi khm"}),s.jsx("p",{className:"font-medium text-gray-900",children:(c==null?void 0:c.displayTime)||`${c==null?void 0:c.startTime} - ${c==null?void 0:c.endTime}`})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ze,{className:"h-5 w-5 text-primary-500 mr-2"}),"Thng tin bnh nhn"]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"symptoms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Triu chng hin ti"}),s.jsx("textarea",{id:"symptoms",name:"symptoms",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"M t cc triu chng bn ang gp phi...",value:p.symptoms,onChange:D})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"medicalHistory",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tin s bnh"}),s.jsx("textarea",{id:"medicalHistory",name:"medicalHistory",rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"Tin s bnh n, cc bnh  mc, thuc ang s dng...",value:p.medicalHistory||"",onChange:D})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi ch thm"}),s.jsx("textarea",{id:"notes",name:"notes",rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 transition-all duration-200",placeholder:"Ghi ch thm cho bc s...",value:p.notes,onChange:D})]}),s.jsx("div",{className:"flex items-center mt-4",children:s.jsxs("div",{className:"flex items-center h-12",children:[s.jsx("input",{id:"isAnonymous",name:"isAnonymous",type:"checkbox",checked:p.isAnonymous,onChange:D,className:"h-5 w-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),s.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 block text-sm text-gray-700 font-medium",children:"T vn n danh (tn v thng tin c nhn s c gi kn vi bc s)"})]})})]}),s.jsxs("div",{className:"mt-8 flex justify-between",children:[s.jsx(Se.div,{whileHover:{x:-2},whileTap:{scale:.98},children:s.jsx(F,{variant:"outline",onClick:()=>r(1),children:" Quay li"})}),s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{type:"submit",variant:"primary",disabled:N,className:"px-8 py-2.5 shadow-md hover:shadow-lg text-base font-medium relative",children:N?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):"Xc nhn t lch"})})]})]})})}),n===3&&S&&s.jsx(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring",stiffness:100},children:s.jsx(G,{className:"border-t-4 border-t-green-500 shadow-lg",children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-6 relative mx-auto w-20 h-20",children:[s.jsx(Se.div,{className:"absolute inset-0 rounded-full bg-green-100",initial:{scale:0},animate:{scale:1.5,opacity:0},transition:{repeat:1/0,duration:1.5,ease:"easeOut",delay:.2}}),s.jsx(Se.div,{className:"absolute inset-0 rounded-full bg-green-100",initial:{scale:0},animate:{scale:1.3,opacity:0},transition:{repeat:1/0,duration:1.5,ease:"easeOut",delay:.6}}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Se.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},children:s.jsx(Xe,{className:"h-12 w-12 text-green-600"})})})]}),s.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"t lch t vn thnh cng!"}),s.jsxs("p",{className:"text-gray-600 mb-3 max-w-md mx-auto",children:["Lch hn t vn trc tuyn ca bn  c ",s.jsx("span",{className:"text-green-600 font-medium",children:"t ng xc nhn"}),". Bn khng cn ch xc nhn t nhn vin."]}),s.jsx("p",{className:"text-gray-500 text-sm mb-8 max-w-md mx-auto",children:"Bn s nhn c thng bo qua email v SMS trc thi gian hn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{variant:"primary",onClick:()=>e("/customer/appointments"),className:"shadow-md hover:shadow-lg px-6",children:"Lch hn ca bn"})}),s.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:s.jsx(F,{variant:"outline",onClick:B,className:"border-gray-300 hover:bg-gray-50",children:"t lch t vn khc"})})]})]})]})})})]})},Vj=()=>{const t=ks(),e=hs(),[n,r]=f.useState(!0),[i,a]=f.useState(!1),[l,o]=f.useState(null);f.useEffect(()=>{if(!Ee.isAuthenticated()){e("/login",{state:{from:t.pathname,message:"Bn cn ng nhp  t lch t vn online"}});return}},[t.pathname,e]);const c=()=>{e("/customer/appointments")};return s.jsx(be,{currentRole:se.CUSTOMER,pageTitle:"t lch t vn online",headerText:"t lch t vn online",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:i?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx(at,{className:"animate-spin h-12 w-12 text-primary-600"})}):s.jsxs(s.Fragment,{children:[l&&s.jsxs("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md flex items-start",children:[s.jsx(ze,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:l})]}),n?s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-blue-50 p-4 md:p-6 rounded-lg mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 text-primary-700 flex items-center",children:[s.jsx(no,{className:"h-6 w-6 mr-2"}),"T vn trc tuyn"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 bg-blue-100 p-2 rounded-full h-fit",children:s.jsx(Ce,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"Tit kim thi gian"}),s.jsx("p",{className:"text-sm text-gray-600",children:"T vn t xa khng cn di chuyn, tit kim thi gian i li."})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 bg-blue-100 p-2 rounded-full h-fit",children:s.jsx(S0,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"An ton & Bo mt"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Kt ni c m ha, m bo thng tin ring t ca bn."})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"mr-3 bg-blue-100 p-2 rounded-full h-fit",children:s.jsx(JA,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"T vn n danh"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ty chn t vn n danh nu bn mun gi kn danh tnh."})]})]})]})]}),s.jsx(fB,{onBookingComplete:c})]}):s.jsxs("div",{className:"text-center py-10",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Xe,{className:"h-16 w-16 text-green-500 mx-auto"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"t lch thnh cng!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Lch t vn trc tuyn ca bn  c xc nhn."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(F,{variant:"outline",onClick:()=>e("/customer/appointments"),children:"Xem lch hn ca ti"}),s.jsx(F,{variant:"primary",onClick:()=>r(!0),children:"t lch t vn mi"})]})]})]})})})},gB=()=>{const t=hs(),e=n=>{n==="lab-test"?t("/customer/appointments/new"):n==="online-consultation"&&t("/customer/online-consultation/new")};return s.jsx(be,{currentRole:se.CUSTOMER,pageTitle:"t lch hn",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Chn loi lch hn"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{onClick:()=>e("lab-test"),className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden group",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("div",{className:"p-3 bg-blue-50 rounded-full group-hover:bg-blue-100 transition-colors",children:s.jsx(Ie,{className:"w-8 h-8 text-blue-600"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-700 transition-colors",children:"t lch xt nghim"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"t lch xt nghim trc tip ti phng khm vi cc bc s chuyn khoa."}),s.jsxs("div",{className:"flex items-center text-blue-600 font-medium group-hover:translate-x-1 transition-transform",children:[s.jsx("span",{children:"Chn"}),s.jsx(Lc,{className:"w-4 h-4 ml-1"})]})]})}),s.jsx("div",{onClick:()=>e("online-consultation"),className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer overflow-hidden group",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("div",{className:"p-3 bg-green-50 rounded-full group-hover:bg-green-100 transition-colors",children:s.jsx(no,{className:"w-8 h-8 text-green-600"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-green-700 transition-colors",children:"T vn trc tuyn"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"t lch t vn trc tuyn vi bc s qua video call, thun tin v bo mt."}),s.jsxs("div",{className:"flex items-center text-green-600 font-medium group-hover:translate-x-1 transition-transform",children:[s.jsx("span",{children:"Chn"}),s.jsx(Lc,{className:"w-4 h-4 ml-1"})]})]})})]}),s.jsx("div",{className:"mt-8 bg-blue-50 rounded-lg p-4 border border-blue-100",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("span",{className:"font-medium",children:"Lu :"})," i vi cc dch v xt nghim, bn cn n trc tip c s y t. Cc cuc t vn trc tuyn c thc hin qua video call vi bc s chuyn khoa."]})})]})})})},xB=()=>{const[t,e]=f.useState([{id:"appointments",type:"Nhc nh Lch hn",description:"Nhn thng bo v lch hn sp ti v thay i lch trnh",email:!0,sms:!0,push:!0},{id:"test-results",type:"Kt qu Xt nghim",description:"Nhn thng bo khi c kt qu xt nghim mi",email:!0,sms:!0,push:!0},{id:"medications",type:"Nhc nh Thuc",description:"Nhn li nhc khi n gi ung thuc",email:!1,sms:!0,push:!0},{id:"resources",type:"Ti nguyn Mi",description:"c thng bo khi c ti liu gio dc mi",email:!0,sms:!1,push:!0},{id:"system",type:"Cp nht H thng",description:"Nhn thng bo v bo tr h thng v cp nht",email:!0,sms:!1,push:!1}]),[n,r]=f.useState([{id:"data-collection",label:"Thu thp D liu",description:"Cho php thu thp d liu s dng  ci thin tri nghim ca bn",enabled:!0},{id:"third-party",label:"Chia s bn Th ba",description:"Chia s d liu khng nh danh ca bn vi cc i tc tin cy cho mc ch nghin cu",enabled:!1},{id:"location",label:"Dch v V tr",description:"Cho php truy cp v tr ca bn  tm kim ti nguyn v dch v gn ",enabled:!0},{id:"cookies",label:"Chp nhn Cookies",description:"Cho php h thng lu tr cookie trn thit b ca bn  c hiu sut tt hn",enabled:!1}]),[i,a]=f.useState({language:"Ting Vit",theme:"Sng",fontSize:"Trung bnh",colorBlindMode:!1}),l=(u,h)=>{e(t.map(m=>m.id===u?{...m,[h]:!m[h]}:m))},o=u=>{r(n.map(h=>h.id===u?{...h,enabled:!h.enabled}:h))},c=u=>{const{name:h,value:m,type:g,checked:y}=u.target;a({...i,[h]:g==="checkbox"?y:m})},d=()=>{console.log("ang lu ci t..."),console.log("Ci t thng bo",t),console.log("Ci t quyn ring t",n),console.log("Ty chn hin th",i)};return s.jsx(be,{currentRole:se.CUSTOMER,userName:"Minh",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t"}),s.jsx(F,{variant:"primary",onClick:d,children:"Lu thay i"})]}),s.jsxs(G,{className:"mb-6",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ci t Thng bo"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l cch bn nhn thng bo t H thng iu tr HIV."})]}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi thng bo"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SMS"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Push"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.type}),s.jsx("div",{className:"text-sm text-gray-500",children:u.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:u.email,onChange:()=>l(u.id,"email")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:u.sms,onChange:()=>l(u.id,"sms")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:u.push,onChange:()=>l(u.id,"push")})})]},u.id))})]})})})]}),s.jsxs(G,{className:"mb-6",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ci t Quyn ring t"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l cch d liu ca bn c s dng v chia s."})]}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsx("div",{className:"space-y-6",children:n.map(u=>s.jsxs("div",{className:"relative flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:u.id,type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:u.enabled,onChange:()=>o(u.id)})}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:u.id,className:"font-medium text-gray-700",children:u.label}),s.jsx("p",{className:"text-gray-500",children:u.description})]})]},u.id))})})]}),s.jsxs(G,{className:"mb-6",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ty chn Hin th"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ty chnh tri nghim ngi dng ca bn."})]}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700",children:"Ngn ng"}),s.jsxs("select",{id:"language",name:"language",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:i.language,onChange:c,children:[s.jsx("option",{children:"Ting Vit"}),s.jsx("option",{children:"English"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700",children:"Giao din"}),s.jsxs("select",{id:"theme",name:"theme",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:i.theme,onChange:c,children:[s.jsx("option",{children:"Sng"}),s.jsx("option",{children:"Ti"}),s.jsx("option",{children:"T ng"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fontSize",className:"block text-sm font-medium text-gray-700",children:"C ch"}),s.jsxs("select",{id:"fontSize",name:"fontSize",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:i.fontSize,onChange:c,children:[s.jsx("option",{children:"Nh"}),s.jsx("option",{children:"Trung bnh"}),s.jsx("option",{children:"Ln"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"colorBlindMode",name:"colorBlindMode",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:i.colorBlindMode,onChange:c})}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"colorBlindMode",className:"font-medium text-gray-700",children:"Ch  h tr ngi m mu"}),s.jsx("p",{className:"text-gray-500",children:"iu chnh mu sc  d nhn hn cho ngi m mu"})]})]})]})})]}),s.jsxs(G,{className:"mb-6",children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ci t Bo mt"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l cc ty chn bo mt cho ti khon ca bn."})]}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs(F,{variant:"outline",className:"w-full sm:w-auto flex items-center justify-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Thay i mt khu"]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"two-factor",className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc thc hai yu t"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",className:"bg-gray-200 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",role:"switch","aria-checked":"false",children:s.jsx("span",{className:"translate-x-0 pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200",children:s.jsx("span",{className:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-100 ease-in duration-200",children:s.jsx("svg",{className:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12",children:s.jsx("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})})}),s.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"Cha c kch hot. Kch hot  thm lp bo mt cho ti khon ca bn."})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Thit b  ng nhp"}),s.jsxs("div",{className:"bg-gray-50 rounded-md p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Chrome trn Windows"}),s.jsx("p",{className:"text-xs text-gray-500",children:"H Ni, Vit Nam  Hot ng gn y"})]}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Hin ti"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Safari trn iPhone"}),s.jsx("p",{className:"text-xs text-gray-500",children:"H Ch Minh, Vit Nam  2 ngy trc"})]}),s.jsx(F,{variant:"text",size:"sm",className:"text-red-600",children:"ng xut"})]})]})]})]})})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Qun l D liu"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l d liu c nhn ca bn trong h thng."})]}),s.jsx("div",{className:"px-4 py-5 sm:p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(F,{variant:"outline",className:"mr-3",children:"Ti xung d liu ca ti"}),s.jsx(F,{variant:"danger",children:"Xa ti khon"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{children:"Xa ti khon s:"}),s.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[s.jsx("li",{children:"Loi b vnh vin thng tin c nhn ca bn khi h thng"}),s.jsx("li",{children:"Hy tt c cc lch hn sp ti"}),s.jsx("li",{children:"Xa tt c ty chn ci t v ty chnh"}),s.jsx("li",{children:"ng xut khi tt c cc thit b"})]})]})]})})]})]})})},Ks="http://localhost:8080/api";class pB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?{success:!1,message:e.response.data.message||"API Error",statusCode:e.response.status}:{success:!1,message:e.message||"Network Error",statusCode:500}}async getAllAppointments(){try{return(await Q.get(`${Ks}/appointments/doctor/all`)).data}catch(e){throw console.error("Error fetching all appointments:",e),this.handleApiError(e)}}async getTodayAppointments(){try{return(await Q.get(`${Ks}/appointments/doctor/today`)).data}catch(e){throw console.error("Error fetching today's appointments:",e),this.handleApiError(e)}}async completeAppointment(e,n){try{return(await Q.put(`${Ks}/appointments/doctor/${e}/complete`,{notes:n})).data}catch(r){throw console.error("Error completing appointment:",r),r.response&&r.response.data&&r.response.data.message&&r.response.data.message.includes("checked-in")?new Error("Bnh nhn cha check-in. Vui lng check-in bnh nhn trc khi hon thnh cuc hn."):this.handleApiError(r)}}async cancelAppointment(e,n){try{return(await Q.put(`${Ks}/appointments/doctor/${e}/cancel`,{reason:n})).data}catch(r){throw console.error("Error cancelling appointment:",r),this.handleApiError(r)}}async markNoShow(e,n){try{return(await Q.put(`${Ks}/appointments/doctor/${e}/no-show`,{notes:n})).data}catch(r){throw console.error("Error marking appointment as no-show:",r),this.handleApiError(r)}}async checkInPatient(e){try{return(await Q.put(`${Ks}/appointments/doctor/${e}/checkin`)).data}catch(n){throw console.error("Error checking in patient:",n),this.handleApiError(n)}}async getCompletedAppointments(){try{return(await Q.get(`${Ks}/appointments/doctor/status/COMPLETED`)).data}catch(e){return console.error("Error fetching completed appointments:",e),this.handleApiError(e)}}async putUnderReview(e,n,r,i,a){try{console.log("putUnderReview called with params:",{appointmentId:e,notes:n,bloodPressure:r,bloodSampleRequested:i,symptoms:a});const l={notes:n,bloodPressure:r,bloodSampleRequested:i,symptoms:a,updatedSymptoms:a};console.log("Sending request data:",l);const o=await Q.put(`${Ks}/appointments/doctor/${e}/under-review`,l);return console.log("Response from API:",o.data),o.data}catch(l){throw console.error("Error putting appointment under review:",l),l.response&&l.response.data&&l.response.data.message&&l.response.data.message.includes("checked-in")?new Error("Bnh nhn cha check-in. Vui lng m bo bnh nhn  check-in trc khi tip nhn h s."):this.handleApiError(l)}}async completeAppointmentWithTreatment(e,n={}){try{return(await Q.put(`${Ks}/appointments/doctor/${e}/complete-with-treatment`,n)).data}catch(r){throw console.error("Error completing appointment with treatment:",r),this.handleApiError(r)}}async getUnderReviewAppointments(){try{return(await Q.get(`${Ks}/appointments/doctor/status/UNDER_REVIEW`)).data}catch(e){return console.error("Error fetching under review appointments:",e),this.handleApiError(e)}}async updateAppointmentSymptoms(e,n){try{console.log(`Updating symptoms for appointment ${e}:`,n);const r=await Q.put(`${Ks}/appointments/doctor/${e}/update-symptoms`,{symptoms:n});return console.log("Symptoms update response:",r.data),r.data}catch(r){return console.error("Error updating appointment symptoms:",r),this.handleApiError(r)}}async testPutUnderReview(e){try{const n="Test symptoms from doctor "+new Date().toISOString();console.log("Testing PUT under-review with symptoms:",n);const r=await Q.put(`${Ks}/appointments/doctor/${e}/under-review`,{notes:"Test notes",bloodPressure:"120/80",bloodSampleRequested:!0,symptoms:n});return console.log("Test response:",r.data),r.data}catch(n){throw console.error("Test error:",n),this.handleApiError(n)}}async testUpdateSymptoms(e){try{const n="Test symptoms update "+new Date().toISOString();console.log("Testing UPDATE-SYMPTOMS with:",n);const r=await Q.put(`${Ks}/appointments/doctor/${e}/update-symptoms`,{symptoms:n});return console.log("Test response:",r.data),r.data}catch(n){throw console.error("Test error:",n),this.handleApiError(n)}}}const Mn=new pB,Zr="http://localhost:8080/api";class yB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?{success:!1,message:e.response.data.message||"API Error",statusCode:e.response.status}:{success:!1,message:e.message||"Network Error",statusCode:500}}async getDoctorProfile(e){try{return(await Q.get(`${Zr}/doctors/my-profile`,{params:{userId:e}})).data}catch(n){throw console.error("Error fetching doctor profile:",n),this.handleApiError(n)}}async getPatients(e){try{const n=await Q.get(`${Zr}/patients/doctor/${e}`);return{success:!0,data:n.data.data||n.data,message:"Patients retrieved successfully"}}catch(n){return console.error("Error fetching patients:",n),this.handleApiError(n)}}async searchPatients(e,n){try{return(await Q.get(`${Zr}/patients/doctor/${e}/search`,{params:{searchTerm:n}})).data}catch(r){throw console.error("Error searching patients:",r),this.handleApiError(r)}}async getPatientDetails(e,n){try{return(await Q.get(`${Zr}/patients/${e}/doctor/${n}`)).data}catch(r){throw console.error("Error fetching patient details:",r),this.handleApiError(r)}}async updatePatientHealthStatus(e,n,r,i){try{return(await Q.put(`${Zr}/patients/${e}/doctor/${n}/health-status`,{healthStatus:r,notes:i})).data}catch(a){throw console.error("Error updating patient health status:",a),this.handleApiError(a)}}async getUpcomingAppointments(e,n=10){try{const i=(await Q.get(`${Zr}/appointments/doctor/${e}`)).data;if(i.success&&i.data){const a=i.data.filter(l=>new Date(l.date)>=new Date).slice(0,n);return{...i,data:a}}return i}catch(r){throw console.error("Error fetching upcoming appointments:",r),this.handleApiError(r)}}async getTodayAppointments(e){try{const r=new Date().toISOString().split("T")[0];return(await Q.get(`${Zr}/appointments/doctor/${e}/date`,{params:{date:`${r}T00:00:00`}})).data}catch(n){throw console.error("Error fetching today appointments:",n),this.handleApiError(n)}}async getDoctorMonthlySchedule(e,n,r){try{return(await Q.get(`${Zr}/doctor-schedules/doctor/${e}/month`,{params:{year:n,month:r}})).data}catch(i){throw console.error("Error fetching doctor monthly schedule:",i),this.handleApiError(i)}}getPatientStatusColor(e){switch(e==null?void 0:e.toLowerCase()){case"stable":return"bg-green-100 text-green-800";case"attention":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";case"new":return"bg-blue-100 text-blue-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}getPatientStatusText(e){switch(e==null?void 0:e.toLowerCase()){case"stable":return"n nh";case"attention":return"Cn ch ";case"critical":return"Nguy him";case"new":return"Bnh nhn mi";case"inactive":return"Khng hot ng";default:return e||"Khng xc nh"}}}const _n=new yB,Xt="http://localhost:8080/api";class vB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?{success:!1,message:e.response.data.message||"API Error",statusCode:e.response.status}:{success:!1,message:e.message||"Network Error",statusCode:500}}async getTreatmentPlans(e=null,n=null){try{let r=`${Xt}/doctor/treatment-plans`;const i=new URLSearchParams;e&&i.append("status",e),n&&i.append("search",n);const a=i.toString();return a&&(r+=`?${a}`),{success:!0,data:(await Q.get(r)).data.data,message:"Treatment plans retrieved successfully"}}catch(r){return console.error("Error fetching treatment plans with filters:",r),this.handleApiError(r)}}async getDoctorTreatmentPlans(){try{return(await Q.get(`${TREATMENT_PLANS_URL}/doctor`)).data}catch(e){return console.error("Error fetching doctor treatment plans:",e),this.handleApiError(e)}}async getTreatmentPlanById(e){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/${e}`)).data.data,message:"Treatment plan retrieved successfully"}}catch(n){return console.error(`Error fetching treatment plan ${e}:`,n),this.handleApiError(n)}}async createTreatmentPlan(e){var n,r;try{if(console.log("Creating treatment plan with data:",{patientId:e.patientId,appointmentId:e.appointmentId,description:e.description,startDate:e.startDate,medicationsCount:((n=e.medications)==null?void 0:n.length)||0}),!e.patientId)return console.error("Missing patientId in treatmentPlanData"),{success:!1,message:"Missing required field: patientId"};e.startDate&&(e.startDate=new Date(e.startDate).toISOString().split("T")[0]),e.endDate&&(e.endDate=new Date(e.endDate).toISOString().split("T")[0]),e.nextAppointmentDate&&(e.nextAppointmentDate=new Date(e.nextAppointmentDate).toISOString().split("T")[0]),e.medications&&e.medications.length>0&&(console.log("Medications in treatment plan before processing:",e.medications),e.medications=e.medications.map(a=>{const l={...a};if(l.startDate&&(l.startDate=new Date(l.startDate).toISOString().split("T")[0]),l.endDate&&(l.endDate=new Date(l.endDate).toISOString().split("T")[0]),!l.prescribedBy){const o=localStorage.getItem("doctorName");l.prescribedBy=o||"Bc s iu tr",console.log(`Setting prescribedBy to ${l.prescribedBy} for medication`)}return l.instructions||(l.instructions=""),l}),console.log("Medications in treatment plan after processing:",e.medications));const i={...e};if(console.log("Sending data to API:",i),e.skipAppointmentCheck){const a=await Q.post(`${Xt}/doctor/treatment-plans?skipAppointmentCheck=true`,i);return console.log("Backend response for create treatment plan (skipping appointment check):",a.data),{success:!0,data:a.data.data,message:"Treatment plan created successfully"}}else{const a=await Q.post(`${Xt}/doctor/treatment-plans`,i);return console.log("Backend response for create treatment plan:",a.data),{success:!0,data:a.data.data,message:"Treatment plan created successfully"}}}catch(i){return console.error("Error creating treatment plan:",i),console.error("Error response data:",(r=i.response)==null?void 0:r.data),this.handleApiError(i)}}async updateTreatmentPlan(e,n){try{return{success:!0,data:(await Q.put(`${Xt}/doctor/treatment-plans/${e}`,n)).data.data,message:"Treatment plan updated successfully"}}catch(r){return console.error(`Error updating treatment plan ${e}:`,r),this.handleApiError(r)}}async addMedication(e,n){try{return{success:!0,data:(await Q.post(`${Xt}/doctor/treatment-plans/${e}/medications`,n)).data.data,message:"Medication added successfully"}}catch(r){return console.error(`Error adding medication to plan ${e}:`,r),this.handleApiError(r)}}async addMultipleMedicationsToTreatmentPlan(e,n){try{if(!n||!n.length)return console.warn("No medications provided to add to treatment plan"),{success:!0,message:"No medications to add"};const r=n.map(a=>{console.log("Processing medication:",{id:a.medicationId,instructions:a.instructions,prescribedBy:a.prescribedBy,original:a});const l={medication:{id:parseInt(a.medicationId,10)},dosage:a.dosage,frequency:a.frequency,instructions:a.instructions||"",startDate:a.startDate?new Date(a.startDate).toISOString().split("T")[0]:null,endDate:a.endDate?new Date(a.endDate).toISOString().split("T")[0]:null,status:a.status||"ACTIVE",prescribedBy:a.prescribedBy||"Bc s iu tr"};return console.log("Formatted medication:",l),l});return console.log(`Adding ${r.length} medications to plan ${e}:`,r),{success:!0,data:(await Q.post(`${Xt}/doctor/treatment-plans/${e}/medications/batch`,r)).data.data,message:"Medications added successfully"}}catch(r){return console.error(`Error adding multiple medications to plan ${e}:`,r),this.handleApiError(r)}}async updateMedication(e,n,r){try{return{success:!0,data:(await Q.put(`${Xt}/doctor/treatment-plans/${e}/medications/${n}`,r)).data.data,message:"Medication updated successfully"}}catch(i){return console.error(`Error updating medication ${n}:`,i),this.handleApiError(i)}}async deleteMedication(e,n){try{return{success:!0,data:(await Q.delete(`${Xt}/doctor/treatment-plans/${e}/medications/${n}`)).data.data,message:"Medication deleted successfully"}}catch(r){return console.error(`Error deleting medication ${n}:`,r),this.handleApiError(r)}}async changeTreatmentPlanStatus(e,n,r){try{return{success:!0,data:(await Q.patch(`${Xt}/doctor/treatment-plans/${e}/status`,{status:n,reason:r})).data.data,message:"Treatment plan status changed successfully"}}catch(i){return console.error(`Error changing treatment plan ${e} status:`,i),this.handleApiError(i)}}async updateTreatmentPlanStatus(e,n){try{const r=await Q.patch(`${Xt}/doctor/treatment-plans/${e}/status`,{status:n});return{success:!0,data:r.data.data,message:r.data.message||"Treatment plan status updated successfully"}}catch(r){return console.error(`Error updating treatment plan ${e} status:`,r),this.handleApiError(r)}}async deleteTreatmentPlan(e){try{return{success:!0,message:(await Q.delete(`${Xt}/doctor/treatment-plans/${e}`)).data.message||"Treatment plan deleted successfully"}}catch(n){return console.error(`Error deleting treatment plan ${e}:`,n),this.handleApiError(n)}}async getPatientTreatmentPlans(e){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/patients/${e}/treatment-plans`)).data.data,message:"Patient treatment plans retrieved successfully"}}catch(n){return console.error(`Error fetching treatment plans for patient ${e}:`,n),this.handleApiError(n)}}async getTreatmentPlanStatistics(){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/statistics`)).data.data,message:"Treatment plan statistics retrieved successfully"}}catch(e){return console.error("Error fetching treatment plan statistics:",e),this.handleApiError(e)}}async getPatientTreatmentDashboard(e){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/patients/${e}/dashboard`)).data.data,message:"Patient treatment dashboard retrieved successfully"}}catch(n){return console.error(`Error fetching treatment dashboard for patient ${e}:`,n),this.handleApiError(n)}}async getDoctorDashboardStats(){try{return{success:!0,data:(await Q.get(`${Xt}/doctors/dashboard/stats`)).data.data,message:"Doctor dashboard statistics retrieved successfully"}}catch(e){return console.error("Error fetching doctor dashboard statistics:",e),this.handleApiError(e)}}async getPatientsForTreatmentPlan(){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/patients`)).data.data,message:"Patients retrieved successfully"}}catch(e){return console.error("Error fetching patients for treatment plans:",e),this.handleApiError(e)}}async getCompletedAppointments(e){try{return{success:!0,data:(await Q.get(`${Xt}/doctor/treatment-plans/appointments/completed/${e}?simplify=true`)).data.data,message:"Completed appointments retrieved successfully"}}catch(n){return console.error(`Error fetching completed appointments for patient ${e}:`,n),n.response&&(console.log("Error response data:",n.response.data),console.log("Error response status:",n.response.status)),{success:!1,message:"Khng th tm thy lch hn hon thnh cho bnh nhn ny",error:this.handleApiError(n)}}}}const Ts=new vB,bB=({patient:t})=>t?s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-4 border border-blue-100",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(vs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["ID bnh nhn: ",t.id]})]}),t.status&&s.jsx("div",{className:"mt-2 md:mt-0",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800":t.status==="inactive"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:t.status==="active"?"ang iu tr":t.status==="inactive"?"Khng hot ng":"Mi"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-3",children:[(t.gender||t.age)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"h-4 w-4 text-gray-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[t.gender||"",t.gender&&t.age?", ":"",t.age?`${t.age} tui`:""]})]}),t.lastVisit&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Khm gn nht: ",typeof t.lastVisit=="string"?t.lastVisit:new Date(t.lastVisit).toLocaleDateString("vi-VN")]})]}),t.nextAppointment&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 text-gray-500 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Lch hn tip: ",typeof t.nextAppointment=="string"?t.nextAppointment:new Date(t.nextAppointment).toLocaleDateString("vi-VN")]})]})]}),(t.allergies||t.currentMedications||t.comorbidities)&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[t.allergies&&t.allergies.length>0&&s.jsxs("div",{className:"flex items-start mb-2",children:[s.jsx(Di,{className:"h-4 w-4 text-red-500 mr-1 mt-0.5"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"D ng:"})," ",s.jsx("span",{className:"text-red-700",children:Array.isArray(t.allergies)?t.allergies.join(", "):t.allergies})]})]}),t.comorbidities&&t.comorbidities.length>0&&s.jsxs("div",{className:"flex items-start mb-2",children:[s.jsx(Rn,{className:"h-4 w-4 text-gray-500 mr-1 mt-0.5"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Bnh i km:"})," ",s.jsx("span",{className:"text-gray-600",children:Array.isArray(t.comorbidities)?t.comorbidities.join(", "):t.comorbidities})]})]}),t.currentMedications&&t.currentMedications.length>0&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ie,{className:"h-4 w-4 text-blue-500 mr-1 mt-0.5"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Thuc hin ti:"})," ",s.jsx("span",{className:"text-gray-600",children:Array.isArray(t.currentMedications)?t.currentMedications.map(e=>typeof e=="object"?e.name:e).join(", "):t.currentMedications})]})]})]})]})]})}):s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Di,{className:"h-6 w-6 text-yellow-500 mr-2"}),s.jsx("p",{className:"text-yellow-700 font-medium",children:"Vui lng chn bnh nhn"})]})}),Ba="http://localhost:8080/api/medication-schedules",Kd={async getSchedulesForMedication(t){var e;try{return(await Q.get(`${Ba}/medication/${t}`)).data}catch(n){throw console.error("Error fetching medication schedules:",n),((e=n.response)==null?void 0:e.data)||n.message}},async createDefaultSchedules(t){var e;try{return(await Q.post(`${Ba}/medication/${t}/default`)).data}catch(n){throw console.error("Error creating default schedules:",n),((e=n.response)==null?void 0:e.data)||n.message}},async createCustomSchedules(t,e){var n;try{return(await Q.post(`${Ba}/medication/${t}/custom`,e)).data}catch(r){throw console.error("Error creating custom schedules:",r),((n=r.response)==null?void 0:n.data)||r.message}},async updateSchedule(t,e){var n;try{return(await Q.put(`${Ba}/${t}`,e)).data}catch(r){throw console.error("Error updating schedule:",r),((n=r.response)==null?void 0:n.data)||r.message}},async deleteSchedule(t){var e;try{return(await Q.delete(`${Ba}/${t}`)).data}catch(n){throw console.error("Error deleting schedule:",n),((e=n.response)==null?void 0:e.data)||n.message}},async markAsTaken(t){var e;try{return(await Q.put(`${Ba}/${t}/taken`)).data}catch(n){throw console.error("Error marking medication as taken:",n),((e=n.response)==null?void 0:e.data)||n.message}}},$j=({medicationId:t,onSchedulesUpdated:e,disabled:n=!1})=>{const[r,i]=f.useState([]),[a,l]=f.useState(!1),[o,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(!1),[g,y]=f.useState(null),[x,b]=f.useState({timeOfDay:"08:00",dosageAmount:"",daysOfWeek:"",notes:""}),v=[{value:"MON",label:"T2"},{value:"TUE",label:"T3"},{value:"WED",label:"T4"},{value:"THU",label:"T5"},{value:"FRI",label:"T6"},{value:"SAT",label:"T7"},{value:"SUN",label:"CN"}],[p,j]=f.useState([]);f.useEffect(()=>{const C=p.join(",");b(A=>({...A,daysOfWeek:C}))},[p]),f.useEffect(()=>{t&&N()},[t]);const N=async()=>{if(t){l(!0);try{const C=await Kd.getSchedulesForMedication(t);C&&C.data?(i(C.data),e&&e(C.data)):c("Khng th ti lch ung thuc")}catch(C){c(" xy ra li khi ti lch ung thuc"),console.error("Error fetching schedules:",C)}finally{l(!1)}}},w=C=>{j(A=>A.includes(C)?A.filter(I=>I!==C):[...A,C])},E=()=>{p.length===v.length?j([]):j(v.map(C=>C.value))},M=()=>{b({timeOfDay:"08:00",dosageAmount:"",daysOfWeek:"",notes:""}),j([]),m(!1),y(null)},k=C=>{y(C.id),b({timeOfDay:C.timeOfDay,dosageAmount:C.dosageAmount,daysOfWeek:C.daysOfWeek||"",notes:C.notes||""}),C.daysOfWeek?j(C.daysOfWeek.split(",")):j([]),m(!0)},T=async()=>{if(!t||!x.timeOfDay||!x.dosageAmount){c("Vui lng nhp thi gian v s lng ung");return}l(!0);try{if(g){const C=await Kd.updateSchedule(g,{timeOfDay:x.timeOfDay,dosageAmount:x.dosageAmount,daysOfWeek:x.daysOfWeek,notes:x.notes});if(C&&C.data){const A=r.map(I=>I.id===g?C.data:I);i(A),u(" cp nht lch ung thuc"),M(),e&&e(A)}else c("Khng th cp nht lch ung thuc")}else{const C=[{timeOfDay:x.timeOfDay,dosageAmount:x.dosageAmount,daysOfWeek:x.daysOfWeek,notes:x.notes}],A=await Kd.createCustomSchedules(t,C);A&&A.data?(i([...r,...A.data]),u(" thm lch ung thuc mi"),M(),e&&e([...r,...A.data])):c("Khng th thm lch ung thuc")}}catch(C){c(" xy ra li khi lu lch ung thuc"),console.error("Error saving schedule:",C)}finally{l(!1)}},S=async C=>{if(C){l(!0);try{if(await Kd.deleteSchedule(C)){const I=r.filter(V=>V.id!==C);i(I),u(" xa lch ung thuc"),e&&e(I)}else c("Khng th xa lch ung thuc")}catch(A){c(" xy ra li khi xa lch ung thuc"),console.error("Error deleting schedule:",A)}finally{l(!1)}}},P=C=>{if(!C)return"Hng ngy";const A={MON:"Th 2",TUE:"Th 3",WED:"Th 4",THU:"Th 5",FRI:"Th 6",SAT:"Th 7",SUN:"Ch nht"};return C.split(",").map(I=>A[I]||I).join(", ")};return t?s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Lch ung thuc"}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(F,{variant:"outline",size:"xs",onClick:()=>m(!0),disabled:a||n||h,children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Thm lch"]})})]}),s.jsxs("div",{className:"text-xs text-gray-500 italic mb-2",children:[s.jsx("span",{className:"font-medium",children:"Lu :"})," Liu lng k n l hm lng thuc (mg, ml), cn s lng ung l s vin/lng thuc cn ung mi ln."]}),o&&s.jsx("div",{className:"p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-xs",children:o}),d&&s.jsx("div",{className:"p-2 bg-green-50 border-l-4 border-green-500 text-green-700 text-xs",children:d}),a&&s.jsxs("div",{className:"text-center py-2",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-2 border-t-blue-500 border-r-blue-500 border-b-transparent border-l-transparent"}),s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"ang x l..."})]}),h&&s.jsxs("div",{className:"border border-blue-200 rounded-md p-3 bg-blue-50",children:[s.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:g?"Sa lch ung thuc":"Thm lch ung thuc mi"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Thi gian ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{type:"time",value:x.timeOfDay,onChange:C=>b({...x,timeOfDay:C.target.value}),className:"text-xs"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["S lng ung ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{type:"text",value:x.dosageAmount,onChange:C=>b({...x,dosageAmount:C.target.value}),placeholder:"VD: 1 vin",className:"text-xs"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cc ngy trong tun"}),s.jsxs("div",{className:"flex flex-wrap gap-2 bg-white p-2 rounded-md border border-gray-200",children:[s.jsx("button",{type:"button",onClick:E,className:`text-xs px-2 py-1 rounded-md ${p.length===v.length?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:p.length===v.length?"B chn tt c":"Chn tt c"}),v.map(C=>s.jsxs("label",{className:`flex items-center cursor-pointer px-2 py-1 rounded-md ${p.includes(C.value)?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:[s.jsx("input",{type:"checkbox",checked:p.includes(C.value),onChange:()=>w(C.value),className:"sr-only"}),s.jsx("span",{className:"text-xs",children:C.label})]},C.value))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" trng = ung hng ngy"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx(Oe,{type:"text",value:x.notes,onChange:C=>b({...x,notes:C.target.value}),placeholder:"Ghi ch thm (nu c)",className:"text-xs"})]})]}),s.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[s.jsx(F,{variant:"outline",size:"xs",onClick:M,disabled:a,children:"Hy"}),s.jsx(F,{variant:"primary",size:"xs",onClick:T,disabled:a||!x.timeOfDay||!x.dosageAmount,children:g?s.jsx(s.Fragment,{children:"Cp nht"}):s.jsxs(s.Fragment,{children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Thm lch"]})})]})]}),r.length===0?s.jsxs("div",{className:"text-center py-3 bg-gray-50 rounded-md border border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Cha c lch ung thuc no"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Bm "To lch mc nh" hoc "Thm lch"  thm mi'})]}):s.jsx("div",{className:"space-y-2",children:r.map(C=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-md border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 text-blue-500 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[C.formattedTime||C.timeOfDay," - ",C.dosageAmount]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[P(C.daysOfWeek),C.notes&&` - ${C.notes}`]})]})]}),!n&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(F,{variant:"outline",size:"xs",onClick:()=>k(C),className:"text-blue-600 border-blue-300 hover:bg-blue-50",disabled:a,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),s.jsx(F,{variant:"outline",size:"xs",onClick:()=>S(C.id),className:"text-red-600 border-red-300 hover:bg-red-50",disabled:a,children:s.jsx(ur,{className:"h-3 w-3"})})]})]},C.id))})]}):s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Vui lng chn thuc trc khi thm lch ung"})},ln="http://localhost:8080/api";class jB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?{success:!1,message:e.response.data.message||"API Error",statusCode:e.response.status}:{success:!1,message:e.message||"Network Error",statusCode:500}}async getLabResults(e=null,n=null,r=null){try{let i=`${ln}/doctor/lab-results`;const a=new URLSearchParams;e&&a.append("testType",e),n&&a.append("patientId",n),r&&a.append("searchTerm",r);const l=a.toString();return l&&(i+=`?${l}`),{success:!0,data:(await Q.get(i)).data.data,message:"Lab results retrieved successfully"}}catch(i){return console.error("Error fetching lab results with filters:",i),this.handleApiError(i)}}async getLabResultById(e){try{return{success:!0,data:(await Q.get(`${ln}/doctor/lab-results/${e}`)).data.data,message:"Lab result retrieved successfully"}}catch(n){return console.error(`Error fetching lab result ${e}:`,n),this.handleApiError(n)}}async updateLabResult(e,n){try{if(n.testDate){const i=new Date(n.testDate),a=new Date;if(a.setHours(0,0,0,0),i>a)return console.error("Test date cannot be in the future"),{success:!1,message:"Ngy xt nghim khng th l ngy trong tng lai"};n.testDate=i.toISOString().split("T")[0]}return{success:!0,data:(await Q.put(`${ln}/doctor/lab-results/${e}`,n)).data.data,message:"Lab result updated successfully"}}catch(r){return console.error(`Error updating lab result ${e}:`,r),this.handleApiError(r)}}async deleteLabResult(e){try{return{success:!0,message:(await Q.delete(`${ln}/doctor/lab-results/${e}`)).data.message||"Lab result deleted successfully"}}catch(n){return console.error(`Error deleting lab result ${e}:`,n),this.handleApiError(n)}}async getTestTypes(){try{return{success:!0,data:(await Q.get(`${ln}/doctor/lab-results/test-types`)).data.data,message:"Test types retrieved successfully"}}catch(e){return console.error("Error fetching test types:",e),this.handleApiError(e)}}async getLabResultStatistics(){try{return{success:!0,data:(await Q.get(`${ln}/doctor/lab-results/statistics`)).data.data,message:"Lab result statistics retrieved successfully"}}catch(e){return console.error("Error fetching lab result statistics:",e),this.handleApiError(e)}}async checkLabResultsForAppointment(e){try{const n=await Q.get(`${ln}/doctor/lab-results/check-appointment/${e}`);return{success:!0,data:n.data.data,message:n.data.message}}catch(n){return console.error(`Error checking lab results for appointment ${e}:`,n),this.handleApiError(n)}}async getPatientLabResults(e){try{return{success:!0,data:(await Q.get(`${ln}/doctor/lab-results/patients/${e}`)).data.data,message:"Patient lab results retrieved successfully"}}catch(n){return console.error(`Error fetching lab results for patient ${e}:`,n),this.handleApiError(n)}}async getPendingLabResults(){try{return{success:!0,data:(await Q.get(`${ln}/lab-results/admin/pending`)).data.data,message:"Pending lab results retrieved successfully"}}catch(e){return console.error("Error fetching pending lab results:",e),this.handleApiError(e)}}async getPendingLabResultsForDoctorPatients(){try{return{success:!0,data:(await Q.get(`${ln}/doctor/lab-results/pending`)).data.data,message:"Pending lab results for doctor patients retrieved successfully"}}catch(e){return console.error("Error fetching pending lab results for doctor patients:",e),this.handleApiError(e)}}async approveLabResult(e,n=""){try{return{success:!0,data:(await Q.put(`${ln}/doctor/lab-results/${e}/approve`,{notes:n})).data.data,message:"Lab result approved successfully"}}catch(r){return console.error(`Error approving lab result ${e}:`,r),this.handleApiError(r)}}async rejectLabResult(e,n){try{return{success:!0,data:(await Q.put(`${ln}/doctor/lab-results/${e}/reject`,{notes:n})).data.data,message:"Lab result rejected successfully"}}catch(r){return console.error(`Error rejecting lab result ${e}:`,r),this.handleApiError(r)}}}const ss=new jB,YS=({isOpen:t,onClose:e,onSave:n,plan:r=null,patient:i=null,appointment:a=null,isEmbedded:l=!1,disabled:o=!1})=>{console.log("TreatmentPlanEditor rendered with:",{isOpen:t,hasOnClose:!!e,hasOnSave:!!n,hasPlan:!!r,hasPatient:!!i,patientId:i==null?void 0:i.id,hasAppointment:!!a,appointmentId:a==null?void 0:a.id,isEmbedded:l,disabled:o});const c=localStorage.getItem("doctorName")||"Bc s iu tr",[d,u]=f.useState({appointmentId:(r==null?void 0:r.appointmentId)||(a==null?void 0:a.id)||null,patientId:(r==null?void 0:r.patientId)||(i==null?void 0:i.id)||(a==null?void 0:a.userId)||null,description:(r==null?void 0:r.description)||"",name:(r==null?void 0:r.name)||"",startDate:(r==null?void 0:r.startDate)||new Date().toISOString().split("T")[0],endDate:(r==null?void 0:r.endDate)||"",status:(r==null?void 0:r.status)||"ACTIVE",medicationNotes:(r==null?void 0:r.medicationNotes)||"",sideEffects:(r==null?void 0:r.sideEffects)||"",healthStatus:(r==null?void 0:r.healthStatus)||"STABLE",healthNotes:(r==null?void 0:r.healthNotes)||"",medications:(r==null?void 0:r.medications)||[]}),[h,m]=f.useState("general"),[g,y]=f.useState(!1),[x,b]=f.useState({}),[v,p]=f.useState([]);f.useState((a==null?void 0:a.status)==="UNDER_REVIEW");const[j,N]=f.useState(null),[w,E]=f.useState(null);f.useEffect(()=>{(async()=>{y(!0);try{const V=await Dy.getAllMedications();V.success&&V.data?(console.log("Fetched medications from API:",V.data),p(V.data)):console.error("Failed to fetch medications:",V)}catch(V){console.error("Error fetching medications:",V)}finally{y(!1)}})()},[]),f.useEffect(()=>{r&&u({...r,startDate:r.startDate?new Date(r.startDate).toISOString().split("T")[0]:"",endDate:r.endDate?new Date(r.endDate).toISOString().split("T")[0]:"",medications:r.medications||[]})},[r]),f.useEffect(()=>{console.log("useEffect in TreatmentPlanEditor - Patient or appointment changed:",{patient:i,appointment:a});let I={};i&&(I.patientId=i.id),a&&(I={...I,appointmentId:a.id,patientId:a.userId,endDate:(()=>{const V=new Date;return V.setMonth(V.getMonth()+3),V.toISOString().split("T")[0]})()}),Object.keys(I).length>0&&u(V=>({...V,...I}))},[i,a]);const M=()=>{console.log("Adding new medication to plan");const I=localStorage.getItem("doctorName")||c||"Bc s iu tr";console.log("Current doctor name for new medication:",I);const V={medicationId:"",dosage:"",frequency:"ONCE_DAILY",startDate:d.startDate||new Date().toISOString().split("T")[0],endDate:d.endDate||"",instructions:"",prescribedBy:I};console.log("Created new medication with:",V),u(L=>({...L,medications:[...L.medications,V]})),console.log("Updated medications array:",[...d.medications,V])},k=(I,V,L)=>{const O=[...d.medications];if(V==="medicationId"){const D=v.find(R=>R.id===parseInt(L));D&&(O[I]={...O[I],medicationId:parseInt(L),name:D.name})}else O[I]={...O[I],[V]:L};O[I].prescribedBy||(O[I].prescribedBy=c),u({...d,medications:O})},T=I=>{const V=[...d.medications];V.splice(I,1),u({...d,medications:V})},S=()=>{const I={};if(d.patientId||(I.patientId="Bnh nhn l trng bt buc"),d.description||(I.description="Tn k hoch l trng bt buc"),d.startDate||(I.startDate="Ngy bt u l trng bt buc"),d.startDate&&d.endDate){const V=new Date(d.startDate);new Date(d.endDate)<V&&(I.endDate="Ngy kt thc k hoch phi sau ngy bt u")}return d.medications.length===0?I.medications="Phi c t nht mt loi thuc trong k hoch":d.medications.forEach((V,L)=>{V.medicationId||(I[`medication_${L}`]="Vui lng chn thuc"),V.dosage||(I[`dosage_${L}`]="Vui lng nhp liu lng")}),b(I),console.log("Validation errors:",I),I},P=async()=>{try{y(!0),E(null),N(null);const I=S();if(Object.keys(I).length>0){b(I),y(!1);return}if(a!=null&&a.id){const L=await ss.checkLabResultsForAppointment(a.id);if(!L.success||!L.data){E("Khng th lu k hoch v cha c kt qu xt nghim hoc kt qu cha c duyt."),y(!1);return}const O=await ss.getLabResults(null,a.userId,null);if(!O.success||!O.data||!O.data.some(D=>D.appointmentId===a.id&&D.approvalStatus==="APPROVED")){E("Khng th lu k hoch v kt qu xt nghim cha c bc s duyt."),y(!1);return}}console.log("Saving plan data:",d);const V={...d,medications:d.medications.map(L=>({...L,medicationId:L.medicationId?parseInt(L.medicationId,10):null,startDate:L.startDate,endDate:L.endDate,prescribedBy:L.prescribedBy||c})).filter(L=>L.medicationId)};console.log("Formatted plan data for saving:",V),n&&await n(V),b({}),n||N("K hoch iu tr  c lu thnh cng")}catch(I){console.error("Error in handleSave:",I),E(I.message||"C li xy ra khi lu k hoch iu tr")}finally{y(!1)}},C=[{id:"general",name:"Thng tin chung",icon:Ze},{id:"medications",name:"Thuc iu tr",icon:Ie},{id:"monitoring",name:"Theo di",icon:Ce}];if(!t)return null;const A=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:C.map(I=>{const V=I.icon;return s.jsxs("button",{onClick:()=>m(I.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${h===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(V,{className:"h-5 w-5 mr-2"}),I.name]},I.id)})})}),(Object.keys(x).length>0||j||w)&&s.jsxs("div",{className:"mb-4",children:[Object.keys(x).length>0&&s.jsxs("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 text-red-700 mb-3",children:[s.jsx("p",{className:"font-medium",children:"Vui lng sa cc li sau:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm",children:[x.description&&s.jsx("li",{children:"Tn k hoch l trng bt buc"}),x.patientId&&s.jsx("li",{children:"Bnh nhn l trng bt buc"}),x.startDate&&s.jsx("li",{children:"Ngy bt u l trng bt buc"}),x.endDate&&s.jsx("li",{children:x.endDate}),x.medications&&s.jsx("li",{children:x.medications}),x.submit&&s.jsx("li",{children:x.submit})]})]}),j&&s.jsx("div",{className:"p-3 bg-green-50 border-l-4 border-green-500 text-green-700 mb-3",children:s.jsx("p",{children:j})}),w&&s.jsx("div",{className:"p-3 bg-red-50 border-l-4 border-red-500 text-red-700 mb-3",children:s.jsx("p",{children:w})})]}),s.jsxs("div",{className:"space-y-6",children:[h==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn k hoch ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{value:d.description,onChange:I=>u({...d,description:I.target.value}),placeholder:"VD: K hoch iu tr ARV bc 1",error:x.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi sc khe"}),s.jsxs("select",{value:d.healthStatus,onChange:I=>u({...d,healthStatus:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"STABLE",children:"n nh"}),s.jsx("option",{value:"IMPROVING",children:"ang ci thin"}),s.jsx("option",{value:"DECLINING",children:"ang suy gim"}),s.jsx("option",{value:"CRITICAL",children:"Nguy kch"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy bt u"}),s.jsx(Oe,{type:"date",value:d.startDate,onChange:I=>u({...d,startDate:I.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy kt thc"}),s.jsx(Oe,{type:"date",value:d.endDate,onChange:I=>u({...d,endDate:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch v thuc"}),s.jsx("textarea",{value:d.medicationNotes,onChange:I=>u({...d,medicationNotes:I.target.value}),placeholder:"Ghi ch v thuc v liu trnh iu tr",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tc dng ph cn theo di"}),s.jsx("textarea",{value:d.sideEffects,onChange:I=>u({...d,sideEffects:I.target.value}),placeholder:"Cc tc dng ph cn theo di trong qu trnh iu tr",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch v sc khe"}),s.jsx("textarea",{value:d.healthNotes,onChange:I=>u({...d,healthNotes:I.target.value}),placeholder:"Ghi ch v tnh trng sc khe ca bnh nhn",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]})]}),h==="medications"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thuc iu tr"}),s.jsxs(F,{variant:"outline",onClick:M,children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Thm thuc"]})]}),s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Hng dn k n thuc"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700",children:[s.jsx("li",{children:"Chn thuc t danh sch c sn"}),s.jsx("li",{children:"Nhp liu lng k n (hm lng thuc, v d: 300mg, 200mg/5ml)"}),s.jsx("li",{children:"Chn tn sut s dng thuc ph hp"}),s.jsx("li",{children:"Thit lp lch ung thuc c th vi s lng ung mi ln (v d: 1 vin)"}),s.jsx("li",{children:"Thm hng dn s dng chi tit nu cn"}),s.jsx("li",{children:"t ngy bt u v kt thc (nu c) cho tng loi thuc"})]})]}),j&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-md",children:s.jsx("p",{className:"text-sm text-green-600",children:j})}),x.medications&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:x.medications})}),d.medications.length===0?s.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx(Ze,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Cha c thuc no c thm vo k hoch"}),s.jsxs(F,{variant:"outline",onClick:M,className:"mt-3",children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Thm thuc u tin"]})]}):s.jsx("div",{className:"space-y-4",children:d.medications.map((I,V)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-900",children:["Thuc #",V+1]}),s.jsx(F,{variant:"outline",size:"xs",onClick:()=>T(V),className:"text-red-600 border-red-300 hover:bg-red-50",children:s.jsx(ur,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Thuc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:I.medicationId||"",onChange:L=>k(V,"medicationId",L.target.value),className:`w-full px-2 py-1 text-sm border rounded-md ${x[`medication_${V}`]?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"-- Chn thuc --"}),v.map(L=>s.jsxs("option",{value:L.id,children:[L.name," (",L.genericName||"Thuc HIV",")"]},L.id))]}),x[`medication_${V}`]&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:x[`medication_${V}`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Liu lng k n ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{value:I.dosage,onChange:L=>k(V,"dosage",L.target.value),placeholder:"VD: 300mg, 200mg/5ml",className:"text-sm",error:x[`dosage_${V}`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Tn sut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:I.frequency||"ONCE_DAILY",onChange:L=>k(V,"frequency",L.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"ONCE_DAILY",children:"Mt ln mi ngy"}),s.jsx("option",{value:"TWICE_DAILY",children:"Hai ln mi ngy"}),s.jsx("option",{value:"THREE_TIMES_DAILY",children:"Ba ln mi ngy"}),s.jsx("option",{value:"FOUR_TIMES_DAILY",children:"Bn ln mi ngy"}),s.jsx("option",{value:"EVERY_OTHER_DAY",children:"Cch ngy"}),s.jsx("option",{value:"WEEKLY",children:"Hng tun"}),s.jsx("option",{value:"MONTHLY",children:"Hng thng"})]})]}),I.medicationId&&s.jsx("div",{className:"col-span-2 mt-2",children:s.jsx($j,{medicationId:I.medicationId,disabled:o,onSchedulesUpdated:L=>{console.log("Schedules updated:",L),k(V,"schedules",L)}})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ngy bt u"}),s.jsx(Oe,{type:"date",value:I.startDate||"",onChange:L=>k(V,"startDate",L.target.value),className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ngy kt thc"}),s.jsx(Oe,{type:"date",value:I.endDate||"",onChange:L=>k(V,"endDate",L.target.value),className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hng dn s dng"}),s.jsx("textarea",{value:I.instructions||"",onChange:L=>k(V,"instructions",L.target.value),placeholder:"Hng dn s dng thuc",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md",rows:"2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bc s k n"}),s.jsx(Oe,{value:I.prescribedBy||c,onChange:L=>k(V,"prescribedBy",L.target.value),placeholder:"Bc s k n",className:"text-sm bg-gray-50 font-medium text-gray-700"})]})]})]},V))})]}),h==="monitoring"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Tnh nng theo di ang c pht trin"})]})})]})]});return l?s.jsxs("div",{className:"space-y-4",children:[j&&s.jsx("div",{className:"mb-3 p-2 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(Xe,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("p",{children:j})]})}),w&&s.jsx("div",{className:"mb-3 p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("p",{children:w})]})}),x.general&&s.jsx("div",{className:"mb-3 p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("p",{children:x.general})]})}),x.submit&&s.jsx("div",{className:"mb-3 p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("p",{children:x.submit})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn phc  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{value:d.description,onChange:I=>u({...d,description:I.target.value}),placeholder:"VD: K hoch iu tr ARV bc 1",error:x.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy bt u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{type:"date",value:d.startDate,onChange:I=>u({...d,startDate:I.target.value}),error:x.startDate})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy kt thc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{type:"date",value:d.endDate,onChange:I=>u({...d,endDate:I.target.value})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thuc iu tr ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex justify-end mb-2",children:s.jsxs(F,{variant:"outline",onClick:M,size:"sm",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Thm thuc"]})}),d.medications.length===0?s.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Cha c thuc no c thm vo k hoch"})}):s.jsx("div",{className:"space-y-3",children:d.medications.map((I,V)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-900",children:["Thuc #",V+1]}),s.jsx(F,{variant:"outline",size:"xs",onClick:()=>T(V),className:"text-red-600 border-red-300 hover:bg-red-50",children:s.jsx(ur,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Thuc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:I.medicationId||"",onChange:L=>k(V,"medicationId",L.target.value),className:`w-full px-2 py-1 text-sm border rounded-md ${x[`medication_${V}`]?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"-- Chn thuc --"}),v.map(L=>s.jsxs("option",{value:L.id,children:[L.name," (",L.genericName||"Thuc HIV",")"]},L.id))]}),x[`medication_${V}`]&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:x[`medication_${V}`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Liu lng k n ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{value:I.dosage,onChange:L=>k(V,"dosage",L.target.value),placeholder:"VD: 300mg, 200mg/5ml",className:"text-sm",error:x[`dosage_${V}`]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Tn sut ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:I.frequency||"ONCE_DAILY",onChange:L=>k(V,"frequency",L.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"ONCE_DAILY",children:"Mt ln mi ngy"}),s.jsx("option",{value:"TWICE_DAILY",children:"Hai ln mi ngy"}),s.jsx("option",{value:"THREE_TIMES_DAILY",children:"Ba ln mi ngy"}),s.jsx("option",{value:"FOUR_TIMES_DAILY",children:"Bn ln mi ngy"}),s.jsx("option",{value:"EVERY_OTHER_DAY",children:"Cch ngy"}),s.jsx("option",{value:"WEEKLY",children:"Hng tun"}),s.jsx("option",{value:"MONTHLY",children:"Hng thng"})]})]}),I.medicationId&&s.jsx("div",{className:"col-span-2 mt-2",children:s.jsx($j,{medicationId:I.medicationId,disabled:o,onSchedulesUpdated:L=>{console.log("Schedules updated:",L),k(V,"schedules",L)}})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ngy bt u"}),s.jsx(Oe,{type:"date",value:I.startDate||"",onChange:L=>k(V,"startDate",L.target.value),className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ngy kt thc"}),s.jsx(Oe,{type:"date",value:I.endDate||"",onChange:L=>k(V,"endDate",L.target.value),className:"text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hng dn s dng"}),s.jsx("textarea",{value:I.instructions||"",onChange:L=>k(V,"instructions",L.target.value),placeholder:"Hng dn s dng thuc",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded-md",rows:"2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bc s k n"}),s.jsx(Oe,{value:I.prescribedBy||c,onChange:L=>k(V,"prescribedBy",L.target.value),placeholder:"Bc s k n",className:"text-sm bg-gray-50 font-medium text-gray-700"})]})]})]},V))}),x.medications&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:x.medications})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{value:d.medicationNotes,onChange:I=>u({...d,medicationNotes:I.target.value}),placeholder:"Ghi ch v thuc v liu trnh iu tr",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-20 text-sm",rows:"2"})]})]}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx(F,{variant:"primary",onClick:P,disabled:g||o,className:"flex items-center",size:"sm",children:g?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang lu..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"})," lu k hoch"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Lu k hoch"]})})})]}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Chnh sa k hoch iu tr":"To k hoch iu tr mi"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-gray-200",children:s.jsx(et,{className:"h-5 w-5 text-gray-500"})})]}),s.jsx("div",{className:"p-4 border-b",children:s.jsx(bB,{patient:i})}),s.jsx("div",{className:"p-6",children:A()}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-4",children:[x.submit&&s.jsx("div",{className:"mr-auto p-2 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:x.submit})}),s.jsx(F,{variant:"outline",onClick:e,disabled:g,children:"Hy"}),s.jsx("button",{onClick:I=>{I.preventDefault(),console.log("Save button clicked directly"),P()},disabled:g||o,className:`px-4 py-2 ${o?"bg-gray-400":"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600"} text-white font-medium rounded-md flex items-center transition-colors`,children:g?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"ang lu..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h1a2 2 0 012 2v7a2 2 0 01-2 2H8a2 2 0 01-2-2v-7a2 2 0 012-2h1v5.586l-1.293-1.293zM15 3a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2h2z"})}),s.jsx("span",{children:" lu k hoch"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h1a2 2 0 012 2v7a2 2 0 01-2 2H8a2 2 0 01-2-2v-7a2 2 0 012-2h1v5.586l-1.293-1.293zM15 3a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2h2z"})}),s.jsx("span",{children:r?"Cp nht":"To k hoch"})]})})]})]})})},wB=({isOpen:t,onClose:e,appointment:n,onSuccess:r})=>{console.log("PatientRecordModal rendered with:",{appointment:n});const[i,a]=f.useState((n==null?void 0:n.status)==="UNDER_REVIEW"?"treatmentPlan":"summary"),[l,o]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState(null),[b,v]=f.useState((n==null?void 0:n.status)==="UNDER_REVIEW"),[p,j]=f.useState(!1),[N,w]=f.useState(!1),[E,M]=f.useState(""),[k,T]=f.useState("");f.useState(!0);const[S,P]=f.useState([]),[C,A]=f.useState(!1),[I,V]=f.useState(!1);f.useEffect(()=>{t&&n&&(n.status==="UNDER_REVIEW"?(a("treatmentPlan"),v(!0)):(a("summary"),v(!1)),h(null),d(null),x(null),j(!1),n.bloodPressure?M(n.bloodPressure):M(""),T(n.symptoms||""))},[t,n]);const L=f.useCallback(async()=>{if(n)try{A(!0);const _=await ss.getLabResults(null,n.userId,null);if(_.success&&_.data){const H=_.data.filter(U=>U.appointmentId===n.id&&U.approvalStatus==="APPROVED");P(H)}}catch(_){console.error("Error fetching lab results:",_)}finally{A(!1)}},[n]);f.useEffect(()=>{t&&n&&i==="treatmentPlan"&&L()},[t,n,i,L]);const O=_=>{if(!_)return"N/A";let H=_.result;return _.unit&&(H+=` ${_.unit}`),H},D=_=>{switch(_){case"CD4":return"CD4 (T bo lympho T CD4+)";case"VIRAL_LOAD":return"Ti lng virus (Viral Load)";case"HIV_TEST":return"Xt nghim HIV";case"BLOOD_COUNT":return"Cng thc mu";case"LIVER_FUNCTION":return"Chc nng gan";case"KIDNEY_FUNCTION":return"Chc nng thn";default:return _||"Khng xc nh"}},R=_=>_?new Date(_).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A";if(!t||!n)return null;const B=async()=>{try{if(n.status==="UNDER_REVIEW"){console.log("Appointment already under review, checking for lab results before proceeding");const H=await ss.checkLabResultsForAppointment(n.id);if(!H.success||!H.data){h("Khng th tip tc v cha c kt qu xt nghim hoc kt qu cha c duyt.");return}const U=await ss.getLabResults(null,n.userId,null);if(!U.success||!U.data||!U.data.some(W=>W.appointmentId===n.id&&W.approvalStatus==="APPROVED")){h("Khng th tip tc v kt qu xt nghim cha c bc s duyt.");return}a("treatmentPlan");return}if(V(!0),!E||E.trim()===""){h("Vui lng nhp huyt p trc khi tip tc");return}o(!0),h(null),console.log("Putting appointment under review:",n.id),console.log("Doctor's updated symptoms:",k);const _=await Mn.putUnderReview(n.id,"Tip nhn h s bnh nhn",E,!0,k);console.log("Response from putUnderReview:",_),_.success?(console.log("Updated appointment data:",_.data),_.data&&_.data.symptoms!==k&&console.warn("Warning: Symptoms in response don't match what was sent!",{sent:k,received:_.data.symptoms}),d(" tip nhn h s bnh nhn thnh cng"),g(!0),setTimeout(()=>{r&&r(),e()},1e3)):h("Li khi tip nhn h s: "+_.message)}catch(_){h("Li khi tip nhn h s: "+_.message)}finally{o(!1)}},X=async _=>{try{if(o(!0),h(null),console.log("Saving treatment plan in PatientRecordModal:",_),_.medications&&_.medications.length>0){const W=localStorage.getItem("doctorName")||"Bc s iu tr";console.log("Current doctor name for medications:",W),_.medications=_.medications.map(J=>(J.prescribedBy||(J.prescribedBy=W,console.log(`Setting prescribedBy to ${W} for medication`)),J)),console.log("Medications after setting prescribedBy:",_.medications)}const H=await Ts.createTreatmentPlan({..._,appointmentId:n.id});if(!H.success)throw new Error(H.message||"Li khi lu phc  iu tr");const U=H.data.id;if(_.medications&&_.medications.length>0){console.log(`Adding ${_.medications.length} medications to treatment plan ${U}`);const W=await Ts.addMultipleMedicationsToTreatmentPlan(U,_.medications);if(!W.success)throw new Error(W.message||"Li khi thm thuc vo phc  iu tr");console.log("Medications added successfully:",W.data)}x(_),j(!0),w(!0),d(" lu phc  iu tr thnh cng")}catch(H){console.error("Error in handleTreatmentPlanSuccess:",H),h("Li khi lu phc  iu tr: "+(H.message||"Khng xc nh"))}finally{o(!1)}},Z=async()=>{try{o(!0),h(null);const _=await Mn.completeAppointmentWithTreatment(n.id,{treatmentPlan:y,notes:` hon thnh khm v k n thuc. Phc  iu tr kt thc ${y.endDate?new Date(y.endDate).toLocaleDateString("vi-VN"):"theo lch"}.`});if(!_.success)throw new Error(_.message||"Li khi hon thnh cuc hn");d(" hon thnh cuc hn thnh cng"),r&&setTimeout(()=>{r()},1500),setTimeout(()=>{e()},2e3)}catch(_){console.error("Error in handleCompleteAppointment:",_),h("Li khi hon thnh cuc hn: "+(_.message||"Khng xc nh"))}finally{o(!1)}},$=()=>{let _=[{id:"summary",label:"Thng tin bnh nhn",icon:vs},{id:"treatmentPlan",label:"K hoch iu tr",icon:Ze}];return b&&(_=_.slice(1)),s.jsx("div",{className:"flex items-center justify-center mb-6 px-6 pt-6",children:s.jsx("div",{className:"w-full max-w-3xl",children:s.jsx("div",{className:"relative flex items-center justify-between",children:_.map((H,U)=>{const W=i===H.id,J=_.findIndex(re=>re.id===i)>U,ce=W?"active":J?"complete":"upcoming";return s.jsxs(ie.Fragment,{children:[s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 z-10
                        ${ce==="active"?"border-blue-600 bg-blue-100":ce==="complete"?"border-green-600 bg-green-100":"border-gray-300 bg-white"}`,children:ce==="complete"?s.jsx(Ds,{className:"h-5 w-5 text-green-600"}):s.jsx(H.icon,{className:`h-5 w-5 ${W?"text-blue-600":"text-gray-400"}`})}),s.jsx("span",{className:`text-xs mt-2 font-medium
                      ${ce==="active"?"text-blue-600":ce==="complete"?"text-green-600":"text-gray-500"}`,children:H.label})]}),U<_.length-1&&s.jsx("div",{className:"flex-grow mx-2",children:s.jsx("div",{className:`h-1 ${_.findIndex(re=>re.id===i)>U?"bg-green-500":"bg-gray-300"}`})})]},H.id)})})})})},Y=()=>i==="summary"?"Tip nhn h s bnh nhn":i==="treatmentPlan"?"Thm k hoch iu tr":"Cuc hn khm bnh";return s.jsxs("div",{className:`fixed inset-0 z-50 overflow-y-auto ${t?"block":"hidden"}`,children:[s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[s.jsxs("div",{className:"bg-white max-h-[85vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:Y()}),s.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:e,children:[s.jsx("span",{className:"sr-only",children:"ng"}),s.jsx(et,{className:"h-6 w-6","aria-hidden":"true"})]})]})}),(c||u)&&s.jsxs("div",{className:"px-6 pt-4",children:[c&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-500 text-green-700",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{className:"h-5 w-5 text-green-500 mr-2"}),s.jsx("p",{children:c})]})}),u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700",children:s.jsxs("div",{className:"flex",children:[s.jsx(et,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("p",{children:u})]})})]}),$(),i==="summary"&&s.jsxs("div",{className:"px-6 pb-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Thng tin bnh nhn"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 flex items-start",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:s.jsx(vs,{className:"h-7 w-7 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:n.userName}),s.jsxs("div",{className:"text-gray-600 text-sm flex space-x-4 mt-1",children:[s.jsxs("span",{children:[n.userAge||"??"," tui"]}),s.jsx("span",{children:""}),s.jsx("span",{children:n.userGender||"Khng r"}),n.userPhone&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:n.userPhone})]})]}),n.userHealthInsurance&&s.jsxs("div",{className:"mt-1 text-sm",children:[s.jsx("span",{className:"font-medium",children:"BHYT:"})," ",n.userHealthInsurance]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Thng tin cuc hn"}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-2 text-blue-800",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"font-medium",children:[new Date(n.scheduledAt).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})," ",new Date(n.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Dch v:"})," ",n.serviceName]}),n.notes&&s.jsxs("p",{className:"text-gray-700 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",n.notes]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Thng tin y t do bnh nhn cung cp"}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-700",children:"Triu chng:"}),s.jsx("p",{className:"text-gray-700 mt-1 p-2 bg-gray-50 rounded",children:n.symptoms?n.symptoms:"Khng c"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-700",children:"Tin s bnh:"}),s.jsx("p",{className:"text-gray-700 mt-1 p-2 bg-gray-50 rounded",children:n.medicalHistory?n.medicalHistory:"Khng c"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-700",children:"Ghi ch ca bnh nhn:"}),s.jsx("p",{className:"text-gray-700 mt-1 p-2 bg-gray-50 rounded",children:n.notes?n.notes:"Khng c"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Thng tin khm cho bnh nhn ban u"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"bloodPressure",className:"block text-sm font-medium text-gray-700 mb-1",children:["Huyt p ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"bloodPressure",type:"text",value:E,onChange:_=>M(_.target.value),placeholder:"V d: 120/80 mmHg",className:`w-full p-2 border ${I&&(!E||!E.trim())?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0}),I&&(!E||!E.trim())&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Vui lng nhp huyt p"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"doctorSymptoms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Triu chng hin ti (ghi nhn bi bc s)"}),s.jsx("textarea",{id:"doctorSymptoms",value:k,onChange:_=>T(_.target.value),placeholder:"Nhp triu chng hin ti ca bnh nhn",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]"})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(F,{variant:"primary",onClick:B,disabled:l,className:"w-full max-w-md",children:l?"ang x l...":n.status==="UNDER_REVIEW"?"Tip tc lp k hoch iu tr":"Tip nhn h s v gi v phng xt nghim"})})]}),i==="treatmentPlan"&&s.jsxs("div",{className:"px-6 pb-6",children:[s.jsxs("div",{className:"mb-3 mt-4 grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(vs,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:n.userName}),s.jsxs("div",{className:"text-gray-600 text-xs flex space-x-3",children:[s.jsxs("span",{children:[n.userAge||"??"," tui"]}),s.jsx("span",{children:""}),s.jsx("span",{children:n.userGender||"Khng r"})]}),s.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:[s.jsx("span",{className:"font-medium",children:"Dch v:"})," ",n.serviceName]})]})]})}),s.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 text-sm",children:s.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-700 text-xs",children:"Triu chng:"}),s.jsx("p",{className:"text-gray-700 bg-gray-50 p-1.5 rounded text-xs",children:n.symptoms?n.symptoms:"Khng c"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-700 text-xs",children:"Tin s:"}),s.jsx("p",{className:"text-gray-700 bg-gray-50 p-1.5 rounded text-xs",children:n.medicalHistory?n.medicalHistory:"Khng c"})]})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2 text-blue-600"}),"Kt qu xt nghim"]}),C?s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"ang ti kt qu xt nghim..."})]}):S.length>0?s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi xt nghim"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kt qu"}),s.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy xt nghim"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(_=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:D(_.testType)}),s.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:[O(_),_.referenceRange&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tham chiu: ",_.referenceRange]})]}),s.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-700",children:R(_.testDate)})]},_.id))})]})}),S.some(_=>_.notes)&&s.jsxs("div",{className:"mt-3 border-t pt-3",children:[s.jsx("h5",{className:"font-medium text-sm text-gray-700 mb-2",children:"Ghi ch xt nghim:"}),s.jsx("ul",{className:"space-y-1 text-sm",children:S.filter(_=>_.notes).map(_=>s.jsxs("li",{className:"bg-gray-50 p-2 rounded",children:[s.jsxs("span",{className:"font-medium",children:[D(_.testType),":"]})," ",_.notes]},`note-${_.id}`))})]})]}):s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Khng c kt qu xt nghim no c tm thy."})})]}),s.jsx(YS,{isOpen:!0,appointment:n,onSave:X,isEmbedded:!0,disabled:N})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex justify-between border-t",children:[i!=="summary"&&!(b&&i==="treatmentPlan")&&s.jsx(F,{variant:"outline",onClick:()=>{a("summary")},disabled:l,size:"sm",children:"Quay li"}),(i==="summary"||b&&i==="treatmentPlan")&&s.jsx(F,{variant:"outline",onClick:e,disabled:l,size:"sm",children:"ng"}),i==="treatmentPlan"&&p&&s.jsx(F,{variant:"primary",onClick:Z,disabled:l,size:"sm",children:l?"ang x l...":"Hon thnh cuc hn"}),!(i==="treatmentPlan"&&p)&&s.jsx("div",{})]})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-green-600 text-white px-5 py-3 rounded-lg shadow-lg flex items-center animate-pulse",children:[s.jsx(Ds,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"font-medium",children:c})]})})]})},NB=()=>{const[t,e]=f.useState([]),[n,r]=f.useState(!0),[i,a]=f.useState(null),[l,o]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[y,x]=f.useState(!1);f.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0),a(null);const M=await ss.getPendingLabResultsForDoctorPatients();M.success?e(M.data||[]):a(M.message||"Failed to fetch pending lab results")}catch(M){a("Error loading pending lab results: "+M.message),console.error("Error fetching pending lab results:",M)}finally{r(!1)}},v=M=>{o(M),d(""),h(!0)},p=M=>{o(M),d(""),g(!0)},j=async()=>{if(l)try{x(!0);const M=await ss.approveLabResult(l.id,c);M.success?(e(t.filter(k=>k.id!==l.id)),h(!1),alert("Kt qu xt nghim  c duyt thnh cng!")):a(M.message||"Failed to approve lab result")}catch(M){a("Error approving lab result: "+M.message)}finally{x(!1)}},N=async()=>{if(!l||!c.trim()){a("Vui lng nhp l do t chi kt qu xt nghim");return}try{x(!0);const M=await ss.rejectLabResult(l.id,c);M.success?(e(t.filter(k=>k.id!==l.id)),g(!1),alert("Kt qu xt nghim  c t chi!")):a(M.message||"Failed to reject lab result")}catch(M){a("Error rejecting lab result: "+M.message)}finally{x(!1)}},w=M=>{switch(M){case"CD4":return"CD4 (T bo lympho T CD4+)";case"VIRAL_LOAD":return"Ti lng virus (Viral Load)";case"HIV_TEST":return"Xt nghim HIV";case"BLOOD_COUNT":return"Cng thc mu";case"LIVER_FUNCTION":return"Chc nng gan";case"KIDNEY_FUNCTION":return"Chc nng thn";default:return M||"Khng xc nh"}},E=M=>M?new Date(M).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A";return s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 rounded-lg shadow-md p-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-amber-900",children:[s.jsx(Ie,{className:"h-6 w-6 inline mr-2 text-amber-600"}),"Kt qu xt nghim ch duyt"]}),s.jsx("p",{className:"text-amber-700",children:"Kt qu xt nghim ca bnh nhn ca bn cn c duyt trc khi lp k hoch iu tr"})]}),s.jsx(F,{variant:"secondary",size:"sm",onClick:b,disabled:n,children:"Lm mi"})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:i}),n?s.jsxs("div",{className:"bg-white rounded-lg border border-amber-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-amber-200 border-t-amber-500 rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((M,k)=>s.jsxs("div",{className:"bg-white rounded-lg border border-amber-100 p-4 shadow-sm hover:shadow-md transition-all duration-300 animate-slideUp",style:{animationDelay:`${k*.1}s`},children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(vs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:M.userName||"Khng r bnh nhn"}),s.jsx("p",{className:"text-amber-600 font-medium",children:w(M.testType)})]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Kt qu:"}),s.jsx("p",{className:"font-medium",children:M.result})]}),M.unit&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"n v:"}),s.jsx("p",{children:M.unit})]}),M.referenceRange&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Khong tham chiu:"}),s.jsx("p",{children:M.referenceRange})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngy xt nghim:"}),s.jsxs("p",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 mr-1 text-gray-500"}),E(M.testDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ngi nhp kt qu:"}),s.jsxs("p",{className:"flex items-center",children:[s.jsx(vs,{className:"h-4 w-4 mr-1 text-gray-500"}),M.staffName||"Khng c thng tin"]})]})]}),M.notes&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ghi ch:"}),s.jsx("p",{className:"text-sm italic",children:M.notes})]})]})}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex justify-end space-x-2",children:[s.jsxs(F,{variant:"danger",size:"xs",onClick:()=>p(M),children:[s.jsx(ir,{className:"h-4 w-4 mr-1"}),"T chi"]}),s.jsxs(F,{variant:"success",size:"xs",onClick:()=>v(M),children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Duyt"]})]})]},M.id))}):s.jsxs("div",{className:"bg-white rounded-lg border border-amber-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ie,{className:"h-8 w-8 text-amber-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Khng c kt qu xt nghim ch duyt"}),s.jsx("p",{className:"text-gray-500",children:"Hin ti khng c kt qu xt nghim no ang ch bn duyt"})]}),u&&l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Duyt kt qu xt nghim"}),s.jsx("p",{className:"mb-4",children:"Bn c chc chn mun duyt kt qu xt nghim ny khng?"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch duyt (khng bt buc)"}),s.jsx("textarea",{value:c,onChange:M=>d(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Nhp ghi ch (nu c)"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(F,{variant:"secondary",onClick:()=>h(!1),disabled:y,children:"Hy"}),s.jsx(F,{variant:"success",onClick:j,isLoading:y,children:"Xc nhn duyt"})]})]})}),m&&l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"T chi kt qu xt nghim"}),s.jsx("p",{className:"mb-4",children:"Vui lng nhp l do t chi kt qu xt nghim ny:"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["L do t chi ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx("textarea",{value:c,onChange:M=>d(M.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Nhp l do t chi kt qu xt nghim",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(F,{variant:"secondary",onClick:()=>g(!1),disabled:y,children:"Hy"}),s.jsx(F,{variant:"danger",onClick:N,isLoading:y,disabled:!c.trim(),children:"Xc nhn t chi"})]})]})})]})},kB=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState(null),b=f.useRef(0),[v,p]=f.useState({totalPatients:0,appointmentsToday:0,checkedIn:0,completed:0}),[j,N]=f.useState(!1),[w,E]=f.useState(null),M=async()=>{try{d(!0);const P=await Mn.getTodayAppointments();if(P.success){const C=P.data;e(C);const A=await Mn.getAllAppointments();if(A.success){const I=A.data.filter(O=>O.status==="CHECKED_IN");r(I);const V=A.data.filter(O=>O.status==="UNDER_REVIEW");a(V);const L=[];for(const O of V)try{const D=await ss.checkLabResultsForAppointment(O.id);if(D.success&&D.data){const R=await ss.getLabResults(null,O.userId,null);R.success&&R.data&&R.data.some(B=>B.appointmentId===O.id&&B.approvalStatus==="APPROVED")&&L.push(O)}}catch(D){console.error(`Error checking lab results for appointment ${O.id}:`,D)}if(o(L),b.current>0&&I.length>b.current){const O=I[I.length-1];x(O),g(!0),new Audio("/notification-sound.mp3").play().catch(R=>console.log("Error playing sound:",R)),setTimeout(()=>{g(!1)},1e4)}b.current=I.length,p(O=>({...O,appointmentsToday:C.length,checkedIn:I.length,completed:C.filter(D=>D.status==="COMPLETED").length}))}}else h(P.message||"Failed to fetch appointments");try{const C=await Ts.getDoctorDashboardStats();C.success&&C.data&&p(A=>({...A,totalPatients:C.data.uniquePatients||0}))}catch(C){console.error("Error fetching dashboard stats:",C);try{const A=Ee.getCurrentUser(),I=await _n.getDoctorProfile(A.id);if(I.id){const V=await _n.getPatients(I.id);V.success&&p(L=>({...L,totalPatients:V.data.length}))}}catch(A){console.error("Error fetching doctor patients:",A)}}}catch(P){h("Error fetching appointments: "+(P.message||"Unknown error")),console.error("Error fetching appointments:",P)}finally{d(!1)}};f.useEffect(()=>{M();const P=setInterval(M,3e4);return()=>clearInterval(P)},[]);const k=n;t.filter(P=>P.status==="CONFIRMED").map(P=>({id:P.id,patientName:P.userName,time:new Date(P.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),type:P.serviceName,status:"confirmed"}));const T=P=>{E(P),N(!0)},S=()=>{console.log("Patient record processed successfully, refreshing dashboard data"),N(!1),M()};return s.jsxs(be,{currentRole:se.DOCTOR,children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m&&y&&s.jsxs("div",{className:"fixed top-4 right-4 z-50 glass-effect text-primary-800 p-4 rounded-lg shadow-lg flex items-center space-x-3 new-patient-notification",children:[s.jsx(w0,{className:"h-6 w-6 text-primary-600 animate-pulse"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Bnh nhn mi check-in!"}),s.jsxs("p",{className:"text-sm",children:[y.userName,"  n v ang ch khm"]})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-600 hover:text-gray-800 ml-2",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg shadow-md p-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-indigo-900",children:[s.jsx(vs,{className:"h-6 w-6 inline mr-2 text-indigo-600"}),"Bnh nhn ang i"]}),s.jsx("p",{className:"text-indigo-700",children:"Cc bnh nhn  check-in v ang ch khm"})]}),s.jsxs(ue,{to:"/doctor/appointments",className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-all duration-200",children:["Xem tt c",s.jsx(Lc,{className:"h-4 w-4 ml-1"})]})]}),c?s.jsxs("div",{className:"bg-white rounded-lg border border-indigo-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-500 rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]}):k.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map((P,C)=>s.jsxs("div",{className:"bg-white rounded-lg border border-indigo-100 p-4 shadow-sm hover:shadow-md transition-all duration-300 patient-card animate-slideUp",style:{animationDelay:`${C*.1}s`},children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(vs,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:P.userName||"N/A"}),s.jsxs("div",{className:"text-gray-600 text-sm flex space-x-3",children:[s.jsxs("span",{children:[P.userAge||"??"," tui"]}),s.jsx("span",{children:""}),s.jsx("span",{children:P.userGender||"Khng r"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:P.serviceName||"Dch v khm"})]})]}),s.jsxs("div",{className:"mt-3 flex items-center text-indigo-600 text-sm",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),new Date(P.scheduledAt).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})," ",new Date(P.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),s.jsx("span",{className:"mx-2 text-gray-400",children:""}),s.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full text-xs",children:" check-in"})]})]}),s.jsxs("div",{className:"bg-blue-100 text-blue-700 rounded-md px-3 py-1.5 text-sm font-medium flex items-center",children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"}),"ang ch khm"]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{variant:"primary",size:"xs",onClick:()=>T(P),children:"Tip nhn h s"})})})]},P.id))}):s.jsxs("div",{className:"bg-white rounded-lg border border-indigo-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(vs,{className:"h-8 w-8 text-indigo-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Khng c bnh nhn ang ch"}),s.jsx("p",{className:"text-gray-500",children:"Hin ti khng c bnh nhn no  check-in v ang ch khm"})]})]}),s.jsx(NB,{}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200 rounded-lg shadow-md p-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-purple-900",children:[s.jsx(Rn,{className:"h-6 w-6 inline mr-2 text-purple-600"}),"Bnh nhn ch lp k hoch iu tr"]}),s.jsx("p",{className:"text-purple-700",children:"Bnh nhn  c kt qu xt nghim c duyt v sn sng lp k hoch iu tr"})]}),s.jsxs(ue,{to:"/doctor/appointments",className:"flex items-center text-purple-600 hover:text-purple-800 transition-all duration-200",children:["Xem tt c",s.jsx(Lc,{className:"h-4 w-4 ml-1"})]})]}),c?s.jsxs("div",{className:"bg-white rounded-lg border border-purple-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]}):l.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((P,C)=>s.jsxs("div",{className:"bg-white rounded-lg border border-purple-100 p-4 shadow-sm hover:shadow-md transition-all duration-300 patient-card animate-slideUp",style:{animationDelay:`${C*.1}s`},children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(vs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:P.userName||"N/A"}),s.jsxs("div",{className:"text-gray-600 text-sm flex space-x-3",children:[s.jsxs("span",{children:[P.userAge||"??"," tui"]}),s.jsx("span",{children:""}),s.jsx("span",{children:P.userGender||"Khng r"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:P.serviceName||"Dch v khm"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center text-purple-600 text-sm",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),new Date(P.scheduledAt).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})," ",new Date(P.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full text-xs",children:" c kt qu xt nghim c duyt"})})]})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx("div",{className:"flex justify-end space-x-2",children:s.jsxs(F,{variant:"primary",size:"xs",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>T(P),children:[s.jsx(Ze,{className:"h-4 w-4 mr-1"}),"Lp k hoch iu tr"]})})})]},P.id))}):s.jsxs("div",{className:"bg-white rounded-lg border border-purple-100 p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ze,{className:"h-8 w-8 text-purple-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Khng c bnh nhn ch lp k hoch iu tr"}),s.jsx("p",{className:"text-gray-500",children:"Hin ti khng c bnh nhn no  c kt qu xt nghim c duyt  lp k hoch iu tr"})]})]})]})})]}),s.jsx(wB,{isOpen:j,onClose:()=>N(!1),appointment:w,onSuccess:S})]})},SB=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState(null),[l,o]=f.useState(!1),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,g]=f.useState(null),[y,x]=f.useState(null),[b,v]=f.useState(""),[p,j]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const D=Ee.getCurrentUser();if(!D)throw new Error("Khng tm thy thng tin ngi dng");console.log("Current user:",D);try{const R=await _n.getDoctorProfile(D.id);if(console.log("Doctor profile response:",R),!R.success){j(!0),v(D.name||"Bc s"),h(!1),console.error("Doctor profile not successful:",R);return}const B=R.data;x(B.id),v(B.name||D.name||"Bc s"),console.log("Doctor ID set to:",B.id),await N(B.id)}catch(R){console.error("Error fetching doctor profile:",R),j(!0),v(D.name||"Bc s"),h(!1)}}catch(D){console.error("Error fetching doctor information:",D),g(D.message||"Khng th ly thng tin bc s"),h(!1)}})()},[]);const N=async O=>{try{h(!0),console.log("Fetching patients for doctor ID:",O);const D=await _n.getPatients(O);if(console.log("Patients response:",D),!D.success)throw new Error(D.message||"Khng th ly danh sch bnh nhn");const R=(D.data||[]).map(B=>({id:B.id,name:B.name,patientId:B.patientCode||`BN${B.id}`,age:B.age||E(B.birthdate),gender:B.gender,status:B.healthStatus||"new",enrollmentDate:B.enrollmentDate?new Date(B.enrollmentDate):new Date,lastVisit:B.lastVisitDate?new Date(B.lastVisitDate):new Date,contactNumber:B.phone||"Khng c",email:B.email||"Khng c",viralLoad:B.viralLoad||"Khng c d liu",cd4Count:B.cd4Count||"Khng c d liu",currentMedications:B.currentMedications||[],notes:B.healthNotes||"Khng c ghi ch"}));console.log("Transformed patient data:",R),d(R),g(null)}catch(D){console.error("Error fetching patients:",D),g(D.message||"Khng th ly danh sch bnh nhn")}finally{h(!1)}},w=async()=>{try{if(h(!0),!t.trim()){await N(y);return}const O=await _n.searchPatients(y,t);if(!O.success)throw new Error(O.message||"Khng th tm kim bnh nhn");const D=(O.data||[]).map(R=>({id:R.id,name:R.name,patientId:R.patientCode||`BN${R.id}`,age:R.age||E(R.birthdate),gender:R.gender,status:R.healthStatus||"new",enrollmentDate:R.enrollmentDate?new Date(R.enrollmentDate):new Date,lastVisit:R.lastVisitDate?new Date(R.lastVisitDate):new Date,contactNumber:R.phone||"Khng c",email:R.email||"Khng c",viralLoad:R.viralLoad||"Khng c d liu",cd4Count:R.cd4Count||"Khng c d liu",currentMedications:R.currentMedications||[],notes:R.healthNotes||"Khng c ghi ch"}));d(D),g(null)}catch(O){console.error("Error searching patients:",O),g(O.message||"Khng th tm kim bnh nhn")}finally{h(!1)}},E=O=>{if(!O)return 0;const D=new Date(O),R=new Date;let B=R.getFullYear()-D.getFullYear();const X=R.getMonth()-D.getMonth();return(X<0||X===0&&R.getDate()<D.getDate())&&B--,B},k=[...c.filter(O=>!(n!=="all"&&O.status!==n))].sort((O,D)=>new Date(D.lastVisit)-new Date(O.lastVisit)),T=O=>{if(!O)return"N/A";try{return O.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"})}catch(D){return console.error("Error formatting date:",D),"Invalid Date"}},S=O=>_n.getPatientStatusColor(O),P=O=>_n.getPatientStatusText(O),C=O=>{a(O)},A=()=>{a(null)},I=O=>{O.key==="Enter"&&w()},V=()=>s.jsxs("div",{className:"text-center py-10",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng tm thy h s bc s"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"H thng khng th tm thy h s bc s ca bn."}),s.jsx("div",{className:"mt-6",children:s.jsx(F,{variant:"primary",children:"Lin h qun tr vin"})})]}),L=()=>s.jsxs("div",{className:"text-center py-10",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng c bnh nhn"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Hin ti bn cha c bnh nhn no c phn cng."})]});return s.jsxs(be,{currentRole:se.DOCTOR,userName:b||"Bc s",children:[s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[m&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 rounded-md border border-red-200",children:s.jsx("p",{className:"text-red-600",children:m})}),s.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Danh sch bnh nhn"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Qun l v theo di bnh nhn ca bn"})]}),!p&&s.jsxs("div",{className:"mt-4 md:mt-0 flex items-center",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("input",{type:"text",placeholder:"Tm kim bnh nhn...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:t,onChange:O=>e(O.target.value),onKeyPress:I}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),s.jsx(F,{variant:"outline",className:"flex items-center mr-2",onClick:w,children:"Tm kim"}),s.jsxs(F,{variant:"outline",className:"flex items-center",onClick:()=>o(!l),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"B lc"]})]})]}),l&&s.jsx(G,{className:"mb-6",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Lc bnh nhn"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",value:n,onChange:O=>r(O.target.value),children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"stable",children:"n nh"}),s.jsx("option",{value:"attention",children:"Cn ch "}),s.jsx("option",{value:"critical",children:"Nguy him"}),s.jsx("option",{value:"new",children:"Bnh nhn mi"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"})]})]})})]})}),p?V():s.jsx(G,{className:"overflow-hidden",children:u?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary-500"}),s.jsx("span",{className:"ml-3 text-gray-500",children:"ang ti d liu..."})]}):k.length===0?L():s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch s"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ln khm gn nht"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:O.name.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("span",{className:"font-medium",children:O.patientId}),"  ",O.age," tui, ",O.gender]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${S(O.status)}`,children:P(O.status)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Ti lng Virus: ",O.viralLoad]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["CD4: ",O.cd4Count]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T(O.lastVisit)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx(F,{variant:"text",onClick:()=>C(O),className:"text-primary-600 hover:text-primary-900 mr-2",children:"Chi tit"})})]},O.id))})]})})})]}),i&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Thng tin chi tit bnh nhn"}),s.jsxs("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:A,children:[s.jsx("span",{className:"sr-only",children:"ng"}),s.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]})}),s.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 200px)"},children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 text-xl font-medium",children:i.name.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[i.patientId,"  ",i.age," tui, ",i.gender]}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${S(i.status)}`,children:P(i.status)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin lin h"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"in thoi"}),s.jsx("p",{className:"text-sm font-medium",children:i.contactNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm font-medium",children:i.email})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin iu tr"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy ng k"}),s.jsx("p",{className:"text-sm font-medium",children:T(i.enrollmentDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ln khm gn nht"}),s.jsx("p",{className:"text-sm font-medium",children:T(i.lastVisit)})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Ch s sc khe"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ti lng Virus"}),s.jsx("p",{className:"text-sm font-medium",children:i.viralLoad})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"S lng CD4"}),s.jsx("p",{className:"text-sm font-medium",children:i.cd4Count})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thuc ang s dng"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.currentMedications&&i.currentMedications.length>0?s.jsx("ul",{className:"divide-y divide-gray-200",children:i.currentMedications.map((O,D)=>s.jsx("li",{className:"py-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsx("p",{className:"text-xs text-gray-500",children:O.dosage})]}),s.jsx("p",{className:"text-xs text-gray-500",children:O.frequency})]})},D))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Khng c thng tin thuc"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Ghi ch"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:i.notes})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx(F,{variant:"outline",className:"mt-3 w-full sm:mt-0 sm:w-auto",onClick:A,children:"ng"})})]})]})})]})},TB=({appointment:t,isOpen:e,onClose:n,onCancel:r,onComplete:i,onMarkNoShow:a,onPutUnderReview:l,canCancel:o})=>{const[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(""),[y,x]=f.useState(""),[b,v]=f.useState(!1),[p,j]=f.useState(!1),[N,w]=f.useState(""),[E,M]=f.useState(!1),[k,T]=f.useState("");if(!e||!t)return null;const S=B=>B?new Date(B).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",P=B=>B?new Date(B).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"",C=B=>{switch(B){case"CONFIRMED":return"bg-blue-100 text-blue-800 border-blue-300";case"CHECKED_IN":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"COMPLETED":return"bg-green-100 text-green-800 border-green-300";case"CANCELLED":return"bg-red-100 text-red-800 border-red-300";case"NO_SHOW":return"bg-gray-100 text-gray-800 border-gray-300";case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"UNDER_REVIEW":return"bg-purple-100 text-purple-800 border-purple-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},A=B=>{switch(B){case"CONFIRMED":return" ln lch";case"CHECKED_IN":return" check-in";case"COMPLETED":return"Hon thnh";case"CANCELLED":return" hy";case"NO_SHOW":return"Khng n";case"PENDING":return"Ch xc nhn";case"UNDER_REVIEW":return"ang tip nhn h s";default:return B}},I=B=>{switch(B){case"CONFIRMED":return s.jsx(ve,{className:"h-4 w-4"});case"CHECKED_IN":return s.jsx(vs,{className:"h-4 w-4"});case"COMPLETED":return s.jsx(Xe,{className:"h-4 w-4"});case"CANCELLED":return s.jsx(et,{className:"h-4 w-4"});case"NO_SHOW":return s.jsx(ze,{className:"h-4 w-4"});case"UNDER_REVIEW":return s.jsx(Ze,{className:"h-4 w-4"});default:return null}},V=()=>{h(!0),i(m)},L=()=>{h(!0),r(y),v(!1)},O=()=>{h(!0),a(N),j(!1)},D=()=>{h(!0),l(k),M(!1)},R=()=>{if(!t.scheduledAt)return!1;const B=new Date,X=new Date(t.scheduledAt);return B>=X};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:n,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full animate-scale-in",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ze,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Chi tit lch hn"]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 focus:outline-none transition-colors duration-200",onClick:n,children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 pt-5 pb-6 bg-white",children:[s.jsxs("div",{className:"flex flex-col space-y-5",children:[s.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl p-4 shadow-sm border border-blue-100 animate-fade-in",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-indigo-100 text-indigo-600",children:s.jsx(Be,{className:"h-8 w-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-medium text-gray-900",children:t.userName||"N/A"}),s.jsx("p",{className:"text-gray-500",children:t.userEmail||"N/A"})]}),s.jsx("div",{className:"mt-2 md:mt-0 flex items-center space-x-2",children:s.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 border rounded-full text-sm font-medium ${C(t.status)}`,children:[I(t.status),s.jsx("span",{children:A(t.status)})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(ve,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:S(t.scheduledAt)})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:P(t.scheduledAt)})]}),t.serviceName&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Ze,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:t.serviceName})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in stagger-1",children:[t.symptoms&&s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-800 mb-2 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-amber-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Triu chng"]}),s.jsx("p",{className:"text-gray-700 bg-amber-50 p-3 rounded-lg text-sm",children:t.symptoms})]}),t.medicalHistory&&s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-800 mb-2 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),"Tin s bnh"]}),s.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg text-sm",children:t.medicalHistory})]}),t.notes&&s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsxs("h5",{className:"text-sm font-medium text-gray-800 mb-2 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-purple-500",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Ghi ch"]}),s.jsx("p",{className:"text-gray-700 bg-purple-50 p-3 rounded-lg text-sm",children:t.notes})]})]}),b&&s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-xl p-4 border border-red-200 animate-fadeInUp",children:[s.jsxs("h4",{className:"font-medium text-red-800 mb-3 flex items-center",children:[s.jsx(ur,{className:"h-5 w-5 mr-2 text-red-600"}),"Hy lch hn"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L do hy lch hn"}),s.jsx("textarea",{value:y,onChange:B=>x(B.target.value),placeholder:"Vui lng nhp l do hy lch hn...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-300 transition-shadow duration-200",rows:"3"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-2",children:[s.jsx(F,{variant:"outline",onClick:()=>v(!1),disabled:u,children:"ng"}),s.jsx(F,{color:"danger",onClick:L,disabled:u||!y.trim(),icon:s.jsx(ur,{className:"h-4 w-4"}),children:u?"ang x l...":"Xc nhn hy lch hn"})]})]})]}),p&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-xl p-4 border border-amber-200 animate-fadeInUp",children:[s.jsxs("h4",{className:"font-medium text-amber-800 mb-3 flex items-center",children:[s.jsx(ze,{className:"h-5 w-5 mr-2 text-amber-600"}),"nh du khng n khm"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch v vic bnh nhn khng n"}),s.jsx("textarea",{value:N,onChange:B=>w(B.target.value),placeholder:"Vui lng nhp l do bnh nhn khng n khm...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-300 transition-shadow duration-200",rows:"3"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-2",children:[s.jsx(F,{variant:"outline",onClick:()=>j(!1),disabled:u,children:"ng"}),s.jsx(F,{color:"warning",onClick:O,disabled:u||!N.trim(),icon:s.jsx(ze,{className:"h-4 w-4"}),children:u?"ang x l...":"Xc nhn khng n khm"})]})]})]}),E&&s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-xl max-w-md mx-auto mt-8 border border-gray-200 animate-fade-in",children:[s.jsx("div",{className:"bg-purple-50 px-6 py-4 border-b border-purple-100",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tip nhn h s bnh nhn"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"underReviewNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi ch (ty chn)"}),s.jsx("textarea",{id:"underReviewNotes",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",rows:"4",placeholder:"Thm ghi ch v vic tip nhn h s bnh nhn",value:k,onChange:B=>T(B.target.value)})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(F,{variant:"outline",onClick:()=>M(!1),disabled:u,children:"Hy"}),s.jsx(F,{variant:"primary",onClick:D,loading:u,className:"bg-purple-600 hover:bg-purple-700",children:"Tip nhn h s"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-wrap justify-end gap-3 border-t border-gray-200 animate-fade-in stagger-3",children:[t.status==="CHECKED_IN"&&s.jsxs(F,{variant:"primary",onClick:()=>M(!0),className:"bg-purple-600 hover:bg-purple-700",disabled:u,children:[s.jsx(Ze,{className:"h-5 w-5 mr-2"}),"Tip nhn h s"]}),t.status==="UNDER_REVIEW"&&s.jsxs(F,{variant:"primary",onClick:i,disabled:u,className:"bg-indigo-600 hover:bg-indigo-700",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2"}),"Nhp kt qu xt nghim"]}),t.status==="UNDER_REVIEW"&&s.jsxs(F,{variant:"primary",onClick:()=>d(!0),disabled:u,children:[s.jsx(Xe,{className:"h-5 w-5 mr-2"}),"Hon thnh"]}),t.status==="CONFIRMED"&&s.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4 border border-gray-200 animate-fade-in stagger-2 w-full",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Hnh ng"}),c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{value:m,onChange:B=>g(B.target.value),placeholder:"Nhp ghi ch v cuc khm...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-300 transition-shadow duration-200",rows:"3"})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx(F,{variant:"outline",onClick:()=>d(!1),disabled:u,icon:s.jsx(et,{className:"h-4 w-4"}),children:"Hy"}),s.jsx(F,{variant:"primary",onClick:V,disabled:u,icon:s.jsx(Xe,{className:"h-4 w-4"}),children:u?"ang x l...":"Xc nhn hon thnh"})]})]}):s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(F,{color:"danger",onClick:()=>v(!0),disabled:!o&&t.status==="CHECKED_IN",title:o?"Hy lch hn":t.status==="CHECKED_IN"?"Khng th hy lch hn sau khi bnh nhn  check-in":"Khng th hy lch hn trong vng 24 gi trc gi hn",icon:s.jsx(ur,{className:"h-5 w-5"}),className:"transform transition-all duration-300 hover:scale-105",children:"Hy lch hn"}),R()?s.jsx(F,{color:"warning",onClick:()=>j(!0),icon:s.jsx(ze,{className:"h-5 w-5"}),className:"transform transition-all duration-300 hover:scale-105",children:"Khng n khm"}):s.jsx(F,{color:"warning",disabled:!0,title:"Ch c th nh du khng n sau khi  n thi gian hn",icon:s.jsx(ze,{className:"h-5 w-5"}),children:"Khng n khm"})]})]}),t.status==="COMPLETED"&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200 animate-fade-in stagger-2",children:[s.jsxs("h4",{className:"font-medium text-green-800 mb-3 flex items-center",children:[s.jsx(Xe,{className:"h-5 w-5 mr-2 text-green-600"}),"Thng tin hon thnh"]}),s.jsx("p",{className:"text-green-700 bg-white/50 p-3 rounded-lg",children:t.notes||"Khng c ghi ch v kt qu khm"})]}),t.status==="CANCELLED"&&s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-xl p-4 border border-red-200 animate-fade-in stagger-2",children:[s.jsxs("h4",{className:"font-medium text-red-800 mb-3 flex items-center",children:[s.jsx(et,{className:"h-5 w-5 mr-2 text-red-600"}),"Thng tin hy lch"]}),s.jsxs("p",{className:"text-red-700 bg-white/50 p-3 rounded-lg",children:["L do:"," ",t.cancellationReason||"Khng c l do"]})]}),(t.status==="CONFIRMED"||t.status==="CHECKED_IN")&&s.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200 animate-fadeInUp mt-2",children:[s.jsxs("h4",{className:"font-medium text-amber-800 mb-3 flex items-center",children:[s.jsx(q8,{className:"h-5 w-5 mr-2 text-amber-600"}),"Quy nh hy lch hn"]}),s.jsxs("ul",{className:"text-amber-700 list-disc pl-5 space-y-1 text-sm",children:[s.jsx("li",{children:"Bnh nhn v bc s u c th hy lch hn"}),s.jsx("li",{children:"Ch c hy lch hn trc t nht 24 gi"}),s.jsx("li",{children:"Sau khi bnh nhn  check-in, khng th hy lch hn"}),s.jsx("li",{children:"Vui lng cung cp l do khi hy  chng ti ci thin dch v"})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end",children:s.jsx(F,{onClick:n,variant:"outline",className:"hover:bg-blue-50 transition-all duration-300",children:"ng"})})]})]})]})})},CB=({isOpen:t,onClose:e,appointment:n,onSuccess:r})=>{const[i,a]=f.useState("cd4"),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState(null),[y,x]=f.useState([]),[b,v]=f.useState(""),[p,j]=f.useState(""),[N,w]=f.useState(""),[E,M]=f.useState(""),[k,T]=f.useState(""),[S,P]=f.useState(""),[C,A]=f.useState(""),[I,V]=f.useState(new Date().toISOString().split("T")[0]),[L,O]=f.useState("");if(f.useEffect(()=>{var Z;if(!t)v(""),j(""),w(""),M(""),T(""),P(""),A(""),V(new Date().toISOString().split("T")[0]),O(""),h(null),g(null),d(!1);else if(n){const $=((Z=n.serviceName)==null?void 0:Z.toLowerCase())||"",Y=[];($.includes("cd4")||$.includes("xt nghim")||$.includes("test")||$.includes("kim tra")||$.includes("mu")||$.includes("blood"))&&Y.push("cd4"),($.includes("viral")||$.includes("load")||$.includes("ti lng")||$.includes("xt nghim")||$.includes("test")||$.includes("kim tra")||$.includes("mu")||$.includes("blood"))&&Y.push("viralLoad"),Y.length===0&&Y.push("cd4","viralLoad"),x(Y),Y.length>0&&!Y.includes(i)&&a(Y[0])}},[t,n]),!t||!n)return null;const D=async()=>{if(!b){h("Vui lng nhp kt qu CD4");return}try{o(!0),h(null);const Z={userId:n.userId,testType:"CD4",result:b,referenceRange:"500-1500 cells/mm",unit:"cells/mm",testDate:new Date().toISOString().split("T")[0],notes:p,appointmentId:n.id},$=await ss.createLabResult(Z);$.success?(g(" lu kt qu xt nghim CD4"),d(!0)):h("Li khi lu kt qu: "+$.message)}catch(Z){h("Li khi lu kt qu: "+Z.message)}finally{o(!1)}},R=async()=>{if(!N){h("Vui lng nhp kt qu Viral Load");return}try{o(!0),h(null);const Z={userId:n.userId,testType:"VIRAL_LOAD",result:N,referenceRange:"<50 copies/ml",unit:"copies/ml",testDate:new Date().toISOString().split("T")[0],notes:E,appointmentId:n.id},$=await ss.createLabResult(Z);$.success?(g(" lu kt qu xt nghim Viral Load"),d(!0)):h("Li khi lu kt qu: "+$.message)}catch(Z){h("Li khi lu kt qu: "+Z.message)}finally{o(!1)}},B=async()=>{if(!k){h("Vui lng nhp m t phc  iu tr");return}try{o(!0),h(null);const Z={appointmentId:n.id,description:k,startDate:I,status:"ACTIVE",medicationNotes:S,sideEffects:C,nextAppointmentDate:L||null},$=await Ts.createTreatmentPlan(Z);$.success?(g(" to phc  iu tr mi"),r&&r(),setTimeout(()=>{e()},1500)):h("Li khi to phc : "+$.message)}catch(Z){h("Li khi to phc : "+Z.message)}finally{o(!1)}},X=async()=>{try{o(!0),h(null);const Z=[];y.includes("cd4")&&Z.push(`CD4: ${b||"Khng ghi nhn"}`),y.includes("viralLoad")&&Z.push(`Viral Load: ${N||"Khng ghi nhn"}`),k&&Z.push(`Phc : ${k}`);const $=await Mn.completeAppointment(n.id,Z.join(", "));$.success?(g(" hon thnh cuc hn"),setTimeout(()=>{e(),r&&r()},1500)):h("Li khi hon thnh cuc hn: "+$.message)}catch(Z){h("Li khi hon thnh cuc hn: "+Z.message)}finally{o(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full animate-scale-in",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ie,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Kt qu xt nghim"]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 focus:outline-none transition-colors duration-200",onClick:e,children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 pt-5 pb-6 bg-white",children:[s.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(vs,{className:"h-7 w-7 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg",children:n.userName}),s.jsxs("div",{className:"text-gray-600 text-sm flex space-x-3",children:[s.jsxs("span",{children:[n.userAge||"??"," tui"]}),s.jsx("span",{children:""}),s.jsx("span",{children:n.userGender||"Khng r"})]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Dch v:"})," ",n.serviceName]}),s.jsxs("p",{className:"text-gray-500 text-sm",children:[s.jsx("span",{className:"font-medium",children:"Ngy gi hn:"})," ",new Date(n.scheduledAt).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})," ",new Date(n.scheduledAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]})]})}),u&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg",children:u}),m&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-lg",children:m}),c?s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[s.jsx(Ze,{className:"w-5 h-5 inline mr-2 text-indigo-600"}),"Phc  iu tr"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t phc "}),s.jsx("textarea",{value:k,onChange:Z=>T(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"3",placeholder:"Nhp chi tit phc  iu tr"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thuc  k"}),s.jsx("textarea",{value:S,onChange:Z=>P(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"2",placeholder:"Thuc  k cho bnh nhn"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tc dng ph c th gp"}),s.jsx("textarea",{value:C,onChange:Z=>A(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"2",placeholder:"Cc tc dng ph cn lu "})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy bt u"}),s.jsx("input",{type:"date",value:I,onChange:Z=>V(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy ti khm"}),s.jsx("input",{type:"date",value:L,onChange:Z=>O(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}):s.jsxs(s.Fragment,{children:[y.length>0&&s.jsxs(s.Fragment,{children:[y.length>1&&s.jsx("div",{className:"mb-4 border-b border-gray-200",children:s.jsxs("nav",{className:"flex -mb-px","aria-label":"Tabs",children:[y.includes("cd4")&&s.jsx("button",{onClick:()=>a("cd4"),className:`mr-2 py-2 px-4 ${i==="cd4"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"CD4"}),y.includes("viralLoad")&&s.jsx("button",{onClick:()=>a("viralLoad"),className:`py-2 px-4 ${i==="viralLoad"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Viral Load"})]})}),i==="cd4"&&y.includes("cd4")&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kt qu CD4 (cells/mm)"}),s.jsx("input",{type:"text",value:b,onChange:Z=>v(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nhp kt qu, vd: 450"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{value:p,onChange:Z=>j(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"2",placeholder:"Nhp ghi ch (nu c)"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{variant:"primary",onClick:D,disabled:l,children:"Lu kt qu CD4"})})]}),i==="viralLoad"&&y.includes("viralLoad")&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kt qu Viral Load (copies/ml)"}),s.jsx("input",{type:"text",value:N,onChange:Z=>w(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nhp kt qu, vd: <50"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{value:E,onChange:Z=>M(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"2",placeholder:"Nhp ghi ch (nu c)"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{variant:"primary",onClick:R,disabled:l,children:"Lu kt qu Viral Load"})})]})]}),y.length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Khng c xt nghim no"}),s.jsx("p",{className:"text-gray-500",children:"Dch v ny khng bao gm xt nghim CD4 hoc Viral Load."})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:c?s.jsxs(s.Fragment,{children:[s.jsx(F,{variant:"outline",onClick:()=>d(!1),disabled:l,children:"Quay li"}),s.jsx(F,{variant:"primary",onClick:B,disabled:l,icon:s.jsx(Ze,{className:"h-5 w-5"}),children:l?"ang lu...":"Lu phc "}),s.jsx(F,{variant:"success",onClick:X,disabled:l,icon:s.jsx(Xe,{className:"h-5 w-5"}),children:"Hon thnh khm"})]}):s.jsxs(s.Fragment,{children:[y.length>0&&s.jsx(F,{variant:"success",onClick:()=>d(!0),disabled:l,icon:s.jsx(Ze,{className:"h-5 w-5"}),children:"Tip tc n phc "}),s.jsx(F,{variant:"outline",onClick:e,disabled:l,children:"ng"})]})})]})]})})},EB=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState(""),[l,o]=f.useState("all"),[c,d]=f.useState("all"),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState(!0),[b,v]=f.useState(null),[p,j]=f.useState("list"),[N,w]=f.useState(!1),[E,M]=f.useState(!1),[k,T]=f.useState(""),[S,P]=f.useState(null),[C,A]=f.useState(!1),[I,V]=f.useState(null);f.useEffect(()=>{L()},[]);const L=async()=>{try{x(!0);const ne=await Mn.getAllAppointments();ne.success?(e(ne.data),r(ne.data),v(null)):v(ne.message||"Failed to fetch appointments")}catch(ne){v("Error fetching appointments: "+(ne.message||"Unknown error")),console.error("Error fetching appointments:",ne)}finally{x(!1)}};f.useEffect(()=>{let ne=t;if(i&&(ne=ne.filter(De=>{var Me,Ae,z;return((Me=De.userName)==null?void 0:Me.toLowerCase().includes(i.toLowerCase()))||((Ae=De.notes)==null?void 0:Ae.toLowerCase().includes(i.toLowerCase()))||((z=De.symptoms)==null?void 0:z.toLowerCase().includes(i.toLowerCase()))})),l!=="all"&&(ne=ne.filter(De=>De.status===l)),c!=="all"){const De=new Date,Me=new Date(De);switch(Me.setDate(Me.getDate()+1),c){case"today":ne=ne.filter(K=>new Date(K.scheduledAt).toDateString()===De.toDateString());break;case"week":const Ae=new Date(De.getTime()+7*24*60*60*1e3);ne=ne.filter(K=>{const te=new Date(K.scheduledAt);return te>=De&&te<=Ae});break;case"month":const z=new Date(De.getFullYear(),De.getMonth()+1,De.getDate());ne=ne.filter(K=>{const te=new Date(K.scheduledAt);return te>=De&&te<=z});break}}ne.sort((De,Me)=>{const Ae=new Date(De.scheduledAt),z=new Date(Me.scheduledAt);return Ae-z}),r(ne)},[t,i,l,c]);const O=ne=>{h(ne),g(!0)},D=ne=>{V(ne),A(!0)},R=(ne,De)=>{const Me=t.find(Ae=>Ae.id===ne);if(Me&&Me.status==="UNDER_REVIEW"){D(Me),g(!1);return}try{x(!0),Mn.completeAppointment(ne,De).then(Ae=>{Ae.success?(e(z=>z.map(K=>K.id===ne?Ae.data:K)),g(!1)):v(Ae.message||"Failed to complete appointment")}).catch(Ae=>{v("Error completing appointment: "+(Ae.message||"Unknown error")),console.error("Error completing appointment:",Ae)}).finally(()=>{x(!1)})}catch(Ae){v("Error completing appointment: "+(Ae.message||"Unknown error")),console.error("Error completing appointment:",Ae),x(!1)}},B=async(ne,De)=>{try{const Me=t.find(Ae=>Ae.id===ne);if(Me&&Me.status==="CHECKED_IN"){v("Khng th hy lch hn sau khi bnh nhn  check-in.");return}if(Me){const Ae=new Date(Me.scheduledAt),z=new Date,K=24*60*60*1e3;if(Ae-z<=K){v("Khng th hy lch hn trong vng 24 gi trc gi hn.");return}}if(De){x(!0);const Ae=await Mn.cancelAppointment(ne,De);Ae.success?(e(z=>z.map(K=>K.id===ne?Ae.data:K)),g(!1),P(null),T(""),M(!1)):v(Ae.message||"Failed to cancel appointment")}else P(Me),M(!0)}catch(Me){v("Error cancelling appointment: "+(Me.message||"Unknown error")),console.error("Error cancelling appointment:",Me)}finally{x(!1)}},X=async()=>{S&&await B(S.id,k||"Cancelled by doctor")},Z=async(ne,De)=>{try{x(!0);const Me=await Mn.markNoShow(ne,De);Me.success?(e(Ae=>Ae.map(z=>z.id===ne?Me.data:z)),g(!1),h(null)):v(Me.message||"Failed to mark appointment as no-show")}catch(Me){v("Error marking appointment as no-show: "+(Me.message||"Unknown error")),console.error("Error marking appointment as no-show:",Me)}finally{x(!1)}},$=async(ne,De)=>{try{const Me=t.find(z=>z.id===ne);if(Me&&Me.status!=="CHECKED_IN"){v("Bnh nhn cha check-in. Vui lng m bo bnh nhn  check-in trc khi tip nhn h s.");return}x(!0);const Ae=await Mn.putUnderReview(ne,De);Ae.success?(e(z=>z.map(K=>K.id===ne?Ae.data:K)),g(!1)):v(Ae.message||"Khng th tip nhn h s")}catch(Me){v("Li khi tip nhn h s: "+(Me.message||"Li khng xc nh")),console.error("Error putting appointment under review:",Me)}finally{x(!1)}},Y=ne=>{switch(ne){case"CONFIRMED":return"bg-blue-100 text-blue-800";case"COMPLETED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800";case"NO_SHOW":return"bg-gray-100 text-gray-800";case"CHECKED_IN":return"bg-indigo-100 text-indigo-800";case"UNDER_REVIEW":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},_=ne=>{switch(ne){case"CONFIRMED":return s.jsx(ve,{className:"h-4 w-4"});case"COMPLETED":return s.jsx(Xe,{className:"h-4 w-4"});case"CANCELLED":return s.jsx(ur,{className:"h-4 w-4"});case"NO_SHOW":return s.jsx(ze,{className:"h-4 w-4"});case"CHECKED_IN":return s.jsx(vs,{className:"h-4 w-4"});case"UNDER_REVIEW":return s.jsx(Ze,{className:"h-4 w-4"});default:return null}},H=ne=>{switch(ne){case"CONFIRMED":return" ln lch";case"COMPLETED":return"Hon thnh";case"CANCELLED":return" hy";case"NO_SHOW":return"Khng n";case"CHECKED_IN":return" check-in";case"UNDER_REVIEW":return"ang tip nhn h s";default:return ne}},U=ne=>ne?new Date(ne).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",W=ne=>ne?new Date(ne).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"",J=ne=>t.filter(De=>De.status===ne).length,ce=()=>{const ne=new Date().toDateString();return t.filter(De=>new Date(De.scheduledAt).toDateString()===ne&&De.status==="CONFIRMED").length},re=ne=>{if(!ne||ne.status==="CHECKED_IN")return!1;const De=new Date(ne.scheduledAt),Me=new Date,Ae=24*60*60*1e3;return De-Me>Ae},Te=()=>{const ne={};return n.forEach(De=>{const Me=new Date(De.scheduledAt).toDateString();ne[Me]||(ne[Me]=[]),ne[Me].push(De)}),ne},Fe=()=>{const ne=Te();return Object.keys(ne).length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-10 text-center animate-fade-in",children:[s.jsx(ve,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c lch hn"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy lch hn ph hp vi tiu ch tm kim"})]}):s.jsx("div",{className:"space-y-8 animate-fade-in",children:Object.entries(ne).map(([De,Me],Ae)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-slideUp",style:{animationDelay:`${Ae*.1}s`},children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-white px-6 py-4 border-b border-blue-100",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:new Date(De).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:[Me.length," cuc hn"]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:Me.map((z,K)=>s.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-150 flex items-center justify-between",onClick:()=>O(z),children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Be,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:z.userName||"N/A"}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:z.serviceName||"General appointment"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"text-sm text-gray-500 mr-4",children:[s.jsx(Ce,{className:"h-4 w-4 inline mr-1"}),W(z.scheduledAt)]}),s.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium flex items-center space-x-1 ${Y(z.status)}`,children:[_(z.status),s.jsx("span",{children:H(z.status)})]})]})]}),s.jsx(F,{variant:"text",size:"sm",icon:s.jsx(Ms,{className:"h-4 w-4"}),onClick:te=>{te.stopPropagation(),O(z)},children:"Chi tit"})]},z.id))})]},De))})},Ss=()=>n.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-10 text-center animate-fade-in",children:[s.jsx(ve,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c lch hn"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy lch hn ph hp vi tiu ch tm kim"})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden animate-fade-in",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chi tit"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((ne,De)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200 animate-fadeIn",style:{animationDelay:`${De*.05}s`},children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center bg-blue-100 rounded-full text-blue-600",children:s.jsx(Be,{className:"h-5 w-5"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.userName||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:ne.userEmail||"N/A"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900 font-medium",children:U(ne.scheduledAt)}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Ce,{className:"h-3 w-3 mr-1"}),W(ne.scheduledAt)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center space-x-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${Y(ne.status)}`,children:[_(ne.status),s.jsx("span",{children:H(ne.status)})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap max-w-[200px] overflow-hidden text-ellipsis",children:[s.jsx("div",{className:"text-sm text-gray-900 truncate",children:ne.symptoms||"Khng c triu chng"}),s.jsx("div",{className:"text-sm text-gray-500 truncate",children:ne.notes||"Khng c ghi ch"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(F,{variant:"text",color:"primary",size:"xs",onClick:()=>O(ne),title:"Xem chi tit",icon:s.jsx(Ms,{className:"h-4 w-4"})}),ne.status==="CONFIRMED"&&s.jsx(F,{variant:"text",color:"danger",size:"xs",onClick:()=>B(ne.id),disabled:!re(ne),title:re(ne)?"Hy lch hn":ne.status==="CHECKED_IN"?"Khng th hy lch hn sau khi bnh nhn  check-in":"Khng th hy lch hn trong vng 24 gi trc gi hn",icon:s.jsx(ur,{className:"h-4 w-4"})}),ne.status==="CHECKED_IN"&&s.jsx(F,{variant:"text",color:"success",size:"xs",onClick:()=>{h(ne),g(!0)},title:"Hon thnh cuc hn",icon:s.jsx(Xe,{className:"h-4 w-4"})})]})})]},ne.id))})]})})}),Wn=()=>{L(),A(!1)};return s.jsxs(be,{currentRole:se.DOCTOR,pageTitle:"Qun l lch hn",children:[s.jsxs("div",{className:"space-y-6",children:[b&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative animate-fade-in",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Li! "}),s.jsx("span",{className:"block sm:inline",children:b}),s.jsx("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>v(null),children:s.jsx(et,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(G,{icon:s.jsx(ve,{className:"h-5 w-5"}),title:"Hm nay",className:"stats-card animate-fade-in",children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:ce()}),s.jsx("div",{className:"h-1 w-full bg-blue-100 rounded-full mt-2",children:s.jsx("div",{className:"h-1 rounded-full bg-blue-500 animate-progress",style:{width:`${ce()/Math.max(1,t.length)*100}%`}})})]})}),s.jsx(G,{icon:s.jsx(Xe,{className:"h-5 w-5"}),title:" hon thnh",className:"stats-card animate-fade-in stagger-1",children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J("COMPLETED")}),s.jsx("div",{className:"h-1 w-full bg-green-100 rounded-full mt-2",children:s.jsx("div",{className:"h-1 rounded-full bg-green-500 animate-progress",style:{width:`${J("COMPLETED")/Math.max(1,t.length)*100}%`}})})]})}),s.jsx(G,{icon:s.jsx(vs,{className:"h-5 w-5"}),title:" check-in",className:"stats-card animate-fade-in stagger-2",children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J("CHECKED_IN")}),s.jsx("div",{className:"h-1 w-full bg-indigo-100 rounded-full mt-2",children:s.jsx("div",{className:"h-1 rounded-full bg-indigo-500 animate-progress",style:{width:`${J("CHECKED_IN")/Math.max(1,t.length)*100}%`}})})]})}),s.jsx(G,{icon:s.jsx(ze,{className:"h-5 w-5"}),title:" hy",className:"stats-card animate-fade-in stagger-3",children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:J("CANCELLED")}),s.jsx("div",{className:"h-1 w-full bg-red-100 rounded-full mt-2",children:s.jsx("div",{className:"h-1 rounded-full bg-red-500 animate-progress",style:{width:`${J("CANCELLED")/Math.max(1,t.length)*100}%`}})})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 animate-fade-in stagger-1",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md transition-colors ${p==="list"?"bg-primary-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>j("list"),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"Danh sch"]}),s.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md transition-colors ${p==="calendar"?"bg-primary-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>j("calendar"),children:[s.jsx(ve,{className:"h-5 w-5 mr-1"}),"Lch"]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[s.jsx(F,{variant:"outline",size:"sm",icon:s.jsx(at,{className:"h-4 w-4"}),onClick:L,className:"whitespace-nowrap",children:"Lm mi"}),s.jsxs("div",{className:"relative flex-1 md:max-w-[300px]",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-4 w-4 text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-300 text-sm",placeholder:"Tm kim bnh nhn...",value:i,onChange:ne=>a(ne.target.value)})]}),s.jsx(F,{variant:"outline",size:"sm",icon:s.jsx(vL,{className:"h-4 w-4"}),onClick:()=>w(!N),className:"whitespace-nowrap",children:"B lc"})]})]}),N&&s.jsx("div",{className:"mt-4 pt-4 border-t animate-slideUp",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{className:"block w-full py-2 pl-3 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-300 text-sm",value:l,onChange:ne=>o(ne.target.value),children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"CONFIRMED",children:" ln lch"}),s.jsx("option",{value:"CHECKED_IN",children:" check-in"}),s.jsx("option",{value:"COMPLETED",children:"Hon thnh"}),s.jsx("option",{value:"CANCELLED",children:" hy"}),s.jsx("option",{value:"NO_SHOW",children:"Khng n"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thi gian"}),s.jsxs("select",{className:"block w-full py-2 pl-3 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-300 text-sm",value:c,onChange:ne=>d(ne.target.value),children:[s.jsx("option",{value:"all",children:"Tt c thi gian"}),s.jsx("option",{value:"today",children:"Hm nay"}),s.jsx("option",{value:"week",children:"Trong tun"}),s.jsx("option",{value:"month",children:"Trong thng"})]})]})]})})]}),y?s.jsxs("div",{className:"animate-fadeIn flex flex-col items-center justify-center bg-white rounded-lg shadow-sm p-10",children:[s.jsx("div",{className:"w-12 h-12 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"ang ti lch hn..."})]}):p==="list"?Ss():Fe()]}),m&&u&&s.jsx(TB,{appointment:u,isOpen:m,onClose:()=>g(!1),onCancel:ne=>B(u.id,ne),onComplete:ne=>R(u.id,ne),onMarkNoShow:ne=>Z(u.id,ne),onPutUnderReview:ne=>$(u.id,ne),canCancel:re(u)}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nhp l do hy lch hn"}),s.jsx("textarea",{value:k,onChange:ne=>T(ne.target.value),placeholder:"Nhp l do hy lch hn...",className:"w-full p-2 border border-gray-300 rounded-lg"}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>M(!1),children:"Hy"}),s.jsx(F,{variant:"primary",size:"sm",onClick:X,children:"Xc nhn"})]})]})}),s.jsx(CB,{isOpen:C,onClose:()=>A(!1),appointment:I,onSuccess:Wn})]})},Ha="http://localhost:8080/api";class DB{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e))}async getLabResults(e=null,n=null,r=null,i=null){try{const a={};return e&&(a.doctorId=e),n&&n!=="all"&&(a.testType=n),r&&r!=="all"&&(a.patientId=r),i&&(a.searchTerm=i),(await Q.get(`${Ha}/doctor/lab-results`,{params:a})).data.data}catch(a){throw console.error("Error fetching lab results:",a),this.handleApiError(a)}}async getLabResultById(e,n){try{if(!n){const a=Ee.getCurrentUser();n=a==null?void 0:a.doctorId}const r=n?{doctorId:n}:{};return(await Q.get(`${Ha}/doctor/lab-results/${e}`,{params:r})).data.data}catch(r){throw console.error("Error fetching lab result details:",r),this.handleApiError(r)}}async createLabResult(e){try{if(!e.doctorId){const r=Ee.getCurrentUser();r!=null&&r.doctorId&&(e.doctorId=r.doctorId)}return(await Q.post(`${Ha}/doctor/lab-results`,e)).data.data}catch(n){throw console.error("Error creating lab result:",n),this.handleApiError(n)}}async updateLabResult(e,n){try{return(await Q.put(`${Ha}/doctor/lab-results/${e}`,n)).data.data}catch(r){throw console.error("Error updating lab result:",r),this.handleApiError(r)}}async deleteLabResult(e){try{return(await Q.delete(`${Ha}/doctor/lab-results/${e}`)).data}catch(n){throw console.error("Error deleting lab result:",n),this.handleApiError(n)}}async getTestTypes(){try{return(await Q.get(`${Ha}/doctor/lab-results/test-types`)).data.data}catch(e){throw console.error("Error fetching test types:",e),this.handleApiError(e)}}handleApiError(e){if(e.response){const n=e.response.data;return{status:e.response.status,message:n.message||"An error occurred",errors:n.errors||[]}}else return e.request?{status:0,message:"No response from server. Please check your connection."}:{status:0,message:e.message||"An unknown error occurred"}}}const Bj=new DB,PB=({isOpen:t,onClose:e,onSave:n,testResult:r=null,patient:i=null,appointment:a=null,isEmbedded:l=!1,disabled:o=!1})=>{console.log("TestResultEditor rendered with:",{isOpen:t,hasOnClose:!!e,hasOnSave:!!n,hasTestResult:!!r,hasPatient:!!i,patientId:i==null?void 0:i.id,hasAppointment:!!a,isEmbedded:l,disabled:o});const c=localStorage.getItem("doctorName")||"Bc s",d=Ee.getCurrentUser(),u=(d==null?void 0:d.doctorId)||null;console.log("Current user info:",{currentUser:d,doctorId:u,doctorName:c});const h=()=>{let $;if(r!=null&&r.testDate)$=new Date(r.testDate);else if(a!=null&&a.scheduledAt){const Y=new Date(a.scheduledAt),_=new Date;_.setHours(0,0,0,0),Y<=_?$=Y:$=_}else $=new Date;return $.toISOString().slice(0,10)},[m,g]=f.useState({userId:(r==null?void 0:r.userId)||(i==null?void 0:i.id)||(a==null?void 0:a.userId)||"",testType:(r==null?void 0:r.testType)||"",testDate:h(),result:(r==null?void 0:r.result)||"",unit:(r==null?void 0:r.unit)||"",referenceRange:(r==null?void 0:r.referenceRange)||"",status:(r==null?void 0:r.status)||"bnh thng",interpretation:(r==null?void 0:r.interpretation)||"bnh thng",notes:(r==null?void 0:r.notes)||(a==null?void 0:a.notes)||"",doctorId:u,appointmentId:(a==null?void 0:a.id)||null}),[y,x]=f.useState("results"),[b,v]=f.useState(!1),[p,j]=f.useState({}),[N,w]=f.useState([]),[E,M]=f.useState([]),[k,T]=f.useState(null),[S,P]=f.useState(null),[C,A]=f.useState(null),[I,V]=f.useState((a==null?void 0:a.status)==="UNDER_REVIEW");f.useEffect(()=>{(async()=>{v(!0);try{if(console.log("Attempting to fetch patients with doctorId:",u),u){console.log("Calling doctorTreatmentService.getPatientsForTreatmentPlan()");const _=await Ts.getPatientsForTreatmentPlan();console.log("Patients response:",_),_.success&&_.data?(console.log("Setting patients state with:",_.data),w(_.data)):console.error("Failed to get patients data:",_)}else console.error("No doctorId available, cannot fetch patients");console.log("Fetching test types");const Y=await ss.getTestTypes();if(console.log("Test types response:",Y),Y.success&&Y.data&&(console.log("Setting test types state with:",Y.data),M(Y.data),a&&Y.data.length>0)){const _=Y.data[0].id;g(H=>({...H,testType:_})),T(Y.data[0])}}catch(Y){console.error("Error fetching data:",Y),j({fetch:"Khng th ti d liu. Vui lng th li sau."})}finally{v(!1)}})()},[u,a]),f.useEffect(()=>{if(r){let $;if(r.testDate){const Y=new Date(r.testDate),_=new Date;_.setHours(0,0,0,0),Y<=_?$=Y.toISOString().slice(0,10):$=_.toISOString().slice(0,10)}else $=new Date().toISOString().slice(0,10);g({userId:r.userId||"",testType:r.testType||"",testDate:$,result:r.result||"",unit:r.unit||"",referenceRange:r.referenceRange||"",status:r.status||"NORMAL",interpretation:r.interpretation||"NORMAL",notes:r.notes||"",doctorId:u,appointmentId:null})}},[r,u]),f.useEffect(()=>{i&&(console.log("Updating formData with patient:",i),g($=>({...$,userId:i.id})))},[i]),f.useEffect(()=>{if(a){console.log("Updating formData with appointment:",a);let $=null;if(a.serviceName){const _=a.serviceName.toLowerCase();_.includes("cd4")?$="CD4":_.includes("viral load")||_.includes("ti lng")?$="VIRAL_LOAD":_.includes("hiv")||_.includes("xt nghim")?$="CD4":$="OTHER"}let Y;if(a.scheduledAt){const _=new Date(a.scheduledAt),H=new Date;H.setHours(0,0,0,0),_<=H?Y=_.toISOString().slice(0,10):Y=H.toISOString().slice(0,10)}else Y=new Date().toISOString().slice(0,10);if(g(_=>({..._,userId:a.userId,testDate:Y,notes:a.notes||_.notes,appointmentId:a.id,testType:$||_.testType})),$&&E.length>0){const _=E.find(H=>H.id===$);_&&(T(_),g(H=>({...H,unit:B($),referenceRange:R($)})))}x("results")}},[a,E]);const L=$=>{const{name:Y,value:_}=$.target;if(Y==="status")g(H=>({...H,[Y]:_,interpretation:_}));else if(Y==="testType"){const H=E.find(U=>U.id===_);T(H),g(U=>({...U,[Y]:_,unit:B(_),referenceRange:R(_)}))}else g(H=>({...H,[Y]:_}))},O=()=>{const $={};if(m.userId||($.userId="Vui lng chn bnh nhn"),m.testType||($.testType="Vui lng chn loi xt nghim"),m.testDate||($.testDate="Vui lng chn ngy xt nghim"),m.testDate){const Y=new Date(m.testDate),_=new Date;_.setHours(0,0,0,0),Y>_&&($.testDate="Ngy xt nghim khng th l ngy trong tng lai")}if((m.testType==="CD4"||m.testType==="VIRAL_LOAD")&&!m.result&&($.result="Vui lng nhp kt qu xt nghim"),(m.testType==="CD4"||m.testType==="VIRAL_LOAD")&&m.result){const Y=parseFloat(m.result);isNaN(Y)&&($.result="Kt qu phi l mt s")}return j($),Object.keys($).length===0},D=async()=>{if(O()){v(!0),A(null),P(null);try{console.log("Submitting test result with data:",m);const $=new Date(m.testDate),Y=new Date;if(Y.setHours(0,0,0,0),$>Y)throw new Error("Ngy xt nghim khng th l ngy trong tng lai");if(r!=null&&r.id){const _=await ss.updateLabResult(r.id,m);if(!_.success)throw new Error(_.message||"Li khi cp nht kt qu xt nghim");P("Cp nht kt qu xt nghim thnh cng")}else if((a==null?void 0:a.status)==="UNDER_REVIEW"){const _=await ss.createLabResult({...m,appointmentId:a.id});if(!_.success)throw new Error(_.message||"Li khi to kt qu xt nghim");P("To kt qu xt nghim thnh cng")}n&&n(m)}catch($){console.error("Error submitting test result:",$);let Y=$.message||"Li khi lu kt qu xt nghim";$.message&&$.message.includes("constraint")&&$.message.includes("test_date")&&(Y="Ngy xt nghim khng th l ngy trong tng lai. Vui lng chn ngy hin ti hoc trong qu kh."),A(Y)}finally{v(!1)}}},R=$=>$==="CD4"?"500-1500 cells/mm":$==="VIRAL_LOAD"?"<50 copies/ml":"",B=$=>$==="CD4"?"cells/mm":$==="VIRAL_LOAD"?"copies/ml":"",X=[{id:"results",name:"Kt qu xt nghim",icon:Ie},{id:"general",name:"Thng tin chung",icon:Ze}],Z=()=>s.jsxs("div",{className:"p-4",children:[y==="general"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thng tin chung"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bnh nhn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"userId",name:"userId",value:m.userId,onChange:L,disabled:!!i||!!a,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.userId?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Chn bnh nhn"}),N.map($=>s.jsxs("option",{value:$.id,children:[$.name," - ",$.patientCode||`BN${$.id}`]},$.id))]}),p.userId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.userId})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"testType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loi xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"testType",name:"testType",value:m.testType,onChange:L,disabled:!!a,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.testType?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Chn loi xt nghim"}),E.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]}),p.testType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.testType})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"testDate",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(ve,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",id:"testDate",name:"testDate",value:m.testDate,onChange:L,max:new Date().toISOString().split("T")[0],disabled:!!a,className:`block w-full rounded-md pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.testDate?"border-red-300":"border-gray-300"}`})]}),p.testDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.testDate})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",name:"status",value:m.status,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"bnh thng",children:"Bnh thng"}),s.jsx("option",{value:"ABNORMAL",children:"Bt thng"}),s.jsx("option",{value:"CRITICAL",children:"Nguy him"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",name:"notes",rows:"2",value:m.notes,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),y==="results"&&s.jsxs("div",{className:"space-y-4",children:[a&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:I?"Nhp kt qu xt nghim cho bnh nhn  tip nhn h s":"Thng tin lch hn  hon thnh"}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Bnh nhn:"}),s.jsx("p",{className:"text-sm font-medium",children:a.userName||"Khng c tn"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Ngy khm:"}),s.jsx("p",{className:"text-sm font-medium",children:a.scheduledAt?new Date(a.scheduledAt).toLocaleDateString("vi-VN"):"N/A"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Dch v:"}),s.jsx("p",{className:"text-sm font-medium",children:a.serviceName||"Khng c thng tin"})]}),k&&s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Loi xt nghim:"}),s.jsx("p",{className:"text-sm font-medium",children:(k==null?void 0:k.name)||"Cha chn"})]}),I&&s.jsx("div",{className:"sm:col-span-2 mt-1",children:s.jsx("div",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-md",children:s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"font-medium",children:"Lu :"})," Bnh nhn  c tip nhn h s. Vui lng nhp kt qu xt nghim."]})})})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thng tin kt qu xt nghim"}),!a&&s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 mb-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bnh nhn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"userId",name:"userId",value:m.userId,onChange:L,disabled:!!i,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.userId?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Chn bnh nhn"}),N.map($=>s.jsxs("option",{value:$.id,children:[$.name," - ",$.patientCode||`BN${$.id}`]},$.id))]}),p.userId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.userId})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"testType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loi xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"testType",name:"testType",value:m.testType,onChange:L,disabled:!!a,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.testType?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Chn loi xt nghim"}),E.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]}),p.testType&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.testType})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"testDate",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx(ve,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",id:"testDate",name:"testDate",value:m.testDate,onChange:L,className:`block w-full rounded-md pl-10 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.testDate?"border-red-300":"border-gray-300"}`})]}),p.testDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.testDate})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(m.testType==="CD4"||m.testType==="VIRAL_LOAD")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt qu ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",id:"result",name:"result",value:m.result,onChange:L,disabled:o,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.result?"border-red-300":"border-gray-300"} ${o?"bg-gray-100":""}`,autoFocus:!!a&&!o,placeholder:m.testType==="CD4"?"V d: 500":"V d: 50"}),m.unit&&s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:m.unit})})]}),p.result&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.result}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.testType==="CD4"?"Nhp s lng t bo CD4 (t bo/mm)":"Nhp ti lng virus (bn sao/mL)"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:"n v"}),s.jsx("input",{type:"text",id:"unit",name:"unit",value:m.unit,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:m.testType==="CD4"?"t bo/mm":"bn sao/mL"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.testType==="CD4"?"n v mc nh: t bo/mm":"n v mc nh: bn sao/mL"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"referenceRange",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phm vi tham chiu"}),s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"text",id:"referenceRange",name:"referenceRange",value:m.referenceRange,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:m.testType==="CD4"?"500-1500 t bo/mm":"<50 bn sao/mL"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.testType==="CD4"?"Phm vi tham chiu bnh thng: 500-1500 t bo/mm":"Phm vi tham chiu khng pht hin: <50 bn sao/mL"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",name:"status",value:m.status,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"bnh thng",children:"Bnh thng"}),s.jsx("option",{value:"ABNORMAL",children:"Bt thng"}),s.jsx("option",{value:"CRITICAL",children:"Nguy him"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"nh gi kt qu xt nghim da trn phm vi tham chiu"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",name:"notes",rows:"2",value:m.notes,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]})]});return s.jsx(s.Fragment,{children:l?s.jsxs(s.Fragment,{children:[S&&s.jsx("div",{className:"mb-3 p-2 bg-green-50 border-l-4 border-green-500 text-green-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("p",{children:S})]})}),C&&s.jsx("div",{className:"mb-3 p-2 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("p",{children:C})]})}),Object.keys(p).length>0&&s.jsx("div",{className:"mb-3 p-2 bg-red-50 border-l-4 border-red-500 text-sm",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Vui lng sa cc li sau:"}),s.jsx("ul",{className:"mt-1 text-xs text-red-700 list-disc list-inside",children:Object.values(p).map(($,Y)=>s.jsx("li",{children:$},Y))})]})]})}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt qu ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",id:"result",name:"result",value:m.result,onChange:L,disabled:o,className:`block w-full rounded-md shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${p.result?"border-red-300":"border-gray-300"} ${o?"bg-gray-100":""}`,autoFocus:!!a&&!o,placeholder:m.testType==="CD4"?"V d: 500":"V d: 50"}),m.unit&&s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:m.unit})})]}),p.result&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.result})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:"n v"}),s.jsx("input",{type:"text",id:"unit",name:"unit",value:m.unit,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:m.testType==="CD4"?"t bo/mm":"bn sao/mL"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"referenceRange",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phm vi tham chiu"}),s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"text",id:"referenceRange",name:"referenceRange",value:m.referenceRange,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:m.testType==="CD4"?"500-1500 t bo/mm":"<50 bn sao/mL"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:m.testType==="CD4"?"Phm vi tham chiu bnh thng: 500-1500 t bo/mm":"Phm vi tham chiu khng pht hin: <50 bn sao/mL"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",name:"status",value:m.status,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"bnh thng",children:"Bnh thng"}),s.jsx("option",{value:"ABNORMAL",children:"Bt thng"}),s.jsx("option",{value:"CRITICAL",children:"Nguy him"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",name:"notes",rows:"2",value:m.notes,onChange:L,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx(F,{variant:"primary",onClick:D,disabled:b||o,className:"flex items-center",size:"sm",children:b?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang lu..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"})," lu kt qu"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Lu kt qu"]})})})]}):s.jsx("div",{className:`fixed inset-0 z-50 ${t?"block":"hidden"}`,children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:s.jsxs("div",{className:"bg-white",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 text-blue-600 mr-2"}),r?"Cp nht kt qu xt nghim":"Thm kt qu xt nghim mi"]})}),S&&s.jsx("div",{className:"m-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ds,{className:"h-5 w-5 text-green-500 mr-2"}),s.jsx("p",{children:S})]})}),C&&s.jsx("div",{className:"m-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("p",{children:C})]})}),Object.keys(p).length>0&&s.jsx("div",{className:"mx-6 mt-6 p-4 bg-red-50 border-l-4 border-red-500",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Vui lng sa cc li sau:"}),s.jsx("ul",{className:"mt-1 text-sm text-red-700 list-disc list-inside",children:Object.values(p).map(($,Y)=>s.jsx("li",{children:$},Y))})]})]})}),s.jsxs("div",{className:"bg-gray-50 border-b",children:[s.jsx("div",{className:"sm:hidden",children:s.jsx("select",{className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500",value:y,onChange:$=>x($.target.value),children:X.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))})}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("nav",{className:"flex space-x-4 px-4 py-2","aria-label":"Tabs",children:X.map($=>{const Y=$.icon;return s.jsxs("button",{onClick:()=>x($.id),className:`${y===$.id?"bg-white shadow text-primary-600":"text-gray-500 hover:text-gray-700"} px-3 py-2 font-medium text-sm rounded-md flex items-center space-x-2`,children:[s.jsx(Y,{className:"h-5 w-5"}),s.jsx("span",{children:$.name})]},$.id)})})})]}),Z(),s.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-3 border-t sticky bottom-0",children:[s.jsx(F,{variant:"outline",onClick:e,disabled:b,size:"sm",children:"Hy"}),s.jsx(F,{variant:"primary",onClick:D,disabled:b||o,className:"flex items-center",size:"sm",children:b?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang lu..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"})," lu kt qu"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Lu kt qu"]})})]})]})})]})})})},MB=({onSelectAppointment:t})=>{const[e,n]=f.useState([]),[r,i]=f.useState(!0),[a,l]=f.useState(null),[o,c]=f.useState(""),[d,u]=f.useState({});f.useEffect(()=>{(async()=>{try{i(!0);const x=await Mn.getCompletedAppointments();if(x.success){console.log("Completed appointments:",x.data);const b=x.data.filter(p=>{var N;const j=((N=p.serviceName)==null?void 0:N.toLowerCase())||"";return j.includes("cd4")||j.includes("ti lng virus")});console.log("Filtered appointments for testing services:",b),n(b);const v={};for(const p of b)try{const j=await ss.checkLabResultsForAppointment(p.id);v[p.id]=j.data}catch(j){console.error(`Error checking results for appointment ${p.id}:`,j),v[p.id]=!1}u(v)}else l(x.message||"Khng th ti danh sch lch hn  hon thnh")}catch(x){console.error("Error fetching completed appointments:",x),l(x.message||"Khng th ti danh sch lch hn  hon thnh")}finally{i(!1)}})()},[]);const h=y=>{if(!y)return"N/A";let x;return typeof y=="string"?x=new Date(y):x=y,isNaN(x.getTime())?"Invalid date":x.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"})},m=y=>{if(!y)return"N/A";let x;return typeof y=="string"?x=new Date(y):x=y,isNaN(x.getTime())?"Invalid time":x.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})},g=e.filter(y=>{var j,N,w;const x=o.toLowerCase(),b=((j=y.userName)==null?void 0:j.toLowerCase())||"",v=((N=y.userId)==null?void 0:N.toString())||"",p=((w=y.id)==null?void 0:w.toString())||"";return b.includes(x)||v.includes(x)||p.includes(x)});return s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lch khm  hon thnh dch v xt nghim"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Tm kim bnh nhn...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:o,onChange:y=>c(y.target.value)}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-5 w-5 text-gray-400"})})]})]}),r?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"ang ti lch hn..."})]}):a?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-red-500",children:a})}):g.length===0?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Khng tm thy lch hn  hon thnh vi dch v xt nghim CD4 hoc ti lng virus."})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy khm"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gi khm"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dch v xt nghim"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:y.userName?y.userName.charAt(0):"?"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.userName||"Khng c tn"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",y.userId]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(y.scheduledAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(y.scheduledAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.serviceName||"Khng c thng tin"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx(F,{variant:d[y.id]?"success":"outline",className:"flex items-center",onClick:()=>t(y),children:d[y.id]?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Cp nht kt qu"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Thm kt qu xt nghim"]})})})]},y.id))})]})})]})},_B=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState([]),[y,x]=f.useState([]),[b,v]=f.useState([]),[p,j]=f.useState(!0),[N,w]=f.useState(null),[E,M]=f.useState(null),[k,T]=f.useState(""),[S,P]=f.useState({userId:"",testType:"",testDate:new Date().toISOString().slice(0,10),result:"",unit:"",referenceRange:"",status:"Bnh thng",interpretation:"Bnh thng",notes:""});f.useState(!1);const[C,A]=f.useState(null),[I,V]=f.useState(0);f.useEffect(()=>{(async()=>{try{const J=Ee.getCurrentUser();if(!J)throw new Error("Khng tm thy thng tin ngi dng");if(console.log("Current user:",J),J.doctorId)console.log("Doctor ID found in user profile:",J.doctorId),M(J.doctorId),T(J.name||"Bc s"),await Promise.all([L(J.doctorId),O(),D(J.doctorId)]);else try{const ce=await _n.getDoctorProfile(J.id);if(console.log("Doctor profile response:",ce),!ce.success)throw new Error(ce.message||"Could not fetch doctor profile");const re=ce.data;M(re.id),T(re.name||J.name||"Bc s"),console.log("Doctor ID set to:",re.id),await Promise.all([L(re.id),O(),D(re.id)])}catch(ce){throw console.error("Error fetching doctor profile:",ce),new Error("Khng tm thy h s bc s cho ngi dng ny")}}catch(J){console.error("Error fetching user data:",J),w(J.message||"Could not load user data")}finally{j(!1)}})()},[]);const L=async W=>{try{const J=await _n.getPatients(W);if(console.log("Fetched patients response:",J),!J.success)throw new Error(J.message||"Could not fetch patients");const ce=(J.data||[]).map(re=>({id:re.id,name:re.name,patientId:re.patientCode||`BN${re.id}`}));console.log("Transformed patient data:",ce),g(ce)}catch(J){console.error("Error fetching patients:",J),w(J.message||"Could not fetch patients")}},O=async()=>{try{const W=await Bj.getTestTypes();x(W.map(J=>({id:J.id,name:J.name})))}catch(W){console.error("Error fetching test types:",W),w(W.message||"Could not fetch test types")}},D=async(W,J=null,ce=null,re=null)=>{try{j(!0),console.log("Fetching test results with params:",{docId:W,testType:J,patientId:ce,search:re});const Te=await ss.getLabResults(J==="all"?null:J,ce==="all"?null:ce,re);Te.success?(console.log("Fetched test results:",Te.data),v(Te.data||[]),w(null)):(console.error("Error in test results response:",Te.message),w(Te.message||"Could not fetch test results"),v([]))}catch(Te){console.error("Error fetching test results:",Te),w(Te.message||"Could not fetch test results"),v([])}finally{j(!1)}};f.useEffect(()=>{if(E){const W=setTimeout(()=>{D(E,i,n,t)},500);return()=>clearTimeout(W)}},[t,i,n,E]);const B=[...b].sort((W,J)=>new Date(J.testDate)-new Date(W.testDate)),X=W=>{if(!W)return"N/A";let J;return typeof W=="string"?J=new Date(W):J=W,isNaN(J.getTime())?"Invalid date":J.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"})},Z=W=>{if(!W)return"bg-gray-100 text-gray-800";switch(typeof W=="string"?W.toLowerCase():""){case"normal":case"bnh thng":case"approved":case"stable":return"bg-green-100 text-green-800";case"abnormal":case"critical":case"attention":return"bg-red-100 text-red-800";case"waiting":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-orange-100 text-orange-800";case"unknown":default:return"bg-gray-100 text-gray-800"}},$=W=>{if(!W)return"Khng xc nh";switch(typeof W=="string"?W.toLowerCase():""){case"normal":case"bnh thng":return"Bnh thng";case"abnormal":return"Bt thng";case"critical":return"Nguy him";case"approved":return"Bnh thng";case"unknown":return"Khng xc nh";default:return!isNaN(W)&&parseFloat(W)>0?W:W||"Khng xc nh"}},Y=async W=>{try{const J=await Bj.getLabResultById(W,E);if(!m||m.length===0){w("Khng th ti danh sch bnh nhn. Vui lng th li sau.");return}const ce=J.userId.toString(),re=m.some(Te=>Te.id.toString()===ce);if(console.log("Checking test access:",{testUserId:ce,patientIds:m.map(Te=>Te.id.toString()),isPatientBelongsToDoctor:re}),!re){w("Khng c quyn xem kt qu xt nghim ny");return}o(J)}catch(J){console.error("Error fetching test details:",J),w(J.message||"Could not fetch test details")}},_=()=>{o(null)},H=async W=>{try{if(!m||m.length===0)return w("Khng th ti danh sch bnh nhn. Vui lng th li sau."),!1;const J=W.userId.toString(),ce=m.some(Te=>Te.id.toString()===J);if(console.log("Checking patient access:",{formUserId:J,patientIds:m.map(Te=>Te.id.toString()),isPatientBelongsToDoctor:ce}),!ce)return w("Khng c quyn thm kt qu xt nghim cho bnh nhn ny"),!1;W.doctorId||(W.doctorId=E),console.log("Submitting test result data:",W);const re=await ss.createLabResult(W);return re.success?(await D(E,i,n,t),h(!1),P({userId:"",testType:"",testDate:new Date().toISOString().slice(0,10),result:"",unit:"",referenceRange:"",status:"Bnh thng",interpretation:"Bnh thng",notes:""}),!0):(w(re.message||"Khng th to kt qu xt nghim"),!1)}catch(J){return console.error("Error adding test result:",J),w(J.message||"Could not add test result"),!1}},U=W=>{A(W),h(!0)};return s.jsx(be,{currentRole:se.DOCTOR,userName:k,children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kt qu xt nghim"}),s.jsxs("div",{className:"mt-4 md:mt-0 flex items-center",children:[s.jsxs("div",{className:"relative mr-4",children:[s.jsx("input",{type:"text",placeholder:"Tm kim kt qu xt nghim...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:t,onChange:W=>e(W.target.value)}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),s.jsxs(F,{variant:"outline",className:"flex items-center",onClick:()=>d(!c),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"B lc"]})]})]}),N&&s.jsx("div",{className:"mb-6 bg-red-50 p-4 rounded-lg text-red-800",children:s.jsxs("p",{className:"font-medium",children:["Li: ",N]})}),s.jsxs(qi.Group,{onChange:V,selectedIndex:I,children:[s.jsxs(qi.List,{className:"flex p-1 space-x-1 bg-blue-50 rounded-xl mb-6",children:[s.jsx(qi,{className:({selected:W})=>`w-full py-2.5 text-sm font-medium text-blue-700 rounded-lg
                 ${W?"bg-white shadow":"text-blue-500 hover:bg-white/[0.12] hover:text-blue-700"}`,children:"Danh sch kt qu xt nghim"}),s.jsx(qi,{className:({selected:W})=>`w-full py-2.5 text-sm font-medium text-blue-700 rounded-lg
                 ${W?"bg-white shadow":"text-blue-500 hover:bg-white/[0.12] hover:text-blue-700"}`,children:"Lch khm  hon thnh"})]}),s.jsxs(qi.Panels,{children:[s.jsxs(qi.Panel,{children:[c&&s.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"patient-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bnh nhn"}),s.jsxs("select",{id:"patient-filter",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:n,onChange:W=>r(W.target.value),children:[s.jsx("option",{value:"all",children:"Tt c bnh nhn"}),m.map(W=>s.jsxs("option",{value:W.id,children:[W.name," (",W.patientId,")"]},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi xt nghim"}),s.jsxs("select",{id:"category-filter",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:i,onChange:W=>a(W.target.value),children:[s.jsx("option",{value:"all",children:"Tt c loi xt nghim"}),y.map(W=>s.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})}),s.jsxs(G,{className:"overflow-hidden",children:[p?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"ang ti kt qu xt nghim..."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xt nghim"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kt qu"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(W=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:W.userName?W.userName.charAt(0):"?"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.userName||"Khng c tn"}),s.jsx("div",{className:"text-sm text-gray-500",children:`ID: ${W.userId}`})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:W.testTypeName||W.testType})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[W.result," ",W.unit]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Phm vi: ",W.referenceRange||"Khng c"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X(W.testDate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Z(W.interpretation==="UNKNOWN"?W.approvalStatus:W.status||W.interpretation||W.approvalStatus)}`,children:$(W.interpretation==="UNKNOWN"?W.approvalStatus:W.status||W.interpretation||W.approvalStatus)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{onClick:()=>Y(W.id),className:"text-primary-600 hover:text-primary-900",children:"Chi tit"})})]},W.id))})]})}),!p&&B.length===0&&s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-gray-500",children:"Khng tm thy kt qu xt nghim no ph hp vi tiu ch tm kim."})})]})]}),s.jsx(qi.Panel,{children:s.jsx(MB,{onSelectAppointment:U})})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-full overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chi tit kt qu xt nghim"}),s.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 200px)"},children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 text-xl font-medium",children:l.userName?l.userName.charAt(0):"?"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l.userName||"Khng c tn"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",l.userId]}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Z(l.interpretation==="UNKNOWN"?l.approvalStatus:l.status||l.interpretation||l.approvalStatus)}`,children:$(l.interpretation==="UNKNOWN"?l.approvalStatus:l.status||l.interpretation||l.approvalStatus)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin xt nghim"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Loi xt nghim"}),s.jsx("p",{className:"text-sm font-medium",children:l.testTypeName||l.testType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy thc hin"}),s.jsx("p",{className:"text-sm font-medium",children:X(l.testDate)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin kt qu"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Kt qu"}),s.jsxs("p",{className:"text-sm font-medium",children:[l.result," ",l.unit]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phm vi tham chiu"}),s.jsx("p",{className:"text-sm font-medium",children:l.referenceRange||"Khng c"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Trng thi"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(l.interpretation==="UNKNOWN"?l.approvalStatus:l.status||l.interpretation||l.approvalStatus)}`,children:$(l.interpretation==="UNKNOWN"?l.approvalStatus:l.status||l.interpretation||l.approvalStatus)})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Thng tin b sung"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ghi ch"}),s.jsx("p",{className:"text-sm",children:l.notes||"Khng c ghi ch"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Bc s duyt kt qu"}),s.jsx("p",{className:"text-sm font-medium",children:l.doctorName||"Khng c thng tin"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy duyt"}),s.jsx("p",{className:"text-sm font-medium",children:l.approvalDate?X(l.approvalDate):"Cha duyt"})]}),l.approvalStatus&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Trng thi duyt"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(l.approvalStatus)}`,children:$(l.approvalStatus)})]})]})]})]})]}),s.jsx("div",{className:"px-4 py-3 bg-gray-50 sm:px-6 flex justify-end border-t border-gray-200",children:s.jsx(F,{variant:"primary",onClick:_,children:"ng"})})]})}),u&&s.jsx(PB,{isOpen:u,onClose:()=>{h(!1),A(null)},onSave:H,patient:C?{id:C.userId,name:C.userName}:null,appointment:C,testResult:null})]})})},LB=({patients:t,onSelect:e,onClose:n,title:r="Chn bnh nhn"})=>{console.log("PatientSelector rendered with:",{patientsLength:t==null?void 0:t.length,hasOnSelect:!!e,hasOnClose:!!n,title:r});const[i,a]=f.useState(""),[l,o]=f.useState(t||[]);return f.useEffect(()=>{if(!i.trim()){o(t);return}const c=i.toLowerCase().trim(),d=t.filter(u=>{var h,m,g,y;return((h=u.name)==null?void 0:h.toLowerCase().includes(c))||((m=u.id)==null?void 0:m.toString().includes(c))||((g=u.email)==null?void 0:g.toLowerCase().includes(c))||((y=u.phone)==null?void 0:y.toLowerCase().includes(c))});o(d)},[i,t]),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[s.jsx(vs,{className:"h-6 w-6 mr-2 text-indigo-600"}),r]}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"p-6 border-b bg-gray-50",children:[s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),s.jsx(Oe,{type:"text",placeholder:"Tm kim theo tn, ID, email hoc s in thoi...",value:i,onChange:c=>a(c.target.value),className:"pl-10 focus:border-indigo-500 focus:ring-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex items-center",children:[s.jsxs("span",{className:"flex-1",children:["Tm thy ",l.length," bnh nhn"]}),i&&s.jsx("button",{onClick:()=>a(""),className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Xa tm kim"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Be,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Khng tm thy bnh nhn no ph hp vi tm kim"}),s.jsx("p",{className:"text-gray-500",children:"Th tm bng thng tin khc hoc xa tm kim"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Cha c bnh nhn no"}),s.jsx("p",{className:"text-gray-500",children:"Bn cha c bnh nhn no hoc cha hon thnh khm cho bnh nhn"})]})]}):s.jsx("div",{className:"grid grid-cols-1 gap-3 px-4",children:l.map(c=>{var d;return s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-blue-50 cursor-pointer transition-all duration-200 transform hover:scale-[1.01] hover:shadow-sm",children:s.jsxs("div",{onClick:()=>e(c),className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-12 w-12 bg-indigo-100 rounded-full flex items-center justify-center mr-4 text-indigo-700 font-medium",children:((d=c.name)==null?void 0:d.charAt(0))||"P"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.name||"Khng c tn"}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1 flex-wrap gap-x-3",children:[c.gender&&c.age&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-1"}),c.gender,", ",c.age," tui"]}),c.hasAppointment&&s.jsxs("span",{className:"flex items-center text-green-600",children:[s.jsx(ve,{className:"h-4 w-4 mr-1"})," c lch khm"]}),c.hasCompletedAppointment&&s.jsxs("span",{className:"flex items-center text-blue-600",children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"})," hon thnh khm"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"hidden sm:inline-block px-3 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:["ID: ",c.id]}),s.jsxs(F,{variant:"primary",size:"sm",onClick:u=>{u.stopPropagation(),e(c)},children:[s.jsx(TA,{className:"h-4 w-4 mr-1"}),"To phc "]})]})]})},c.id)})})}),s.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:s.jsx(F,{variant:"outline",onClick:n,children:"Hy"})})]})})},AB=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState(""),[c,d]=f.useState("all"),[u,h]=f.useState(!1),[m,g]=f.useState(null),[y,x]=f.useState(null),[b,v]=f.useState(!1),[p,j]=f.useState(!0),[N,w]=f.useState(null),[E,M]=f.useState(!1),[k,T]=f.useState([]),[S,P]=f.useState(null),[C,A]=f.useState(!1);f.useEffect(()=>{(async()=>{j(!0),w(null);try{const H=await Ts.getTreatmentPlans(c!=="all"?c:null,l||null);H.success&&H.data?(e(H.data),r(H.data)):w("Khng th ti danh sch phc  iu tr");const U=await Ts.getPatientsForTreatmentPlan();if(U.success&&U.data){const W=U.data.map(J=>({...J,hasCompletedAppointment:!0}));a(W)}}catch(H){console.error("Error loading data:",H),w(H.message||" xy ra li khi ti d liu")}finally{j(!1)}})()},[c,l]);const I=_=>{o(_.target.value)},V=_=>{d(_.target.value)},L=()=>{(async()=>{j(!0),w(null);try{const H=await Ts.getTreatmentPlans(c!=="all"?c:null,l||null);H.success&&H.data?(e(H.data),r(H.data)):w("Khng th ti danh sch phc  iu tr")}catch(H){console.error("Error refreshing data:",H),w(H.message||" xy ra li khi ti d liu")}finally{j(!1)}})()},O=()=>{if(console.log("Create plan button clicked"),console.log("Current patients:",i),console.log("Patients array length:",i.length),!i||i.length===0){console.log("No patients available, attempting to load data"),Ts.getPatientsForTreatmentPlan().then(_=>{if(_.success&&_.data){const H=_.data.map(U=>({...U,hasCompletedAppointment:!0}));a(H),g(null),x(null),w(null),v(!0)}else w("Khng th ti danh sch bnh nhn. Vui lng th li sau.")}).catch(_=>{console.error("Error loading patients:",_),w(" xy ra li khi ti danh sch bnh nhn: "+(_.message||"Unknown error"))});return}g(null),x(null),w(null),v(!0),console.log("showPatientSelector set to:",!0)},D=_=>{console.log("HandleSelectPatient called with patient:",_),x(_),v(!1),g(null),console.log("Setting showEditor to true"),setTimeout(()=>{h(!0),console.log("ShowEditor set to true!")},10),setTimeout(()=>{console.log("State after patient selection: ",{showEditor:u,showPatientSelector:b,patientId:y==null?void 0:y.id})},100)},R=_=>{if(g(_),_.patientId&&_.patientName){const H={id:_.patientId,name:_.patientName};x(H)}else if(_.patientId){const H=i.find(U=>U.id===_.patientId);H&&x(H)}h(!0)},B=async _=>{P(_),A(!0);try{const H=await Dy.getMedicationsByTreatmentPlan(_.id);H.success&&H.data?T(H.data):T([])}catch(H){console.error("Error loading medications:",H),T([])}finally{A(!1),M(!0)}},X=async _=>{var H;console.log("handleSavePlan called in TreatmentPlansPage with data:",_),j(!0),w(null);try{let U;if(m)if(console.log("Updating existing plan:",m.id),U=await Ts.updateTreatmentPlan(m.id,_),U.success){if(_.medications&&_.medications.length>0){console.log("Updating medications for plan:",m.id);const W=await Ts.addMultipleMedicationsToTreatmentPlan(m.id,_.medications);if(!W.success){console.error("Error adding medications:",W),w(W.message||"Khng th thm thuc vo phc  iu tr"),j(!1);return}}console.log("Plan updated successfully"),alert(` cp nht phc  iu tr thnh cng cho bnh nhn ${(y==null?void 0:y.name)||" chn"}`)}else{console.error("Error updating plan:",U),w(U.message||"Khng th cp nht phc  iu tr"),j(!1);return}else{if(console.log("Creating new treatment plan for patient:",_.patientId),!_.appointmentId){console.log("No appointmentId provided, looking for completed appointments");const re=await Ts.getCompletedAppointments(_.patientId);if(re.success&&re.data&&re.data.length>0)console.log("Found completed appointment:",re.data[0]),_.appointmentId=re.data[0].id;else if(console.error("No completed appointments found"),window.confirm("Khng tm thy cuc hn hon thnh no cho bnh nhn ny. Bn c mun to phc  iu tr m khng lin kt vi cuc hn khng?"))console.log("Proceeding without appointment link"),_.skipAppointmentCheck=!0;else{w("Cn c t nht mt cuc hn  hon thnh  to phc  iu tr"),j(!1);return}}const J=[..._.medications||[]];console.log("Medications to add:",J.length);const ce={..._};if(delete ce.medications,console.log("Creating treatment plan with data:",ce),U=await Ts.createTreatmentPlan(ce),console.log("Create treatment plan response:",U),U.success&&U.data){if(console.log("Plan created successfully with ID:",U.data.id),alert(` to phc  iu tr mi thnh cng cho bnh nhn ${(y==null?void 0:y.name)||" chn"}`),J.length>0){console.log("Adding medications to new plan");try{const re=await Ts.addMultipleMedicationsToTreatmentPlan(U.data.id,J);re.success?console.log("Medications added successfully"):(console.warn("Error adding medications to new plan:",re),alert(`Lu : Phc   c to nhng c li khi thm thuc: ${re.message||"Vui lng thm thuc th cng sau"}`))}catch(re){console.error("Exception when adding medications:",re),alert(`Phc   c to thnh cng nhng khng th thm thuc: ${re.message||"Vui lng thm thuc th cng sau"}`)}}}else if(!U.success){console.error("Error creating treatment plan:",U),(H=U.message)!=null&&H.includes("appointment")?w("Khng th to phc  iu tr: Li lin quan n cuc hn. Vui lng m bo bnh nhn c t nht mt cuc hn  hon thnh."):w(U.message||"Khng th to phc  iu tr"),j(!1);return}}console.log("Refreshing data after save"),L(),console.log("Closing editor"),h(!1),g(null),x(null)}catch(U){console.error("Error in handleSavePlan:",U),w(U.message||" xy ra li khi lu phc  iu tr")}finally{j(!1)}},Z=async(_,H)=>{var W,J;let U="";switch(H){case"ACTIVE":U="Bn c chc chn mun nh du phc  ny l ang iu tr?";break;case"PAUSED":U="Bn c chc chn mun tm dng phc  ny?";break;case"COMPLETED":U="Bn c chc chn mun nh du phc  ny l  hon thnh?";break;case"DISCONTINUED":U="Bn c chc chn mun ngng phc  ny? Hnh ng ny khng th hon tc.";break;default:U=`Bn c chc chn mun thay i trng thi phc  thnh "${H}"?`}if(!window.confirm(U)){t.find(re=>re.id===_)&&r([...n]);return}j(!0);try{console.log(`Updating treatment plan ${_} status to ${H}`);const ce=await Ts.updateTreatmentPlanStatus(_,H);if(console.log("Status update response:",ce),ce&&ce.success){const re=t.map(Fe=>Fe.id===_?{...Fe,status:H}:Fe);e(re),r(c!=="all"&&c!==H?n.filter(Fe=>Fe.id!==_):n.map(Fe=>Fe.id===_?{...Fe,status:H}:Fe));let Te="";switch(H){case"ACTIVE":Te="Phc   c nh du l ang iu tr";break;case"PAUSED":Te="Phc   c tm dng";break;case"COMPLETED":Te="Phc   c nh du l hon thnh";break;case"DISCONTINUED":Te="Phc   c ngng";break;default:Te="Trng thi phc   c cp nht"}alert(Te)}else console.error("Failed to update plan status:",ce),w((ce==null?void 0:ce.message)||"Khng th cp nht trng thi phc  iu tr"),t.find(Te=>Te.id===_)&&r([...n])}catch(ce){console.error("Error updating treatment plan status:",ce),w(((J=(W=ce.response)==null?void 0:W.data)==null?void 0:J.message)||ce.message||" xy ra li khi cp nht trng thi"),t.find(Te=>Te.id===_)&&r([...n])}finally{j(!1)}},$=_=>{switch(_==null?void 0:_.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"discontinued":return"bg-red-100 text-red-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Y=_=>{switch(_==null?void 0:_.toLowerCase()){case"active":return"ang iu tr";case"completed":return"Hon thnh";case"discontinued":return" ngng";case"paused":return"Tm dng";default:return _||"Khng xc nh"}};return p?s.jsx(be,{currentRole:se.DOCTOR,children:s.jsx("div",{className:"p-4 flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(at,{className:"animate-spin h-10 w-10 mx-auto text-blue-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu..."})]})})}):N?s.jsx(be,{currentRole:se.DOCTOR,children:s.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[s.jsx(ze,{className:"h-6 w-6 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Thng bo"})]}),s.jsx("p",{className:"text-red-700 mb-4",children:N}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(F,{variant:"primary",onClick:L,children:[s.jsx(at,{className:"h-5 w-5 mr-2"}),"Lm mi"]}),s.jsxs(F,{variant:"outline",onClick:()=>w(null),children:[s.jsx(et,{className:"h-5 w-5 mr-2"}),"ng"]})]})]})}):s.jsxs(be,{currentRole:se.DOCTOR,children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Qun l phc  iu tr"}),s.jsx("p",{className:"text-gray-600",children:"Qun l v theo di phc  iu tr ca bnh nhn"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(F,{variant:"outline",onClick:L,children:[s.jsx(at,{className:"h-5 w-5 mr-2"}),"Lm mi"]}),s.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white rounded-md flex items-center shadow-md",onClick:()=>{console.log("Raw button clicked"),O()},children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"To phc  iu tr mi"]})]})]}),N&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ze,{className:"h-5 w-5 text-red-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-red-700",children:N})}),s.jsx("button",{onClick:()=>w(null),className:"text-gray-500 hover:text-gray-700 ml-2",children:s.jsx(et,{className:"h-5 w-5"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:l,onChange:I,placeholder:"Tm kim phc  iu tr...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsx("div",{className:"flex",children:s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(P4,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("select",{value:c,onChange:V,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-12 py-2 sm:text-sm border-gray-300 rounded-md",children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"ACTIVE",children:"ang iu tr"}),s.jsx("option",{value:"COMPLETED",children:"Hon thnh"}),s.jsx("option",{value:"DISCONTINUED",children:" ngng"}),s.jsx("option",{value:"PAUSED",children:"Tm dng"})]})]})})]})}),s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsxs(G,{className:"p-6 text-center",children:[s.jsx(Ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Khng tm thy phc  iu tr"}),s.jsx("p",{className:"text-gray-500 mt-2",children:l?"Khng c kt qu ph hp vi tm kim ca bn.":c!=="all"?`Khng c phc  iu tr no vi trng thi "${Y(c)}".`:"Cha c phc  iu tr no c to."}),l||c!=="all"?s.jsx(F,{variant:"outline",className:"mt-4",onClick:()=>{o(""),d("all")},children:"Xa b lc"}):s.jsxs(F,{variant:"primary",className:"mt-4",onClick:O,children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"To phc  iu tr mi"]})]}):n.map(_=>s.jsx(G,{className:"p-5",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ie,{className:"h-6 w-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:_.description?_.description.length>50?_.description.substring(0,50)+"...":_.description:`Phc  iu tr HIV #${_.id}`}),s.jsxs("p",{className:"text-sm text-gray-600",children:[" Bnh nhn: ","",_.patientName||"Khng c thng tin bnh nhn"]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Trng thi"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium mt-1 inline-flex items-center w-fit ${$(_.status)}`,children:Y(_.status)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Ngy bt u"}),s.jsx("span",{className:"text-sm font-medium",children:new Date(_.startDate).toLocaleDateString("vi-VN")})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Ngy kt thc"}),s.jsx("span",{className:"text-sm font-medium",children:_.endDate?new Date(_.endDate).toLocaleDateString("vi-VN"):"Cha xc nh"})]}),_.nextAppointmentDate&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Lch hn tip theo"}),s.jsx("span",{className:"text-sm font-medium",children:new Date(_.nextAppointmentDate).toLocaleDateString("vi-VN")})]})]}),_.description&&s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"M t"}),s.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:_.description})]})]}),s.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 mt-4 lg:mt-0 justify-end",children:[s.jsxs(F,{variant:"secondary",size:"sm",className:"flex items-center",onClick:()=>B(_),children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Xem thuc"]}),s.jsxs(F,{variant:"outline",size:"sm",className:`flex items-center ${_.status==="COMPLETED"?"opacity-50 cursor-not-allowed":""}`,onClick:()=>_.status!=="COMPLETED"&&R(_),disabled:_.status==="COMPLETED",title:_.status==="COMPLETED"?"Khng th chnh sa phc   hon thnh":"",children:[s.jsx(od,{className:"h-4 w-4 mr-1"}),_.status==="COMPLETED"?" hon thnh":"Chnh sa"]}),s.jsx("div",{className:"relative",children:s.jsxs("select",{className:`w-full px-3 py-2 text-sm border rounded-md ${_.status==="DISCONTINUED"?"bg-gray-100 text-gray-500":"bg-white"}`,value:_.status,onChange:H=>Z(_.id,H.target.value),disabled:_.status==="DISCONTINUED",children:[s.jsx("option",{value:"ACTIVE",children:"ang iu tr"}),s.jsx("option",{value:"PAUSED",children:"Tm dng"}),s.jsx("option",{value:"COMPLETED",children:"Hon thnh"}),s.jsx("option",{value:"DISCONTINUED",children:"Ngng phc "})]})})]})]})},_.id))})]}),(()=>(console.log("Treatment Plan Editor render check - showEditor:",u,"selectedPatient:",y),u&&s.jsx(YS,{isOpen:u,onClose:()=>{console.log("Closing editor"),h(!1)},onSave:X,plan:m,patient:y})))(),b?s.jsx(LB,{patients:i||[],onSelect:_=>{console.log("Patient selected:",_),D(_)},onClose:()=>{console.log("Closing patient selector"),v(!1)},title:"Chn bnh nhn  to phc  iu tr"}):null,E&&S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Danh sch thuc iu tr"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Phc :"})," ",S.description||`#${S.id}`," -",s.jsx("span",{className:"font-medium",children:" Bnh nhn:"})," ",S.patientName||"Khng c thng tin"]})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium mr-2 ${$(S.status)}`,children:Y(S.status)})})]})}),s.jsx("div",{className:"p-6",children:C?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(at,{className:"animate-spin h-10 w-10 mx-auto text-blue-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu thuc..."})]}):k.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy thuc no trong phc  iu tr ny"})]}):s.jsx("div",{className:"space-y-6",children:k.map(_=>{var H,U,W,J,ce,re,Te,Fe,Ss,Wn;return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-lg text-blue-800",children:((H=_.medication)==null?void 0:H.name)||_.name||"Khng c tn thuc"}),s.jsx("p",{className:"text-gray-600 text-sm",children:((U=_.medication)==null?void 0:U.description)||_.genericName||""}),(((W=_.medication)==null?void 0:W.category)||_.medicationType)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:((J=_.medication)==null?void 0:J.category)||_.medicationType}),((ce=_.medication)==null?void 0:ce.dosageForm)&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs",children:_.medication.dosageForm}),((re=_.medication)==null?void 0:re.strength)&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:_.medication.strength})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.status==="ACTIVE"?"bg-green-100 text-green-800":_.status==="COMPLETED"?"bg-blue-100 text-blue-800":_.status==="DISCONTINUED"?"bg-red-100 text-red-800":_.status==="PAUSED"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:_.status==="ACTIVE"?"ang s dng":_.status==="COMPLETED"?"Hon thnh":_.status==="DISCONTINUED"?" ngng":_.status==="PAUSED"?"Tm dng":_.isActive?"ang s dng":" ngng"})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Liu lng"}),s.jsx("p",{className:"font-medium",children:_.dosage})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Tn sut"}),s.jsx("p",{className:"font-medium",children:_.frequency==="ONCE_DAILY"?"Mt ln mi ngy":_.frequency==="TWICE_DAILY"?"Hai ln mi ngy":_.frequency==="THREE_TIMES_DAILY"?"Ba ln mi ngy":_.frequency==="FOUR_TIMES_DAILY"?"Bn ln mi ngy":_.frequency==="AS_NEEDED"?"Khi cn":_.frequency})]}),((Te=_.medication)==null?void 0:Te.manufacturer)&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase mb-1",children:"Nh sn xut"}),s.jsx("p",{className:"font-medium",children:_.medication.manufacturer})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase mb-1",children:"Ngy bt u"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsx("span",{className:"font-medium",children:_.startDate?new Date(_.startDate).toLocaleDateString("vi-VN"):"N/A"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase mb-1",children:"Ngy kt thc"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsx("span",{className:"font-medium",children:_.endDate?new Date(_.endDate).toLocaleDateString("vi-VN"):"Cha xc nh"})]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase mb-1",children:"Ngy k n"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 text-gray-400 mr-1"}),s.jsx("span",{className:"font-medium",children:_.prescriptionDate?new Date(_.prescriptionDate).toLocaleDateString("vi-VN"):_.createdAt?new Date(_.createdAt).toLocaleDateString("vi-VN"):new Date(_.startDate).toLocaleDateString("vi-VN")})]})]})]}),_.instructions&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx(Ze,{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Hng dn s dng"}),s.jsx("p",{className:"text-sm",children:_.instructions})]})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(((Fe=_.medication)==null?void 0:Fe.sideEffects)||_.sideEffects&&_.sideEffects.length>0)&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-100 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-yellow-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-700 font-medium mb-1",children:"Tc dng ph c th gp"}),s.jsx("p",{className:"text-sm",children:((Ss=_.medication)==null?void 0:Ss.sideEffects)||(Array.isArray(_.sideEffects)?_.sideEffects.join(", "):_.sideEffects)})]})]})}),((Wn=_.medication)==null?void 0:Wn.contraindications)&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx(ze,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-red-700 font-medium mb-1",children:"Chng ch nh"}),s.jsx("p",{className:"text-sm",children:_.medication.contraindications})]})]})})]}),_.schedules&&_.schedules.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1 text-gray-500"}),"Lch ung thuc"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:_.schedules.map((ne,De)=>s.jsxs("div",{className:"flex items-center p-3 bg-indigo-50 border border-indigo-100 rounded-md",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:s.jsx("span",{className:"font-bold text-indigo-700",children:ne.timeOfDay||ne.formattedTime})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-indigo-800",children:ne.dosageAmount}),ne.notes&&s.jsx("p",{className:"text-xs text-indigo-600",children:ne.notes})]})]},De))})]})]})]},_.id)})})}),s.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:s.jsx(F,{variant:"primary",onClick:()=>M(!1),children:"ng"})})]})})]})};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function sn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function qe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function xt(t){qe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Fh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function RB(t,e){qe(2,arguments);var n=xt(t),r=sn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function XS(t,e){qe(2,arguments);var n=xt(t),r=sn(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function IB(t,e){qe(2,arguments);var n=xt(t).getTime(),r=sn(e);return new Date(n+r)}var OB={};function lo(){return OB}function Vh(t,e){var n,r,i,a,l,o,c,d;qe(1,arguments);var u=lo(),h=sn((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(l=e.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=xt(t),g=m.getDay(),y=(g<h?7:0)+g-h;return m.setDate(m.getDate()-y),m.setHours(0,0,0,0),m}function FB(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Hj(t){qe(1,arguments);var e=xt(t);return e.setHours(0,0,0,0),e}var ZS=6e4,QS=36e5;function Hl(t,e){qe(2,arguments);var n=Hj(t),r=Hj(e);return n.getTime()===r.getTime()}function VB(t){return qe(1,arguments),t instanceof Date||Fh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $B(t){if(qe(1,arguments),!VB(t)&&typeof t!="number")return!1;var e=xt(t);return!isNaN(Number(e))}function BB(t){qe(1,arguments);var e=xt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function HB(t,e){var n;qe(1,arguments);var r=t||{},i=xt(r.start),a=xt(r.end),l=a.getTime();if(!(i.getTime()<=l))throw new RangeError("Invalid interval");var o=[],c=i;c.setHours(0,0,0,0);var d=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=l;)o.push(xt(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return o}function zB(t){qe(1,arguments);var e=xt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function zj(t,e){var n,r,i,a,l,o,c,d;qe(1,arguments);var u=lo(),h=sn((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(l=e.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=xt(t),g=m.getDay(),y=(g<h?-7:0)+6-(g-h);return m.setDate(m.getDate()+y),m.setHours(23,59,59,999),m}function UB(t,e){qe(2,arguments);var n=sn(e);return IB(t,-n)}var WB=864e5;function qB(t){qe(1,arguments);var e=xt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/WB)+1}function $h(t){qe(1,arguments);var e=1,n=xt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function JS(t){qe(1,arguments);var e=xt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=$h(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var l=$h(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function KB(t){qe(1,arguments);var e=JS(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=$h(n);return r}var GB=6048e5;function YB(t){qe(1,arguments);var e=xt(t),n=$h(e).getTime()-KB(e).getTime();return Math.round(n/GB)+1}function Bh(t,e){var n,r,i,a,l,o,c,d;qe(1,arguments);var u=lo(),h=sn((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(l=e.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=xt(t),g=m.getUTCDay(),y=(g<h?7:0)+g-h;return m.setUTCDate(m.getUTCDate()-y),m.setUTCHours(0,0,0,0),m}function eT(t,e){var n,r,i,a,l,o,c,d;qe(1,arguments);var u=xt(t),h=u.getUTCFullYear(),m=lo(),g=sn((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(l=e.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(h+1,0,g),y.setUTCHours(0,0,0,0);var x=Bh(y,e),b=new Date(0);b.setUTCFullYear(h,0,g),b.setUTCHours(0,0,0,0);var v=Bh(b,e);return u.getTime()>=x.getTime()?h+1:u.getTime()>=v.getTime()?h:h-1}function XB(t,e){var n,r,i,a,l,o,c,d;qe(1,arguments);var u=lo(),h=sn((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(l=e.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=eT(t,e),g=new Date(0);g.setUTCFullYear(m,0,h),g.setUTCHours(0,0,0,0);var y=Bh(g,e);return y}var ZB=6048e5;function QB(t,e){qe(1,arguments);var n=xt(t),r=Bh(n,e).getTime()-XB(n,e).getTime();return Math.round(r/ZB)+1}function st(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var JB={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return st(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):st(r+1,2)},d:function(e,n){return st(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return st(e.getUTCHours()%12||12,n.length)},H:function(e,n){return st(e.getUTCHours(),n.length)},m:function(e,n){return st(e.getUTCMinutes(),n.length)},s:function(e,n){return st(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return st(a,n.length)}};const Qr=JB;var za={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eH={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Qr.y(e,n)},Y:function(e,n,r,i){var a=eT(e,i),l=a>0?a:1-a;if(n==="YY"){var o=l%100;return st(o,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):st(l,n.length)},R:function(e,n){var r=JS(e);return st(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return st(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return st(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return st(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Qr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return st(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=QB(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):st(a,n.length)},I:function(e,n,r){var i=YB(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):st(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qr.d(e,n)},D:function(e,n,r){var i=qB(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):st(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return st(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return st(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return st(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=za.noon:i===0?a=za.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=za.evening:i>=12?a=za.afternoon:i>=4?a=za.morning:a=za.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Qr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qr.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):st(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qr.s(e,n)},S:function(e,n){return Qr.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,l=a.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Wj(l);case"XXXX":case"XX":return na(l);case"XXXXX":case"XXX":default:return na(l,":")}},x:function(e,n,r,i){var a=i._originalDate||e,l=a.getTimezoneOffset();switch(n){case"x":return Wj(l);case"xxxx":case"xx":return na(l);case"xxxxx":case"xxx":default:return na(l,":")}},O:function(e,n,r,i){var a=i._originalDate||e,l=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Uj(l,":");case"OOOO":default:return"GMT"+na(l,":")}},z:function(e,n,r,i){var a=i._originalDate||e,l=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Uj(l,":");case"zzzz":default:return"GMT"+na(l,":")}},t:function(e,n,r,i){var a=i._originalDate||e,l=Math.floor(a.getTime()/1e3);return st(l,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,l=a.getTime();return st(l,n.length)}};function Uj(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var l=e||"";return n+String(i)+l+st(a,2)}function Wj(t,e){if(t%60===0){var n=t>0?"-":"+";return n+st(Math.abs(t)/60,2)}return na(t,e)}function na(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=st(Math.floor(i/60),2),l=st(i%60,2);return r+a+n+l}const tH=eH;var qj=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},tT=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},sH=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return qj(e,n);var l;switch(i){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",qj(i,n)).replace("{{time}}",tT(a,n))},nH={p:tT,P:sH};const rH=nH;var iH=["D","DD"],aH=["YY","YYYY"];function lH(t){return iH.indexOf(t)!==-1}function oH(t){return aH.indexOf(t)!==-1}function Kj(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var cH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dH=function(e,n,r){var i,a=cH[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const uH=dH;function wl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var hH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gH={date:wl({formats:hH,defaultWidth:"full"}),time:wl({formats:mH,defaultWidth:"full"}),dateTime:wl({formats:fH,defaultWidth:"full"})};const xH=gH;var pH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yH=function(e,n,r,i){return pH[e]};const vH=yH;function nr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{var o=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[o]}var d=t.argumentCallback?t.argumentCallback(e):e;return i[d]}}var bH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TH=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CH={ordinalNumber:TH,era:nr({values:bH,defaultWidth:"wide"}),quarter:nr({values:jH,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:nr({values:wH,defaultWidth:"wide"}),day:nr({values:NH,defaultWidth:"wide"}),dayPeriod:nr({values:kH,defaultWidth:"wide",formattingValues:SH,defaultFormattingWidth:"wide"})};const EH=CH;function rr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var l=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?PH(o,function(h){return h.test(l)}):DH(o,function(h){return h.test(l)}),d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=e.slice(l.length);return{value:d,rest:u}}}function DH(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function PH(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function sT(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;var o=e.slice(i.length);return{value:l,rest:o}}}var MH=/^(\d+)(th|st|nd|rd)?/i,_H=/\d+/i,LH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AH={any:[/^b/i,/^(a|c)/i]},RH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IH={any:[/1/i,/2/i,/3/i,/4/i]},OH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$H={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zH={ordinalNumber:sT({matchPattern:MH,parsePattern:_H,valueCallback:function(e){return parseInt(e,10)}}),era:rr({matchPatterns:LH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),quarter:rr({matchPatterns:RH,defaultMatchWidth:"wide",parsePatterns:IH,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:rr({matchPatterns:OH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"}),day:rr({matchPatterns:VH,defaultMatchWidth:"wide",parsePatterns:$H,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:BH,defaultMatchWidth:"any",parsePatterns:HH,defaultParseWidth:"any"})};const UH=zH;var WH={code:"en-US",formatDistance:uH,formatLong:xH,formatRelative:vH,localize:EH,match:UH,options:{weekStartsOn:0,firstWeekContainsDate:1}};const qH=WH;var KH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YH=/^'([^]*?)'?$/,XH=/''/g,ZH=/[a-zA-Z]/;function Sr(t,e,n){var r,i,a,l,o,c,d,u,h,m,g,y,x,b,v,p,j,N;qe(2,arguments);var w=String(e),E=lo(),M=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:E.locale)!==null&&r!==void 0?r:qH,k=sn((a=(l=(o=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:E.firstWeekContainsDate)!==null&&l!==void 0?l:(h=E.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=sn((g=(y=(x=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(v=n.locale)===null||v===void 0||(p=v.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&x!==void 0?x:E.weekStartsOn)!==null&&y!==void 0?y:(j=E.locale)===null||j===void 0||(N=j.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&g!==void 0?g:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var S=xt(t);if(!$B(S))throw new RangeError("Invalid time value");var P=FB(S),C=UB(S,P),A={firstWeekContainsDate:k,weekStartsOn:T,locale:M,_originalDate:S},I=w.match(GH).map(function(V){var L=V[0];if(L==="p"||L==="P"){var O=rH[L];return O(V,M.formatLong)}return V}).join("").match(KH).map(function(V){if(V==="''")return"'";var L=V[0];if(L==="'")return QH(V);var O=tH[L];if(O)return!(n!=null&&n.useAdditionalWeekYearTokens)&&oH(V)&&Kj(V,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&lH(V)&&Kj(V,e,String(t)),O(C,V,M.localize,A);if(L.match(ZH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return V}).join("");return I}function QH(t){var e=t.match(YH);return e?e[1].replace(XH,"'"):t}function JH(t){qe(1,arguments);var e=xt(t),n=e.getDate();return n}function Gj(t){qe(1,arguments);var e=xt(t),n=e.getMonth();return n}function Yj(t){return qe(1,arguments),xt(t).getFullYear()}function ez(t,e){qe(2,arguments);var n=xt(t),r=xt(e);return n.getTime()>r.getTime()}function tz(t,e,n){qe(2,arguments);var r=Vh(t,n),i=Vh(e,n);return r.getTime()===i.getTime()}function sz(t,e){return qe(1,arguments),tz(t,Date.now(),e)}function Au(t){return qe(1,arguments),Hl(t,Date.now())}function nz(t){return qe(1,arguments),Hl(t,RB(Date.now(),1))}function Fo(t,e){var n;qe(1,arguments);var r=sn((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=lz(t),a;if(i.date){var l=oz(i.date,r);a=cz(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),c=0,d;if(i.time&&(c=dz(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(d=uz(i.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(o+c),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(o+c+d)}var Gd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,az=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lz(t){var e={},n=t.split(Gd.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Gd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Gd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Gd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function oz(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function cz(t,e){if(e===null)return new Date(NaN);var n=t.match(rz);if(!n)return new Date(NaN);var r=!!n[4],i=To(n[1]),a=To(n[2])-1,l=To(n[3]),o=To(n[4]),c=To(n[5])-1;if(r)return xz(e,o,c)?hz(e,o,c):new Date(NaN);var d=new Date(0);return!fz(e,a,l)||!gz(e,i)?new Date(NaN):(d.setUTCFullYear(e,a,Math.max(i,l)),d)}function To(t){return t?parseInt(t):1}function dz(t){var e=t.match(iz);if(!e)return NaN;var n=eg(e[1]),r=eg(e[2]),i=eg(e[3]);return pz(n,r,i)?n*QS+r*ZS+i*1e3:NaN}function eg(t){return t&&parseFloat(t.replace(",","."))||0}function uz(t){if(t==="Z")return 0;var e=t.match(az);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return yz(r,i)?n*(r*QS+i*ZS):NaN}function hz(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var mz=[31,null,31,30,31,30,31,31,30,31,30,31];function nT(t){return t%400===0||t%4===0&&t%100!==0}function fz(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(mz[e]||(nT(t)?29:28))}function gz(t,e){return e>=1&&e<=(nT(t)?366:365)}function xz(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function pz(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function yz(t,e){return e>=0&&e<=59}function vz(t,e){qe(2,arguments);var n=sn(e);return XS(t,-n)}var bz={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},jz=function(e,n,r){var i,a=bz[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+" na":i+" trc":i};const wz=jz;var Nz={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},kz={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Sz={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Tz={date:wl({formats:Nz,defaultWidth:"full"}),time:wl({formats:kz,defaultWidth:"full"}),dateTime:wl({formats:Sz,defaultWidth:"full"})};const Cz=Tz;var Ez={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},Dz=function(e,n,r,i){return Ez[e]};const Pz=Dz;var Mz={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},_z={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},Lz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},Az={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},Rz={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},Iz={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},Oz={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},Fz={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},Vz=function(e,n){var r=Number(e),i=n==null?void 0:n.unit;if(i==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(i==="day")switch(r){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(i==="week")return r===1?"th nht":"th "+r;if(i==="dayOfYear")return r===1?"u tin":"th "+r}return String(r)},$z={ordinalNumber:Vz,era:nr({values:Mz,defaultWidth:"wide"}),quarter:nr({values:_z,defaultWidth:"wide",formattingValues:Lz,defaultFormattingWidth:"wide",argumentCallback:function(e){return e-1}}),month:nr({values:Az,defaultWidth:"wide",formattingValues:Rz,defaultFormattingWidth:"wide"}),day:nr({values:Iz,defaultWidth:"wide"}),dayPeriod:nr({values:Oz,defaultWidth:"wide",formattingValues:Fz,defaultFormattingWidth:"wide"})};const Bz=$z;var Hz=/^(\d+)/i,zz=/\d+/i,Uz={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},Wz={any:[/^t/i,/^s/i]},qz={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},Kz={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},Gz={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},Yz={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},Xz={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},Zz={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},Qz={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},Jz={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},eU={ordinalNumber:sT({matchPattern:Hz,parsePattern:zz,valueCallback:function(e){return parseInt(e,10)}}),era:rr({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:Wz,defaultParseWidth:"any"}),quarter:rr({matchPatterns:qz,defaultMatchWidth:"wide",parsePatterns:Kz,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:rr({matchPatterns:Gz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"wide"}),day:rr({matchPatterns:Xz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"wide"}),dayPeriod:rr({matchPatterns:Qz,defaultMatchWidth:"wide",parsePatterns:Jz,defaultParseWidth:"any"})};const tU=eU;var sU={code:"vi",formatDistance:wz,formatLong:Cz,formatRelative:Pz,localize:Bz,match:tU,options:{weekStartsOn:1,firstWeekContainsDate:1}};const ul=sU,nU=()=>{const[t,e]=f.useState(new Date),[n,r]=f.useState(new Date),[i,a]=f.useState([]),[l,o]=f.useState(!0),[c,d]=f.useState(null),[u,h]=f.useState(null),[m,g]=f.useState({totalDays:30,workDays:0,restDays:30,morningShifts:0,afternoonShifts:0,fullDayShifts:0});f.useEffect(()=>{(async()=>{try{const M=Ee.getCurrentUser();if(!M)throw new Error("Khng tm thy thng tin ngi dng");if(M.doctorId)h(M.doctorId);else try{const k=await _n.getDoctorProfile(M.id);if(!k.success)throw new Error(k.message||"Khng th ly thng tin bc s");const T=k.data;h(T.id)}catch(k){throw console.error("Error fetching doctor profile:",k),new Error("Khng tm thy h s bc s cho ngi dng ny")}}catch(M){console.error("Error fetching doctor information:",M),d("Li khi ti thng tin bc s: "+(M.message||"Li khng xc nh"))}})()},[]),f.useEffect(()=>{u&&y()},[t,u]);const y=async()=>{try{o(!0);const E=Yj(t),M=Gj(t)+1,k=await _n.getDoctorMonthlySchedule(u,E,M);if(console.log("Schedule API response:",k),k.success){let T=[];k.data&&k.data.workSchedule&&Array.isArray(k.data.workSchedule)?(T=k.data.workSchedule.filter(S=>S.workStatus!=="off"&&S.shifts&&S.shifts.length>0).map(S=>{const P=Fo(S.date),C=[];S.shifts&&Array.isArray(S.shifts)&&S.shifts.forEach(I=>{I.type==="morning"&&C.push("morning"),I.type==="afternoon"&&C.push("afternoon")});const A=S.shifts&&Array.isArray(S.shifts)?S.shifts.map(I=>`${I.start} - ${I.end}`):[];return{date:P,shifts:C,timeSlots:A,workStatus:S.workStatus,notes:S.notes,location:S.location}}),k.data.monthlyStats&&g({totalDays:k.data.monthlyStats.totalDays||30,workDays:k.data.monthlyStats.workingDays||0,restDays:k.data.monthlyStats.offDays||30,morningShifts:T.filter(S=>S.shifts.includes("morning")).length,afternoonShifts:T.filter(S=>S.shifts.includes("afternoon")).length,fullDayShifts:k.data.monthlyStats.fullDays||0})):console.warn("Unexpected response format:",k.data),console.log("Transformed schedule data:",T),a(T),x(T),d(null)}else console.error("API returned error:",k.message),d("Khng th ti lch lm vic: "+k.message),a([])}catch(E){console.error("Error fetching work schedule:",E),d("Li khi ti lch lm vic: "+(E.message||"Li khng xc nh")),a([])}finally{o(!1)}},x=E=>{const M=new Date(Yj(t),Gj(t)+1,0).getDate(),k=E.length,T=E.filter(C=>C.shifts.includes("morning")).length,S=E.filter(C=>C.shifts.includes("afternoon")).length,P=E.filter(C=>C.shifts.includes("morning")&&C.shifts.includes("afternoon")).length;g({totalDays:M,workDays:k,restDays:M-k,morningShifts:T,afternoonShifts:S,fullDayShifts:P})},b=()=>{const E="MMMM yyyy";return s.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-t-lg border-b border-blue-200",children:[s.jsx("button",{onClick:()=>e(vz(t,1)),className:"flex items-center justify-center p-2 rounded-full hover:bg-blue-100 transition-all duration-300",children:s.jsx(Mm,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 bg-white px-4 py-1 rounded-full shadow-sm",children:Sr(t,E,{locale:ul})}),s.jsx("button",{onClick:()=>e(XS(t,1)),className:"flex items-center justify-center p-2 rounded-full hover:bg-blue-100 transition-all duration-300",children:s.jsx(_m,{className:"h-5 w-5 text-blue-600"})})]})},v=()=>{const E=["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by"],M=[];for(let k=0;k<7;k++)M.push(s.jsx("div",{className:"py-2 text-center text-sm font-medium text-gray-700 uppercase bg-indigo-50 border-b border-indigo-100",children:E[k]},k));return s.jsx("div",{className:"grid grid-cols-7",children:M})},p=E=>E?i.find(M=>Hl(M.date,E)):null,j=()=>{var P;const E=zB(t),M=BB(E),k=[];let T=[];const S=JH(M);for(let C=1;C<=S;C++){const A=new Date(t.getFullYear(),t.getMonth(),C),I=Sr(A,"d"),V=p(A);if(T.push(s.jsxs("div",{className:`min-h-[120px] p-2 border relative calendar-day ${Au(A)?"bg-blue-50 border-blue-300":"bg-white"} ${Hl(A,n)?"selected ring-2 ring-blue-500 ring-opacity-70 shadow-md":""} 
          hover:shadow-lg transition-all duration-300 hover:z-10`,onClick:()=>r(A),children:[s.jsx("div",{className:`absolute top-0 right-0 mt-1 mr-1 w-6 h-6 flex items-center justify-center text-xs rounded-full
            ${Au(A)?"bg-blue-500 text-white":"text-gray-600"}`,children:I}),s.jsxs("div",{className:"pt-7 space-y-1.5",children:[V&&V.shifts.includes("morning")&&s.jsxs("div",{className:"bg-blue-100 text-blue-800 border border-blue-300 text-xs rounded-md px-1.5 py-1 flex items-center space-x-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),V.timeSlots.find(L=>L.toLowerCase().includes("morning"))||s.jsx("span",{children:"Ca sng"})]}),V&&V.shifts.includes("afternoon")&&s.jsxs("div",{className:"bg-amber-100 text-amber-800 border border-amber-300 text-xs rounded-md px-1.5 py-1 flex items-center space-x-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),V.timeSlots.find(L=>L.toLowerCase().includes("afternoon"))||s.jsx("span",{children:"Ca chiu"})]}),V&&V.timeSlots&&V.timeSlots.map((L,O)=>s.jsxs("div",{className:"bg-amber-100 text-amber-800 border border-amber-300 text-xs rounded-md px-1.5 py-1 flex items-center space-x-1",children:[s.jsx(Ce,{className:"h-3 w-3"}),s.jsx("span",{children:L})]},O)),(!V||V.shifts.length===0&&!((P=V.timeSlots)!=null&&P.length))&&s.jsxs("div",{className:"flex items-center justify-center h-10 text-xs text-gray-400 mt-2",children:[s.jsx(Vb,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Ngh"})]})]})]},A.toString())),T.length===7||C===S){if(C===S&&T.length<7){const L=7-T.length;for(let O=0;O<L;O++)T.push(s.jsx("div",{className:"min-h-[120px] p-2 border relative bg-white"},`empty-${O}`))}k.push(s.jsx("div",{className:"grid grid-cols-7",children:T},`row-${C}`)),T=[]}}return s.jsx("div",{className:"calendar",children:k})},N=()=>s.jsxs("div",{className:"mt-5 bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[s.jsx(ve,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Thng k thng ny"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tng s ngy:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.totalDays})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ngy lm vic:"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:m.workDays})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ngy ngh:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.restDays})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ca bn thi gian:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.workDays})]}),s.jsx("div",{className:"h-px bg-gray-200 my-2"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tng gi lm:"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"4h"})]})]})]}),w=()=>{const E=p(n);return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:Sr(n,"EEEE, dd MMMM yyyy",{locale:ul})}),Au(n)&&s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Hm nay"})}),!E&&s.jsx("div",{className:"py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(Vb,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Ngh"})]})}),E&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:s.jsx("h4",{className:"font-medium text-gray-700",children:"Chi tit - Th Ba, 24 thng 6, 2025"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[E.shifts&&E.shifts.includes("morning")&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Ca sng (8:00-12:00)"})]}),E.shifts&&E.shifts.includes("afternoon")&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),s.jsx("span",{className:"text-sm",children:"Ca chiu (15:00-17:00)"})]}),E.timeSlots&&E.timeSlots.map((M,k)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),s.jsx("span",{className:"text-sm",children:M})]},k))]})})]})}),N()]})};return s.jsx(be,{currentRole:se.DOCTOR,children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(ve,{className:"h-8 w-8 text-primary-500 mr-3"}),"Lch lm vic"]}),s.jsx("p",{className:"text-gray-600 mt-2 ml-11",children:"Xem lch trnh lm vic v ca trc ca bn"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),"Lm mi"]})})]}),c&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Li! "}),s.jsx("span",{className:"block sm:inline",children:c})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 border shadow-sm",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[s.jsx(Pi,{className:"h-5 w-5 mr-1 text-blue-500"}),"Ch thch"]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),s.jsx("span",{className:"text-sm",children:"Ca sng (8:00-12:00)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full mr-2"}),s.jsx("span",{className:"text-sm",children:"Ca chiu (13:30-17:30)"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),s.jsx("span",{className:"text-sm",children:"Ngh (Khng lm vic)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 shadow-md rounded-lg hover:shadow-xl transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:[b(),v(),l?s.jsx("div",{className:"flex justify-center items-center p-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j()]})}),s.jsx("div",{className:"shadow-md rounded-lg hover:shadow-xl transition-all duration-300",children:s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 h-full",children:l?s.jsx("div",{className:"flex justify-center items-center py-10",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):w()})})]})]})})},rU=()=>{const[t,e]=f.useState({fullName:"Bc s L Th Minh",email:"bs.lethiminh@example.com",phone:"(123) 456-7893",language:"vi",notifications:{email:!0,browser:!0,appointments:!0,results:!0,system:!1},theme:"light",fontSize:"medium",workingHours:{start:"08:00",end:"17:00"},autoAcceptAppointments:!1}),n=i=>{const{name:a,value:l,type:o,checked:c}=i.target;if(a.includes(".")){const[d,u]=a.split(".");e({...t,[d]:{...t[d],[u]:o==="checkbox"?c:l}})}else e({...t,[a]:o==="checkbox"?c:l})},r=i=>{i.preventDefault(),console.log("Doctor settings updated:",t),alert("Ci t  c cp nht!")};return s.jsx(be,{currentRole:se.DOCTOR,userName:t.fullName,children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t ti khon"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l thng tin c nhn, thng bo v ty chn hin th"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{title:"Thng tin c nhn",children:s.jsxs("form",{onSubmit:r,className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fullName",children:"H v tn"}),s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phone",children:"S in thoi"}),s.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"language",children:"Ngn ng"}),s.jsxs("select",{id:"language",name:"language",value:t.language,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"vi",children:"Ting Vit"}),s.jsx("option",{value:"en",children:"Ting Anh"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"submit",variant:"primary",children:"Lu thay i"})})]})}),s.jsx(G,{title:"Gi lm vic",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"workingHours.start",children:"Gi bt u"}),s.jsx("input",{type:"time",id:"workingHours.start",name:"workingHours.start",value:t.workingHours.start,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"workingHours.end",children:"Gi kt thc"}),s.jsx("input",{type:"time",id:"workingHours.end",name:"workingHours.end",value:t.workingHours.end,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"autoAcceptAppointments",name:"autoAcceptAppointments",type:"checkbox",checked:t.autoAcceptAppointments,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"autoAcceptAppointments",className:"ml-2 block text-sm text-gray-700",children:"T ng chp nhn lch hn"})]})})]})}),s.jsx(G,{title:"Ci t thng bo",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Knh thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.email",name:"notifications.email",type:"checkbox",checked:t.notifications.email,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.email",className:"ml-2 block text-sm text-gray-700",children:"Email"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.browser",name:"notifications.browser",type:"checkbox",checked:t.notifications.browser,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.browser",className:"ml-2 block text-sm text-gray-700",children:"Thng bo trong ng dng"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loi thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.appointments",name:"notifications.appointments",type:"checkbox",checked:t.notifications.appointments,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.appointments",className:"ml-2 block text-sm text-gray-700",children:"Lch hn mi v thay i"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.results",name:"notifications.results",type:"checkbox",checked:t.notifications.results,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.results",className:"ml-2 block text-sm text-gray-700",children:"Kt qu xt nghim mi"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.system",name:"notifications.system",type:"checkbox",checked:t.notifications.system,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.system",className:"ml-2 block text-sm text-gray-700",children:"Thng bo h thng"})]})]})]})]})})}),s.jsx(G,{title:"Ty chn hin th",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"theme",children:"Giao din"}),s.jsxs("select",{id:"theme",name:"theme",value:t.theme,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"light",children:"Sng"}),s.jsx("option",{value:"dark",children:"Ti"}),s.jsx("option",{value:"auto",children:"T ng"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fontSize",children:"Kch thc ch"}),s.jsxs("select",{id:"fontSize",name:"fontSize",value:t.fontSize,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"small",children:"Nh"}),s.jsx("option",{value:"medium",children:"Va"}),s.jsx("option",{value:"large",children:"Ln"})]})]})]})})})]})]})})},wn="http://localhost:8080/api";class iU{constructor(){this.setupInterceptors()}setupInterceptors(){Q.interceptors.request.use(e=>{const n=Ee.getToken();return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),Q.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(Ee.logout(),window.location.href="/login"),Promise.reject(e)})}handleApiError(e){var n;return(n=e.response)!=null&&n.data?{success:!1,message:e.response.data.message||"API Error",statusCode:e.response.status}:{success:!1,message:e.message||"Network Error",statusCode:500}}async getPendingLabRequests(){try{return(await Q.get(`${wn}/lab-requests/pending`)).data}catch(e){return console.error("Error fetching pending lab requests:",e),this.handleApiError(e)}}async getStaffLabRequests(e){try{return(await Q.get(`${wn}/lab-requests/staff/${e}`)).data}catch(n){return console.error("Error fetching staff lab requests:",n),this.handleApiError(n)}}async getStaffCompletedLabRequests(e){try{return(await Q.get(`${wn}/lab-requests/staff/${e}/completed`)).data}catch(n){return console.error("Error fetching completed lab requests:",n),this.handleApiError(n)}}async getStaffRejectedLabRequests(e){try{return(await Q.get(`${wn}/lab-requests/staff/${e}/rejected`)).data}catch(n){return console.error("Error fetching rejected lab requests:",n),this.handleApiError(n)}}async reactivateLabRequest(e){try{return(await Q.put(`${wn}/lab-requests/${e}/reactivate`)).data}catch(n){return console.error("Error reactivating lab request:",n),this.handleApiError(n)}}async getPreviousLabResults(e){try{return(await Q.get(`${wn}/staff/lab/requests/${e}/previous-results`)).data}catch(n){return console.error("Error fetching previous lab results:",n),this.handleApiError(n)}}async assignLabRequest(e,n){try{return(await Q.put(`${wn}/lab-requests/${e}/assign?staffId=${n}`)).data}catch(r){return console.error("Error assigning lab request:",r),this.handleApiError(r)}}async submitTestResult(e,n){try{return(await Q.post(`${wn}/doctor/lab-results`,{...n,appointmentId:e})).data}catch(r){return console.error("Error submitting test result:",r),this.handleApiError(r)}}async completeLabRequest(e){try{return(await Q.put(`${wn}/lab-requests/${e}/complete`)).data}catch(n){return console.error("Error completing lab request:",n),this.handleApiError(n)}}async getTestTypes(){try{return(await Q.get(`${wn}/doctor/lab-results/test-types`)).data}catch(e){return console.error("Error fetching test types:",e),this.handleApiError(e)}}async submitTestResults(e,n){try{return{success:!0,data:(await Q.post(`${wn}/staff/lab/requests/${e}/complete`,n)).data,message:"Kt qu xt nghim  c lu thnh cng"}}catch(r){return console.error("Error submitting test results:",r),this.handleApiError(r)}}}const is=new iU,rT=({isOpen:t,onClose:e,labRequest:n,onSubmit:r})=>{const[i,a]=f.useState({}),[l,o]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(new Date().toISOString().split("T")[0]),[m,g]=f.useState("");f.useEffect(()=>{var b;if(t&&n)if(a({}),h(new Date().toISOString().split("T")[0]),g(""),d(null),n.previousResults&&n.previousResults.length>0){const v={};n.previousResults.forEach(p=>{const j=p.testType;let N;switch(j){case"CD4":N="cd4";break;case"VIRAL_LOAD":N="viralLoad";break;case"HIV_TEST":N="hivTest";break;case"BLOOD_COUNT":v.wbc?v.rbc?v.hemoglobin?v.hematocrit?v.platelets||(N="platelets"):N="hematocrit":N="hemoglobin":N="rbc":N="wbc";break;default:N="general";break}N&&!v[N]&&(v[N]={value:p.result||"",unit:p.unit||"",referenceRange:p.referenceRange||""})}),n.previousResults[0].testDate&&h(n.previousResults[0].testDate),n.previousResults[0].notes&&g(n.previousResults[0].notes),a(v)}else{const v=((b=n.serviceName)==null?void 0:b.toLowerCase())||"",p={};v.includes("cd4")&&(p.cd4={value:"",unit:"cells/mm",referenceRange:"500-1600"}),(v.includes("viral")||v.includes("ti lng"))&&(p.viralLoad={value:"",unit:"copies/mL",referenceRange:"<50"}),(v.includes("hiv test")||v.includes("xt nghim hiv"))&&(p.hivTest={value:"",unit:"",referenceRange:"Negative"}),(v.includes("blood")||v.includes("mu"))&&(p.wbc={value:"",unit:"10/L",referenceRange:"4.5-11.0"},p.rbc={value:"",unit:"10/L",referenceRange:"4.5-5.9"},p.hemoglobin={value:"",unit:"g/dL",referenceRange:"13.5-17.5"},p.hematocrit={value:"",unit:"%",referenceRange:"41-53"},p.platelets={value:"",unit:"10/L",referenceRange:"150-450"}),Object.keys(p).length===0&&(p.general={value:"",unit:"",referenceRange:""}),a(p)}},[t,n]);const y=(b,v,p)=>{a(j=>({...j,[b]:{...j[b],[v]:p}}))},x=async b=>{b.preventDefault(),o(!0),d(null);try{const v=Object.entries(i).map(([j,N])=>{const w={cd4:"CD4",viralLoad:"VIRAL_LOAD",hivTest:"HIV_TEST",wbc:"BLOOD_COUNT",rbc:"BLOOD_COUNT",hemoglobin:"BLOOD_COUNT",hematocrit:"BLOOD_COUNT",platelets:"BLOOD_COUNT",general:"OTHER"},E=n.appointmentId;return{testType:w[j]||"OTHER",result:N.value,unit:N.unit,referenceRange:N.referenceRange,testDate:u,notes:m,appointmentId:E}});n.status==="REJECTED"&&await is.reactivateLabRequest(n.id);const p=await r({labRequestId:n.id,results:v});p&&p.success?(localStorage.setItem("testResultSubmitted",n.id),setTimeout(()=>{e()},100)):e()}catch(v){d(`Error submitting test results: ${v.message}`)}finally{o(!1)}};return!t||!n?null:s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ie,{className:"h-5 w-5 mr-2 text-blue-500"}),"Nhp kt qu xt nghim"]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-blue-800",children:"Thng tin bnh nhn"}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"H tn:"})," ",n.patientName]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Dch v:"})," ",n.serviceName]}),n.bloodPressure&&s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Huyt p:"})," ",n.bloodPressure]}),n.symptoms&&s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Triu chng hin ti:"})," ",n.symptoms]}),n.medicalHistory&&s.jsxs("p",{className:"text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Tin s bnh:"})," ",n.medicalHistory]}),n.status==="REJECTED"&&n.notes&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:[s.jsx("p",{className:"text-red-700 font-medium",children:"L do bc s t chi kt qu trc :"}),s.jsx("p",{className:"text-red-600 italic",children:n.notes})]}),n.previousResults&&n.previousResults.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:[s.jsx("p",{className:"text-yellow-700 font-medium",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Kt qu xt nghim trc  c ti li"]})}),s.jsx("p",{className:"text-yellow-600",children:"Bn c th sa cc gi tr cn thit v gi li."})]})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md border border-red-200",children:c}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"testDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy xt nghim"}),s.jsx("input",{type:"date",id:"testDate",value:u,onChange:b=>h(b.target.value),max:new Date().toISOString().split("T")[0],className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Kt qu xt nghim"}),s.jsx("div",{className:"space-y-4",children:Object.entries(i).map(([b,v])=>{const p={cd4:"CD4 (T bo lympho T CD4+)",viralLoad:"Ti lng virus (Viral Load)",hivTest:"Xt nghim HIV",wbc:"Bch cu (WBC)",rbc:"Hng cu (RBC)",hemoglobin:"Hemoglobin",hematocrit:"Hematocrit",platelets:"Tiu cu",general:"Kt qu xt nghim"};return s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:p[b]||b}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500",children:"Gi tr"}),s.jsx("input",{type:"text",value:v.value,onChange:j=>y(b,"value",j.target.value),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500",children:"n v"}),s.jsx("input",{type:"text",value:v.unit,onChange:j=>y(b,"unit",j.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500",children:"Khong tham chiu"}),s.jsx("input",{type:"text",value:v.referenceRange,onChange:j=>y(b,"referenceRange",j.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]})]})]},b)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",value:m,onChange:b=>g(b.target.value),className:"w-full p-2 border border-gray-300 rounded-md h-24",placeholder:"Nhp ghi ch v kt qu xt nghim (nu c)"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(F,{type:"button",variant:"secondary",onClick:e,disabled:l,children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",isLoading:l,children:"Lu kt qu"})]})]})]})]})})},aU=()=>{hs();const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(!1),[y,x]=f.useState(null),[b,v]=f.useState(null),[p,j]=f.useState(null),[N,w]=f.useState(!1),[E,M]=f.useState(new Date),[k,T]=f.useState(!0),[S,P]=f.useState(6e4);f.useEffect(()=>{const H=Ee.getCurrentUser();if(H)if(v(H.id),localStorage.getItem("currentStaffId")!==H.id.toString())localStorage.removeItem("staffPendingLabRequests"),localStorage.removeItem("staffMyLabRequests"),localStorage.removeItem("staffCompletedLabRequests"),localStorage.removeItem("staffRejectedLabRequests"),localStorage.setItem("currentStaffId",H.id.toString());else{const ce=localStorage.getItem("staffPendingLabRequests"),re=localStorage.getItem("staffMyLabRequests"),Te=localStorage.getItem("staffRejectedLabRequests");if(ce)try{e(JSON.parse(ce))}catch(Fe){console.error("Error parsing saved pending lab requests:",Fe)}if(re)try{r(JSON.parse(re))}catch(Fe){console.error("Error parsing saved my lab requests:",Fe)}if(Te)try{a(JSON.parse(Te))}catch(Fe){console.error("Error parsing saved rejected lab requests:",Fe)}}const U=localStorage.getItem("staffDashboardAutoRefresh");U!==null&&T(JSON.parse(U)),C();const W=()=>{document.visibilityState==="visible"&&C()};return document.addEventListener("visibilitychange",W),()=>{document.removeEventListener("visibilitychange",W)}},[]),f.useEffect(()=>{b&&localStorage.setItem("staffPendingLabRequests",JSON.stringify(t))},[t,b]),f.useEffect(()=>{b&&localStorage.setItem("staffMyLabRequests",JSON.stringify(n))},[n,b]),f.useEffect(()=>{b&&localStorage.setItem("staffRejectedLabRequests",JSON.stringify(i))},[i,b]),f.useEffect(()=>{const H=U=>{if(U.key==="testResultSubmitted"){const W=parseInt(U.newValue);isNaN(W)||O(W)}else(U.key==="labRequestRejected"||U.key==="labRequestStatusChanged")&&C()};return window.addEventListener("storage",H),()=>window.removeEventListener("storage",H)},[n]),f.useEffect(()=>{localStorage.setItem("staffDashboardAutoRefresh",JSON.stringify(k));let H;return k&&(H=setInterval(()=>{C()},S)),()=>{H&&clearInterval(H)}},[k,S]);const C=async()=>{o(!0),await Promise.all([I(),V(),A()]),M(new Date),o(!1)},A=async()=>{if(b)try{g(!0);const H=await is.getStaffRejectedLabRequests(b);H.success?(console.log("Rejected lab requests data:",H.data),a(H.data||[])):console.error("Failed to fetch rejected requests:",H.message)}catch(H){console.error("Error fetching rejected lab requests:",H)}finally{g(!1)}},I=async()=>{try{d(!0),x(null);const H=await is.getPendingLabRequests();H.success?(console.log("Pending lab requests data:",H.data),e(H.data||[])):(console.error("Failed to fetch pending requests:",H.message),x("Failed to fetch pending requests: "+H.message))}catch(H){x(`Error loading pending lab requests: ${H.message}`),console.error("Error fetching pending lab requests:",H)}finally{d(!1)}},V=async()=>{if(b)try{h(!0);const H=await is.getStaffLabRequests(b);H.success?(console.log("My lab requests data:",H.data),r(H.data||[])):console.error("Failed to fetch assigned requests:",H.message)}catch(H){console.error("Error fetching assigned lab requests:",H)}finally{h(!1)}},L=async H=>{if(!b){x("Staff ID not available. Please log in again.");return}try{o(!0);const U=await is.assignLabRequest(H,b);if(U.success){const W=U.data;e(J=>J.filter(ce=>ce.id!==H)),r(J=>[...J,W]),localStorage.setItem("labRequestStatusChanged",new Date().getTime().toString()),C()}else x(`Failed to assign request: ${U.message}`)}catch(U){x(`Error assigning request: ${U.message}`),console.error("Error assigning lab request:",U)}finally{o(!1)}},O=H=>{const U=n.find(J=>J.id===H),W=n.filter(J=>J.id!==H);if(r(W),localStorage.setItem("staffMyLabRequests",JSON.stringify(W)),U){const J={...U,status:"COMPLETED"};let ce=[];try{const re=localStorage.getItem("staffCompletedLabRequests");re&&(ce=JSON.parse(re))}catch(re){console.error("Error parsing saved completed requests:",re)}ce=[J,...ce],localStorage.setItem("staffCompletedLabRequests",JSON.stringify(ce))}},D=async H=>{try{o(!0);const U=await is.getPreviousLabResults(H);if(U.success){const W=i.find(J=>J.id===H);W?(j({...W,previousResults:U.data||[]}),w(!0),localStorage.setItem("labRequestStatusChanged",new Date().getTime().toString())):x("Rejected request not found")}else{const W=await is.reactivateLabRequest(H);if(W.success){const J=i.find(re=>re.id===H);if(a(i.filter(re=>re.id!==H)),J){const re={...J,status:"IN_PROGRESS"};r([...n,re])}const ce=i.filter(re=>re.id!==H);if(localStorage.setItem("staffRejectedLabRequests",JSON.stringify(ce)),J){const re=[...n,{...J,status:"IN_PROGRESS"}];localStorage.setItem("staffMyLabRequests",JSON.stringify(re))}localStorage.setItem("labRequestStatusChanged",new Date().getTime().toString()),alert("Yu cu xt nghim  c kch hot li thnh cng!"),C()}else x(`Failed to reactivate request: ${W.message}`)}}catch(U){x(`Error reactivating request: ${U.message}`),console.error("Error reactivating lab request:",U)}finally{o(!1)}},R=H=>{j(H),w(!0)},B=async H=>{try{o(!0);const U=await is.submitTestResults(H.labRequestId,H.results);if(U.success){r(n.filter(J=>J.id!==H.labRequestId));const W=n.filter(J=>J.id!==H.labRequestId);localStorage.setItem("staffMyLabRequests",JSON.stringify(W)),localStorage.setItem("testResultSubmitted",H.labRequestId),localStorage.setItem("labRequestStatusChanged",new Date().getTime().toString()),w(!1),alert("Kt qu xt nghim  c lu thnh cng!"),C()}else x(`Failed to submit test results: ${U.message}`)}catch(U){x(`Error submitting test results: ${U.message}`),console.error("Error submitting test results:",U)}finally{o(!1)}},X=()=>{T(!k)},Z=()=>E.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),$=H=>{const U={};return H.forEach(W=>{const J=W.serviceName||"Khng xc nh";U[J]=(U[J]||0)+1}),U},Y=(H,U=!1,W=!1)=>{const J=H.bloodSampleRequested,ce=H.requestedAt?new Date(H.requestedAt):H.createdAt?new Date(H.createdAt):new Date,re=ce.toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}),Te=ce.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-3 border border-gray-200 hover:shadow-md transition-shadow duration-300",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full mr-3",children:s.jsx(Be,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-800",children:H.patientName||"Unknown Patient"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[H.patientGender||"?",", ",H.patientAge||"?"," ","tui"]})]})]}),s.jsxs("div",{className:"flex items-center",children:[J?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200 mr-2",children:[s.jsx(Di,{className:"h-3.5 w-3.5 mr-1"}),"Yu cu mu mu"]}):s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200 mr-2",children:[s.jsx(Xe,{className:"h-3.5 w-3.5 mr-1 text-gray-600"}),"Khng yu cu mu mu"]}),W&&s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:[s.jsx(ir,{className:"h-3.5 w-3.5 mr-1"})," b t chi"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2 text-sm",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Ngy yu cu:"}),s.jsxs("p",{className:"text-gray-600",children:[re," ",Te]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ie,{className:"h-4 w-4 text-indigo-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Dch v:"}),s.jsx("p",{className:"text-gray-600",children:H.serviceName||"N/A"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 mt-1 text-sm",children:[H.bloodPressure&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(li,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Huyt p:"}),s.jsx("p",{className:"text-gray-600",children:H.bloodPressure})]})]}),H.symptoms&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(Di,{className:"h-4 w-4 text-amber-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Triu chng:"}),s.jsx("p",{className:"text-gray-600",children:H.symptoms})]})]}),H.medicalHistory&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(li,{className:"h-4 w-4 text-teal-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Tin s:"}),s.jsx("p",{className:"text-gray-600",children:H.medicalHistory})]})]}),W&&H.notes&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(ir,{className:"h-4 w-4 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-700",children:"L do t chi:"}),s.jsx("p",{className:"text-red-600",children:H.notes})]})]})]}),s.jsx("div",{className:"flex justify-end mt-2 pt-2 border-t border-gray-100",children:U?s.jsxs(F,{variant:"primary",size:"sm",onClick:()=>L(H.id),disabled:l,className:"font-medium text-sm px-4 py-1.5 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx(li,{className:"h-4 w-4 mr-1.5"}),"Nhn x l"]}):W?s.jsxs(F,{variant:"warning",size:"sm",onClick:()=>D(H.id),disabled:l,className:"font-medium text-sm px-4 py-1.5 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx(at,{className:"h-4 w-4 mr-1.5"}),"Nhp li kt qu"]}):s.jsxs(F,{variant:"success",size:"sm",onClick:()=>R(H),className:"font-medium text-sm px-4 py-1.5 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx(Ie,{className:"h-4 w-4 mr-1.5"}),"Nhp kt qu"]})})]})},H.id)},_=H=>{const U=$(H);return s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(U).map(([W,J])=>s.jsxs("div",{className:"bg-white rounded-md px-3 py-2 border border-indigo-100 flex items-center shadow-sm",children:[s.jsx("div",{className:"bg-indigo-50 p-1.5 rounded-full mr-2",children:s.jsx(Ze,{className:"h-4 w-4 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 text-sm",children:W}),s.jsx("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs font-bold px-2 py-0.5 rounded-full",children:J})]})]},W))})};return s.jsx(be,{currentRole:se.STAFF,children:s.jsxs("div",{className:"p-3 w-full h-full",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:s.jsx(us,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Qun l Yu Cu Xt Nghim"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Qun l v x l cc yu cu xt nghim t bc s"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"text-sm bg-gray-50 px-3 py-1.5 rounded-md border border-gray-200 flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 text-gray-500 mr-1.5"}),s.jsxs("span",{className:"text-gray-600",children:["Cp nht lc:"," ",s.jsx("span",{className:"font-medium",children:Z()})]})]}),s.jsxs(F,{variant:k?"primary":"outline",size:"sm",onClick:X,className:`flex items-center ${k?"bg-indigo-600":"border-indigo-300 text-indigo-700"}`,children:[s.jsx(at,{className:`h-4 w-4 mr-1.5 ${k?"animate-spin":""}`}),k?"T ng cp nht":"Cp nht th cng"]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:C,disabled:l,className:"flex items-center border-gray-300",children:[s.jsx(at,{className:`h-4 w-4 mr-1.5 ${l?"animate-spin":""}`}),"Lm mi"]})]})]})}),s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 border border-blue-100 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center text-blue-800",children:[s.jsx("div",{className:"bg-blue-100 p-1.5 rounded-full mr-2",children:s.jsx(li,{className:"h-5 w-5 text-blue-600"})}),"Yu cu ch x l",s.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full",children:t.length})]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:I,disabled:c,className:"flex items-center border border-blue-300 text-blue-700 hover:bg-blue-50",children:[s.jsx(at,{className:`h-4 w-4 mr-1 ${c?"animate-spin":""}`}),"Lm mi"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-3 border border-green-100 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center text-green-800",children:[s.jsx("div",{className:"bg-green-100 p-1.5 rounded-full mr-2",children:s.jsx(Ie,{className:"h-5 w-5 text-green-600"})}),"Yu cu ca ti",s.jsx("span",{className:"ml-2 bg-green-600 text-white text-xs px-2 py-0.5 rounded-full",children:n.length})]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:V,disabled:u,className:"flex items-center border border-green-300 text-green-700 hover:bg-green-50",children:[s.jsx(at,{className:`h-4 w-4 mr-1 ${u?"animate-spin":""}`}),"Lm mi"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 p-3 border border-red-100 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center text-red-800",children:[s.jsx("div",{className:"bg-red-100 p-1.5 rounded-full mr-2",children:s.jsx(ir,{className:"h-5 w-5 text-red-600"})}),"Yu cu b t chi",s.jsx("span",{className:"ml-2 bg-red-600 text-white text-xs px-2 py-0.5 rounded-full",children:i.length})]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:A,disabled:m,className:"flex items-center border border-red-300 text-red-700 hover:bg-red-50",children:[s.jsx(at,{className:`h-4 w-4 mr-1 ${m?"animate-spin":""}`}),"Lm mi"]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 border border-blue-100 rounded-lg shadow-sm",children:[y&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-md mb-3 text-sm flex items-center",children:[s.jsx(Di,{className:"h-5 w-5 mr-2"}),y]}),t.length>0&&_(t),c?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(at,{className:"h-8 w-8 mx-auto animate-spin text-blue-500"}),s.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"ang ti d liu..."})]}):t.length>0?s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:t.map(H=>Y(H,!0))}):s.jsxs("div",{className:"bg-gray-50 rounded-md p-6 text-center border border-gray-100",children:[s.jsx(li,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500 text-base font-medium",children:"Khng c yu cu ch x l"})]})]}),s.jsxs("div",{className:"bg-white p-4 border border-green-100 rounded-lg shadow-sm",children:[n.length>0&&_(n),u?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(at,{className:"h-8 w-8 mx-auto animate-spin text-green-500"}),s.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"ang ti d liu..."})]}):n.length>0?s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:n.map(H=>Y(H,!1))}):s.jsxs("div",{className:"bg-gray-50 rounded-md p-6 text-center border border-gray-100",children:[s.jsx(Ie,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500 text-base font-medium",children:"Cha c yu cu ang x l"})]})]}),s.jsxs("div",{className:"bg-white p-4 border border-red-100 rounded-lg shadow-sm",children:[i.length>0&&_(i),m?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(at,{className:"h-8 w-8 mx-auto animate-spin text-red-500"}),s.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"ang ti d liu..."})]}):i.length>0?s.jsx("div",{className:"space-y-3 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:i.map(H=>Y(H,!1,!0))}):s.jsxs("div",{className:"bg-gray-50 rounded-md p-6 text-center border border-gray-100",children:[s.jsx(ir,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500 text-base font-medium",children:"Khng c yu cu b t chi"})]})]})]})]}),s.jsx(rT,{isOpen:N,onClose:()=>w(!1),labRequest:p,onSubmit:B})]})})},Py=({currentPage:t,totalPages:e,totalItems:n,itemsPerPage:r,onPageChange:i,showInfo:a=!0,className:l=""})=>{const o=(t-1)*r+1,c=Math.min(t*r,n),d=()=>{const m=[],g=[];for(let y=Math.max(2,t-2);y<=Math.min(e-1,t+2);y++)m.push(y);return t-2>2?g.push(1,"..."):g.push(1),g.push(...m),t+2<e-1?g.push("...",e):g.push(e),g},u=e>1?d():[];return e<=1?null:s.jsxs("div",{className:`flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 ${l}`,children:[s.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>i(t-1),disabled:t===1,children:"Trc"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Trang ",t," / ",e]}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>i(t+1),disabled:t===e,children:"Sau"})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a&&s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",s.jsx("span",{className:"font-medium",children:o})," n"," ",s.jsx("span",{className:"font-medium",children:c})," trong tng s"," ",s.jsx("span",{className:"font-medium",children:n})," kt qu"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>i(t-1),disabled:t===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang trc"}),s.jsx(Mm,{className:"h-5 w-5","aria-hidden":"true"})]}),u.map((h,m)=>h==="..."?s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0",children:"..."},`dots-${m}`):s.jsx("button",{onClick:()=>i(h),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${t===h?"z-10 bg-primary-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600":"text-gray-900"}`,children:h},h)),s.jsxs("button",{onClick:()=>i(t+1),disabled:t===e,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang sau"}),s.jsx(_m,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})},lU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all");f.useState(!1);const[l,o]=f.useState(null),[c,d]=f.useState("cards"),[u,h]=f.useState("name"),[m,g]=f.useState(1),[y]=f.useState(6),b=[{id:"PT10045",fullName:"Nguyn Vn A",gender:"Nam",age:38,dateOfBirth:"1985-05-12",phone:"0901234567",email:"nguyenvana@example.com",address:"123 L Li, Qun 1, TP.HCM",patientCode:"HIV23045",registrationDate:"2023-01-15",status:"active",lastVisit:"2024-06-05",nextAppointment:"2024-06-25",avatar:"https://randomuser.me/api/portraits/men/32.jpg",priority:"normal",testResults:[{date:"2024-06-05",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-05",type:"CD4 Count",result:"650 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Dolutegravir",dosage:"1 vin/ngy",startDate:"2023-01-15"}],notes:"Bnh nhn tun th iu tr tt, khng c tc dng ph.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 5 thng"},{id:"PT10046",fullName:"Trn Th B",gender:"N",age:33,dateOfBirth:"1990-09-23",phone:"0912345678",email:"tranthib@example.com",address:"45 Nguyn Th Minh Khai, Qun 3, TP.HCM",patientCode:"HIV23046",registrationDate:"2023-01-20",status:"active",lastVisit:"2024-06-10",nextAppointment:"2024-06-30",avatar:"https://randomuser.me/api/portraits/women/45.jpg",priority:"normal",testResults:[{date:"2024-06-10",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-10",type:"CD4 Count",result:"530 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Efavirenz",dosage:"1 vin/ngy",startDate:"2023-01-20"}],notes:"Bnh nhn c phn ng nh vi thuc trong giai on u, hin ti n nh.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 5 thng"},{id:"PT10047",fullName:"L Vn C",gender:"Nam",age:45,dateOfBirth:"1978-11-05",phone:"0923456789",email:"levanc@example.com",address:"78 in Bin Ph, Qun Bnh Thnh, TP.HCM",patientCode:"HIV23047",registrationDate:"2023-01-25",status:"inactive",lastVisit:"2024-04-15",nextAppointment:"2024-05-15",avatar:"https://randomuser.me/api/portraits/men/28.jpg",priority:"high",testResults:[{date:"2024-04-15",type:"Viral Load",result:"120 copies/mL",status:"attention"},{date:"2024-04-15",type:"CD4 Count",result:"420 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Emtricitabine/Efavirenz",dosage:"1 vin/ngy",startDate:"2023-01-25"}],notes:"Bnh nhn khng n khm ng hn. Cn lin h  nhc nh.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"},{id:"PT10048",fullName:"Phm Th D",gender:"N",age:29,dateOfBirth:"1995-03-17",phone:"0934567890",email:"phamthid@example.com",address:"222 Nguyn Vn C, Qun 5, TP.HCM",patientCode:"HIV23048",registrationDate:"2023-01-30",status:"active",lastVisit:"2024-06-12",nextAppointment:"2024-07-02",avatar:"https://randomuser.me/api/portraits/women/35.jpg",priority:"normal",testResults:[{date:"2024-06-12",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-12",type:"CD4 Count",result:"700 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Dolutegravir",dosage:"1 vin/ngy",startDate:"2023-01-30"}],notes:"Bnh nhn tun th iu tr tt, khng c tc dng ph.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"},{id:"PT10049",fullName:"Hong Vn E",gender:"Nam",age:41,dateOfBirth:"1982-12-30",phone:"0945678901",email:"hoangvane@example.com",address:"55 L T Trng, Qun 1, TP.HCM",patientCode:"HIV23049",registrationDate:"2023-02-05",status:"attention",lastVisit:"2024-06-08",nextAppointment:"2024-06-28",avatar:"https://randomuser.me/api/portraits/men/40.jpg",priority:"high",testResults:[{date:"2024-06-08",type:"Viral Load",result:"500 copies/mL",status:"attention"},{date:"2024-06-08",type:"CD4 Count",result:"380 cells/mm",status:"attention"}],medications:[{name:"Tenofovir/Lamivudine/Dolutegravir",dosage:"1 vin/ngy",startDate:"2023-02-05"}],notes:"Cn theo di st v ti lng virus tng.  iu chnh liu php.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"},{id:"PT10050",fullName:"Nguyn Th F",gender:"N",age:35,dateOfBirth:"1988-08-15",phone:"0956789012",email:"nguyenthif@example.com",address:"89 Trn Hng o, Qun 1, TP.HCM",patientCode:"HIV23050",registrationDate:"2023-02-10",status:"active",lastVisit:"2024-06-15",nextAppointment:"2024-07-05",avatar:"https://randomuser.me/api/portraits/women/55.jpg",priority:"normal",testResults:[{date:"2024-06-15",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-15",type:"CD4 Count",result:"580 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Dolutegravir",dosage:"1 vin/ngy",startDate:"2023-02-10"}],notes:"Bnh nhn tun th iu tr tt.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"},{id:"PT10051",fullName:"V Vn G",gender:"Nam",age:42,dateOfBirth:"1981-03-22",phone:"0967890123",email:"vovang@example.com",address:"156 Pasteur, Qun 3, TP.HCM",patientCode:"HIV23051",registrationDate:"2023-02-15",status:"active",lastVisit:"2024-06-18",nextAppointment:"2024-07-08",avatar:"https://randomuser.me/api/portraits/men/55.jpg",priority:"normal",testResults:[{date:"2024-06-18",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-18",type:"CD4 Count",result:"620 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Efavirenz",dosage:"1 vin/ngy",startDate:"2023-02-15"}],notes:"Bnh nhn n nh, tun th iu tr tt.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"},{id:"PT10052",fullName:"ng Th H",gender:"N",age:28,dateOfBirth:"1995-11-08",phone:"0978901234",email:"dangthih@example.com",address:"234 V Vn Tn, Qun 3, TP.HCM",patientCode:"HIV23052",registrationDate:"2023-02-20",status:"active",lastVisit:"2024-06-20",nextAppointment:"2024-07-10",avatar:"https://randomuser.me/api/portraits/women/28.jpg",priority:"normal",testResults:[{date:"2024-06-20",type:"Viral Load",result:"< 20 copies/mL",status:"normal"},{date:"2024-06-20",type:"CD4 Count",result:"680 cells/mm",status:"normal"}],medications:[{name:"Tenofovir/Lamivudine/Dolutegravir",dosage:"1 vin/ngy",startDate:"2023-02-20"}],notes:"Bnh nhn tr, tun th iu tr tt.",assignedStaff:"Trn Vn Nhn Vin",treatmentDuration:"1 nm 4 thng"}].filter(C=>{const A=C.fullName.toLowerCase().includes(t.toLowerCase())||C.patientCode.toLowerCase().includes(t.toLowerCase())||C.phone.includes(t)||C.email.toLowerCase().includes(t.toLowerCase()),I=n==="all"||C.status===n,V=i==="all"||C.gender===i;return A&&I&&V}).sort((C,A)=>{switch(u){case"name":return C.fullName.localeCompare(A.fullName);case"date":return new Date(A.registrationDate)-new Date(C.registrationDate);case"status":return C.status.localeCompare(A.status);default:return 0}}),v=b.length,p=Math.ceil(v/y),j=(m-1)*y,N=j+y,w=b.slice(j,N);ie.useEffect(()=>{g(1)},[t,n,i,u]);const E=C=>{g(C),window.scrollTo({top:0,behavior:"smooth"})},M=C=>{switch(C){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"attention":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=C=>{switch(C){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"normal":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=C=>{switch(C){case"active":return"ang iu tr";case"inactive":return"Khng hot ng";case"attention":return"Cn ch ";default:return"Khng xc nh"}},S=C=>new Date(C).toLocaleDateString("vi-VN"),P=({patient:C,isOpen:A,onClose:I})=>!A||!C?null:s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:I}),s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:C.avatar,alt:C.fullName,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:C.fullName}),s.jsxs("p",{className:"text-gray-600",children:["M BN: ",C.patientCode]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${M(C.status)}`,children:T(C.status)}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k(C.priority)}`,children:C.priority==="high"?"u tin cao":C.priority==="medium"?"u tin trung bnh":"Bnh thng"})]})]})]}),s.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thng tin c bn"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(m8,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Tui:"}),s.jsx("span",{className:"ml-auto font-medium",children:C.age})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Gii tnh:"}),s.jsx("span",{className:"ml-auto font-medium",children:C.gender})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"in thoi:"}),s.jsx("span",{className:"ml-auto font-medium",children:C.phone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lm,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"ml-auto font-medium text-xs",children:C.email})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ll,{className:"h-4 w-4 mr-2 text-gray-400 mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:"a ch:"}),s.jsx("span",{className:"ml-2 font-medium text-xs text-right",children:C.address})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thng tin iu tr"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Ngy ng k:"}),s.jsx("span",{className:"ml-auto font-medium",children:S(C.registrationDate)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Thi gian iu tr:"}),s.jsx("span",{className:"ml-auto font-medium",children:C.treatmentDuration})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Nhn vin ph trch:"}),s.jsx("span",{className:"ml-auto font-medium text-xs",children:C.assignedStaff})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Kt qu xt nghim gn nht"}),s.jsx("div",{className:"space-y-3",children:C.testResults.map((V,L)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.type}),s.jsx("p",{className:"text-xs text-gray-500",children:S(V.date)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:V.result}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${M(V.status)}`,children:V.status==="normal"?"Bnh thng":"Cn ch "})]})]},L))})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thuc iu tr hin ti"}),s.jsx("div",{className:"space-y-3",children:C.medications.map((V,L)=>s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.name}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Liu dng: ",V.dosage]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Bt u: ",S(V.startDate)]})]},L))})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Lch hn"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Khm gn nht"}),s.jsx("p",{className:"text-sm text-gray-600",children:S(C.lastVisit)})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Hn khm tip theo"}),s.jsx("p",{className:"text-sm text-gray-600",children:S(C.nextAppointment)})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Ghi ch"}),s.jsx("p",{className:"text-sm text-gray-700",children:C.notes})]})}),s.jsx("div",{className:"space-y-2",children:s.jsx(ue,{to:`/staff/appointments/new?patientId=${C.id}`,children:s.jsxs(F,{variant:"outline",className:"w-full",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),"t lch hn"]})})})]})]})]})})]})});return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",pageTitle:"Qun l bnh nhn",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Qun l bnh nhn"}),s.jsx("p",{className:"text-primary-100",children:"Theo di v qun l thng tin bnh nhn HIV"})]}),s.jsx(ue,{to:"/staff/patients/new",children:s.jsxs(F,{variant:"white",className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"Thm bnh nhn mi"]})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Un,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Tm kim theo tn, m BN, ST, email...",value:t,onChange:C=>e(C.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"active",children:"ang iu tr"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"}),s.jsx("option",{value:"attention",children:"Cn ch "})]}),s.jsxs("select",{value:i,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c gii tnh"}),s.jsx("option",{value:"Nam",children:"Nam"}),s.jsx("option",{value:"N",children:"N"})]}),s.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"name",children:"Sp xp theo tn"}),s.jsx("option",{value:"date",children:"Sp xp theo ngy ng k"}),s.jsx("option",{value:"status",children:"Sp xp theo trng thi"})]}),s.jsx(F,{variant:"outline",onClick:()=>d(c==="cards"?"table":"cards"),children:c==="cards"?"Xem dng bng":"Xem dng th"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.length}),s.jsx("div",{className:"text-sm text-blue-600",children:"Tng s bnh nhn"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-green-600",children:"ang iu tr"})]}),s.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.filter(C=>C.status==="attention").length}),s.jsx("div",{className:"text-sm text-red-600",children:"Cn ch "})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:b.filter(C=>C.status==="inactive").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Khng hot ng"})]})]})]})}),c==="cards"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(C=>s.jsx(G,{className:"hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("img",{src:C.avatar,alt:C.fullName,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:C.fullName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["M: ",C.patientCode]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[C.age," tui  ",C.gender]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${M(C.status)}`,children:T(C.status)}),C.priority==="high"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"u tin cao"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Khm gn nht: ",S(C.lastVisit)]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Hn tip theo: ",S(C.nextAppointment)]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:C.phone})]})]}),s.jsx("div",{className:"mt-4 flex space-x-2",children:s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>o(C),className:"flex-1",children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Xem chi tit"]})})]})},C.id))}):s.jsx(G,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thng tin lin h"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lch hn"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:C.avatar,alt:C.fullName,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.fullName}),s.jsxs("div",{className:"text-sm text-gray-500",children:["M: ",C.patientCode]})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:C.phone}),s.jsx("div",{className:"text-sm text-gray-500",children:C.email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${M(C.status)}`,children:T(C.status)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsxs("div",{children:["Gn nht: ",S(C.lastVisit)]}),s.jsxs("div",{children:["Tip theo: ",S(C.nextAppointment)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx(F,{size:"sm",variant:"outline",onClick:()=>o(C),children:s.jsx(Ms,{className:"h-4 w-4"})})})})]},C.id))})]})})}),w.length===0&&s.jsx(G,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Be,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy bnh nhn no ph hp"})]})}),s.jsx(P,{patient:l,isOpen:!!l,onClose:()=>o(null)}),p>1&&s.jsx(Py,{currentPage:m,totalPages:p,totalItems:v,itemsPerPage:y,onPageChange:E})]})})},oU=()=>{const t=hs(),[e,n]=f.useState({firstName:"",lastName:"",gender:"male",dateOfBirth:"",phone:"",email:"",address:"",city:"",district:"",identificationNumber:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",hasHealthInsurance:!1,healthInsuranceNumber:"",notes:""}),[r,i]=f.useState(!1),a=o=>{const{name:c,value:d,type:u,checked:h}=o.target;n({...e,[c]:u==="checkbox"?h:d})},l=o=>{o.preventDefault(),console.log("Form submitted:",e),i(!0),setTimeout(()=>{t("/staff/patients")},2e3)};return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ue,{to:"/staff/patients",className:"mr-4",children:s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",children:[s.jsx(Ip,{className:"h-4 w-4 mr-1"})," Quay li"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ng k bnh nhn mi"})]})}),r?s.jsx(G,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[s.jsx("div",{className:"rounded-full bg-green-100 p-3 mb-4",children:s.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ng k thnh cng!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Bnh nhn mi  c ng k vo h thng."}),s.jsx("p",{className:"text-gray-500",children:"ang chuyn hng n trang danh sch bnh nhn..."})]})}):s.jsx(G,{children:s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Thng tin c nhn"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:["H ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"lastName",name:"lastName",value:e.lastName,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"firstName",name:"firstName",value:e.firstName,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:["Gii tnh ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"gender",name:"gender",value:e.gender,onChange:a,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"male",children:"Nam"}),s.jsx("option",{value:"female",children:"N"}),s.jsx("option",{value:"other",children:"Khc"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy sinh ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"dateOfBirth",name:"dateOfBirth",type:"date",value:e.dateOfBirth,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"identificationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:["S CMND/CCCD ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"identificationNumber",name:"identificationNumber",value:e.identificationNumber,onChange:a,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Thng tin lin h"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:["S in thoi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx(Oe,{id:"email",name:"email",type:"email",value:e.email,onChange:a})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["a ch ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"address",name:"address",value:e.address,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tnh/Thnh ph ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"city",name:"city",value:e.city,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"district",className:"block text-sm font-medium text-gray-700 mb-1",children:["Qun/Huyn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"district",name:"district",value:e.district,onChange:a,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Ngi lin h khn cp"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergencyContactName",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn"}),s.jsx(Oe,{id:"emergencyContactName",name:"emergencyContactName",value:e.emergencyContactName,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergencyContactPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi"}),s.jsx(Oe,{id:"emergencyContactPhone",name:"emergencyContactPhone",type:"tel",value:e.emergencyContactPhone,onChange:a})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"emergencyContactRelationship",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mi quan h"}),s.jsx(Oe,{id:"emergencyContactRelationship",name:"emergencyContactRelationship",value:e.emergencyContactRelationship,onChange:a})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Bo him y t"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"hasHealthInsurance",name:"hasHealthInsurance",type:"checkbox",checked:e.hasHealthInsurance,onChange:a,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"hasHealthInsurance",className:"ml-2 text-sm font-medium text-gray-700",children:"C bo him y t"})]}),e.hasHealthInsurance&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"healthInsuranceNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"S th BHYT"}),s.jsx(Oe,{id:"healthInsuranceNumber",name:"healthInsuranceNumber",value:e.healthInsuranceNumber,onChange:a})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Ghi ch b sung"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",name:"notes",rows:4,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:e.notes,onChange:a})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(ue,{to:"/staff/patients",children:s.jsx(F,{variant:"outline",type:"button",children:"Hy"})}),s.jsx(F,{variant:"primary",type:"submit",children:"ng k bnh nhn"})]})]})})]})})},cU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState(null),[c,d]=f.useState("list"),[u,h]=f.useState(new Date),[m,g]=f.useState(1),[y]=f.useState(5),x=new Date(2024,5,26),b=[{id:"APT-1001",patientId:"PT10045",patientName:"Nguyn Vn A",patientPhone:"0901234567",patientAvatar:"https://randomuser.me/api/portraits/men/32.jpg",dateTime:"2024-06-26T09:00:00",duration:30,type:"Khm nh k",reason:"Ti khm theo lch",status:"confirmed",priority:"normal",doctor:"BS. Trn Minh",location:"Phng 101, Lu 1",notes:"Bnh nhn cn mang theo tt c kt qu xt nghim gn nht.",createdBy:"Trn Vn Nhn Vin",createdAt:"2024-06-15T14:30:00",reminderSent:!0,symptoms:"au u nh, mt mi khi vn ng",medicalHistory:"Tin s cao huyt p,  iu tr n nh t nm 2020",lastTestResults:{viralLoad:"< 20 copies/mL",cd4Count:"650 cells/mm"}},{id:"APT-1002",patientId:"PT10046",patientName:"Trn Th B",patientPhone:"0912345678",patientAvatar:"https://randomuser.me/api/portraits/women/45.jpg",dateTime:"2024-06-26T10:30:00",duration:45,type:"Nhn kt qu xt nghim",reason:"Ly kt qu xt nghim CD4 v ti lng virus",status:"checked-in",priority:"normal",doctor:"BS. L H",location:"Phng 102, Lu 1",notes:"Bnh nhn  n.",checkedInAt:"2024-06-26T10:25:00",reminderSent:!0,symptoms:"Khng c triu chng c bit",medicalHistory:"Pht hin HIV t nm 2018, bt u iu tr ARV t 2019"},{id:"APT-1003",patientId:"PT10047",patientName:"L Vn C",patientPhone:"0923456789",patientAvatar:"https://randomuser.me/api/portraits/men/28.jpg",dateTime:"2024-06-26T14:00:00",duration:60,type:"T vn iu tr",reason:"Tho lun v tc dng ph ca thuc mi",status:"pending",priority:"high",doctor:"BS. Nguyn Thnh",location:"Phng 205, Lu 2",notes:"Cn chun b h s tc dng ph.",reminderSent:!1,symptoms:"Bun nn, mt ng, pht ban nh  cnh tay",medicalHistory:" thay i phc  iu tr 2 ln do tc dng ph"},{id:"APT-1004",patientId:"PT10048",patientName:"Phm Th D",patientPhone:"0934567890",patientAvatar:"https://randomuser.me/api/portraits/women/35.jpg",dateTime:"2024-06-27T09:30:00",duration:30,type:"Khm nh k",reason:"Ti khm theo lch",status:"confirmed",priority:"normal",doctor:"BS. Trn Minh",location:"Phng 101, Lu 1",reminderSent:!0},{id:"APT-1005",patientId:"PT10049",patientName:"Hong Vn E",patientPhone:"0945678901",patientAvatar:"https://randomuser.me/api/portraits/men/40.jpg",dateTime:"2024-06-28T11:00:00",duration:60,type:"Xt nghim v khm",reason:"Triu chng mi",status:"confirmed",priority:"high",doctor:"BS. L H",location:"Phng 102, Lu 1",reminderSent:!0},{id:"APT-1006",patientId:"PT10050",patientName:"Trnh Vn F",patientPhone:"0956789012",patientAvatar:"https://randomuser.me/api/portraits/men/50.jpg",dateTime:"2024-06-25T15:30:00",duration:30,type:"Khm nh k",reason:"Ti khm theo lch",status:"completed",priority:"normal",doctor:"BS. Nguyn Thnh",location:"Phng 205, Lu 2",notes:"Bnh nhn n nh. Hn ti khm sau 1 thng.",completedAt:"2024-06-25T16:00:00"},{id:"APT-1007",patientId:"PT10051",patientName:"ng Th G",patientPhone:"0967890123",patientAvatar:"https://randomuser.me/api/portraits/women/25.jpg",dateTime:"2024-06-25T10:00:00",duration:45,type:"T vn dinh dng",reason:"Thiu cn",status:"cancelled",priority:"normal",cancellationReason:"Bnh nhn xin di lch v l do c nhn",doctor:"BS. Hong Linh",location:"Phng 103, Lu 1",cancelledAt:"2024-06-24T16:30:00"},{id:"APT-1008",patientId:"PT10052",patientName:"Nguyn Th H",patientPhone:"0978901234",patientAvatar:"https://randomuser.me/api/portraits/women/30.jpg",dateTime:"2024-06-29T08:30:00",duration:30,type:"Khm nh k",reason:"Ti khm theo lch",status:"confirmed",priority:"normal",doctor:"BS. Trn Minh",location:"Phng 101, Lu 1",reminderSent:!0},{id:"APT-1009",patientId:"PT10053",patientName:"V Vn I",patientPhone:"0989012345",patientAvatar:"https://randomuser.me/api/portraits/men/35.jpg",dateTime:"2024-06-29T10:00:00",duration:45,type:"T vn iu tr",reason:"iu chnh liu php",status:"pending",priority:"high",doctor:"BS. L H",location:"Phng 102, Lu 1",reminderSent:!1},{id:"APT-1010",patientId:"PT10054",patientName:" Th K",patientPhone:"0990123456",patientAvatar:"https://randomuser.me/api/portraits/women/40.jpg",dateTime:"2024-06-30T14:30:00",duration:30,type:"Nhn kt qu xt nghim",reason:"Ly kt qu xt nghim nh k",status:"confirmed",priority:"normal",doctor:"BS. Nguyn Thnh",location:"Phng 205, Lu 2",reminderSent:!0}],v=D=>{try{const R=Fo(D);return Sr(R,"HH:mm")}catch{return"Invalid time"}},p=D=>{try{const R=Fo(D);return Sr(R,"dd/MM/yyyy HH:mm",{locale:ul})}catch{return"Invalid date"}},N=[...b.filter(D=>{const R=Fo(D.dateTime),B=D.patientName.toLowerCase().includes(t.toLowerCase())||D.patientId.toLowerCase().includes(t.toLowerCase())||D.patientPhone.includes(t)||D.id.toLowerCase().includes(t.toLowerCase())||D.doctor.toLowerCase().includes(t.toLowerCase());let X=!0;n==="today"?X=Au(R):n==="tomorrow"?X=nz(R):n==="this-week"?X=sz(R):n==="upcoming"&&(X=ez(R,x));const Z=i==="all"||D.status===i;return B&&X&&Z})].sort((D,R)=>new Date(D.dateTime)-new Date(R.dateTime)),w=N.length,E=Math.ceil(w/y),M=(m-1)*y,k=M+y,T=c==="list"?N.slice(M,k):N;ie.useEffect(()=>{g(1)},[t,n,i,c]);const S=D=>{g(D),window.scrollTo({top:0,behavior:"smooth"})},P=D=>{switch(D){case"confirmed":return{color:"bg-blue-100 text-blue-800 border-blue-200",label:" xc nhn",icon:Xe};case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Ch xc nhn",icon:Ce};case"checked-in":return{color:"bg-green-100 text-green-800 border-green-200",label:" check-in",icon:Xe};case"completed":return{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Hon thnh",icon:Xe};case"cancelled":return{color:"bg-red-100 text-red-800 border-red-200",label:" hy",icon:ir};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Khng xc nh",icon:Di}}},C=D=>{switch(D){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"normal":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=D=>{const R=Vh(D,{weekStartsOn:1}),B=zj(D,{weekStartsOn:1});return HB({start:R,end:B})},I=D=>N.filter(R=>Hl(Fo(R.dateTime),D)),V=(D,R)=>{console.log(`Changing appointment ${D} to ${R}`)},L=D=>{console.log(`Sending reminder for appointment ${D}`)},O=({appointment:D,isOpen:R,onClose:B})=>{if(!R||!D)return null;const X=P(D.status);return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:B}),s.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:D.patientAvatar,alt:D.patientName,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:D.patientName}),s.jsxs("p",{className:"text-gray-600",children:["M lch hn: ",D.id]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${X.color}`,children:X.label}),D.priority==="high"&&s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C(D.priority)}`,children:"u tin cao"})]})]})]}),s.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thng tin lch hn"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ve,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Ngy gi:"}),s.jsx("span",{className:"ml-auto font-medium",children:p(D.dateTime)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Thi gian:"}),s.jsxs("span",{className:"ml-auto font-medium",children:[D.duration," pht"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"Bc s:"}),s.jsx("span",{className:"ml-auto font-medium",children:D.doctor})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ll,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"a im:"}),s.jsx("span",{className:"ml-auto font-medium text-xs",children:D.location})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thng tin bnh nhn"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Be,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"M BN:"}),s.jsx("span",{className:"ml-auto font-medium",children:D.patientId})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:"in thoi:"}),s.jsx("span",{className:"ml-auto font-medium",children:D.patientPhone})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Chi tit khm"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Loi khm:"}),s.jsx("p",{className:"font-medium text-gray-900",children:D.type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"L do khm:"}),s.jsx("p",{className:"font-medium text-gray-900",children:D.reason})]}),D.symptoms&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Triu chng hin ti:"}),s.jsx("p",{className:"font-medium text-gray-900",children:D.symptoms})]}),D.medicalHistory&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tin s bnh:"}),s.jsx("p",{className:"font-medium text-gray-900",children:D.medicalHistory})]}),D.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Ghi ch:"}),s.jsx("p",{className:"font-medium text-gray-900",children:D.notes})]})]})]})}),D.lastTestResults&&s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Kt qu XN gn nht"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Viral Load:"}),s.jsx("span",{className:"font-medium",children:D.lastTestResults.viralLoad})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"CD4 Count:"}),s.jsx("span",{className:"font-medium",children:D.lastTestResults.cd4Count})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thng tin khc"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"To bi:"}),s.jsx("span",{className:"font-medium",children:D.createdBy})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Ngy to:"}),s.jsx("span",{className:"font-medium",children:p(D.createdAt)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nhc nh:"}),s.jsx("span",{className:`font-medium ${D.reminderSent?"text-green-600":"text-red-600"}`,children:D.reminderSent?" gi":"Cha gi"})]})]})]})})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[D.status==="pending"&&s.jsx(F,{variant:"primary",size:"sm",onClick:()=>V(D.id,"confirmed"),children:"Xc nhn"}),D.status==="confirmed"&&s.jsx(F,{variant:"primary",size:"sm",onClick:()=>V(D.id,"checked-in"),children:"Check-in"}),D.status==="checked-in"&&s.jsx(F,{variant:"primary",size:"sm",onClick:()=>V(D.id,"completed"),children:"Hon thnh"}),!D.reminderSent&&["confirmed","pending"].includes(D.status)&&s.jsx(F,{variant:"outline",size:"sm",onClick:()=>L(D.id),children:"Gi nhc nh"})]})]})})]})})};return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",pageTitle:"Qun l lch hn",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Qun l lch hn"}),s.jsx("p",{className:"text-primary-100",children:"Theo di v qun l lch hn khm bnh"})]}),s.jsx(ue,{to:"/staff/appointments/new",children:s.jsxs(F,{variant:"white",className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"To lch hn mi"]})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Un,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Tm kim theo tn BN, m lch hn, ST, bc s...",value:t,onChange:D=>e(D.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:n,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c ngy"}),s.jsx("option",{value:"today",children:"Hm nay"}),s.jsx("option",{value:"tomorrow",children:"Ngy mai"}),s.jsx("option",{value:"this-week",children:"Tun ny"}),s.jsx("option",{value:"upcoming",children:"Sp ti"})]}),s.jsxs("select",{value:i,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"pending",children:"Ch xc nhn"}),s.jsx("option",{value:"confirmed",children:" xc nhn"}),s.jsx("option",{value:"checked-in",children:" check-in"}),s.jsx("option",{value:"completed",children:"Hon thnh"}),s.jsx("option",{value:"cancelled",children:" hy"})]}),s.jsx(F,{variant:"outline",onClick:()=>d(c==="list"?"calendar":"list"),children:c==="list"?s.jsxs(s.Fragment,{children:[s.jsx(vR,{className:"h-4 w-4 mr-2"}),"Xem lch"]}):s.jsxs(s.Fragment,{children:[s.jsx(y8,{className:"h-4 w-4 mr-2"}),"Xem danh sch"]})})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.length}),s.jsx("div",{className:"text-sm text-blue-600",children:"Tng s lch hn"})]}),s.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N.filter(D=>D.status==="pending").length}),s.jsx("div",{className:"text-sm text-yellow-600",children:"Ch xc nhn"})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.filter(D=>D.status==="confirmed").length}),s.jsx("div",{className:"text-sm text-green-600",children:" xc nhn"})]}),s.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N.filter(D=>D.status==="checked-in").length}),s.jsx("div",{className:"text-sm text-purple-600",children:" check-in"})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:N.filter(D=>D.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Hon thnh"})]})]})]})}),c==="list"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:T.map(D=>{const R=P(D.status),B=R.icon;return s.jsx(G,{className:"hover:shadow-lg transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:D.patientAvatar,alt:D.patientName,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:D.patientName}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",D.patientId,")"]}),D.priority==="high"&&s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800",children:"u tin cao"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:p(D.dateTime)})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ce,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[D.duration," pht"]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:D.doctor})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ll,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:D.location})]})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsxs("span",{className:"font-medium",children:[D.type,":"]})," ",D.reason]})})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsxs("span",{className:`px-3 py-1 text-xs rounded-full border ${R.color} flex items-center`,children:[s.jsx(B,{className:"h-3 w-3 mr-1"}),R.label]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(F,{size:"sm",variant:"outline",onClick:()=>o(D),children:s.jsx(Ms,{className:"h-4 w-4"})})})]})]})})},D.id)})}),c==="list"&&E>1&&s.jsx(Py,{currentPage:m,totalPages:E,totalItems:w,itemsPerPage:y,onPageChange:S})]}):s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lch tun"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>h(new Date(u.getTime()-7*24*60*60*1e3)),children:s.jsx(Mm,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm font-medium",children:[Sr(Vh(u,{weekStartsOn:1}),"dd/MM",{locale:ul})," - ",Sr(zj(u,{weekStartsOn:1}),"dd/MM/yyyy",{locale:ul})]}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>h(new Date(u.getTime()+7*24*60*60*1e3)),children:s.jsx(_m,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-4",children:A(u).map((D,R)=>{const B=I(D),X=Hl(D,x);return s.jsxs("div",{className:`border rounded-lg p-3 min-h-[200px] ${X?"bg-blue-50 border-blue-200":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase",children:Sr(D,"EEE",{locale:ul})}),s.jsx("div",{className:`text-lg font-semibold ${X?"text-blue-600":"text-gray-900"}`,children:Sr(D,"d")})]}),s.jsx("div",{className:"space-y-2",children:B.map(Z=>{const $=P(Z.status);return s.jsxs("div",{className:`p-2 rounded text-xs cursor-pointer hover:shadow-sm transition-shadow ${$.color}`,onClick:()=>o(Z),children:[s.jsx("div",{className:"font-medium",children:v(Z.dateTime)}),s.jsx("div",{className:"truncate",children:Z.patientName}),s.jsx("div",{className:"truncate text-xs opacity-75",children:Z.type})]},Z.id)})})]},R)})})]})}),T.length===0&&s.jsx(G,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ve,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng tm thy lch hn no ph hp"})]})}),s.jsx(O,{appointment:l,isOpen:!!l,onClose:()=>o(null)})]})})},dU=()=>{const t=hs(),[e]=I5(),n=e.get("patientId"),[r,i]=f.useState({patientId:n||"",patientName:n?"Nguyn Vn A":"",appointmentDate:"",appointmentTime:"",duration:"30",appointmentType:"regular",doctor:"",reason:"",notes:""}),[a,l]=f.useState(!1),o=[{id:"PT10045",name:"Nguyn Vn A"},{id:"PT10046",name:"Trn Th B"},{id:"PT10047",name:"L Vn C"},{id:"PT10048",name:"Phm Th D"},{id:"PT10049",name:"Hong Vn E"}],c=[{id:"DR001",name:"BS. Trn Minh"},{id:"DR002",name:"BS. L H"},{id:"DR003",name:"BS. Nguyn Thnh"},{id:"DR004",name:"BS. Hong Linh"}],d=[{id:"regular",name:"Khm nh k"},{id:"test-results",name:"Nhn kt qu xt nghim"},{id:"counseling",name:"T vn iu tr"},{id:"initial",name:"Khm ln u"},{id:"emergency",name:"Khm khn cp"}],u=m=>{const{name:g,value:y}=m.target;if(i({...r,[g]:y}),g==="patientId"){const x=o.find(b=>b.id===y);i(x?b=>({...b,patientId:y,patientName:x.name}):b=>({...b,patientId:y,patientName:""}))}},h=m=>{m.preventDefault(),console.log("Thng tin lch hn:",r),l(!0),setTimeout(()=>{t("/staff/appointments")},2e3)};return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ue,{to:"/staff/appointments",className:"mr-4",children:s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",children:[s.jsx(Ip,{className:"h-4 w-4 mr-1"})," Quay li"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"t lch hn mi"})]})}),a?s.jsx(G,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[s.jsx("div",{className:"rounded-full bg-green-100 p-3 mb-4",children:s.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"t lch hn thnh cng!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Lch hn mi  c to trong h thng."}),s.jsx("p",{className:"text-gray-500",children:"ang chuyn hng n trang danh sch lch hn..."})]})}):s.jsx(G,{children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Thng tin bnh nhn"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-1",children:["M bnh nhn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"patientId",name:"patientId",value:r.patientId,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,disabled:!!n,children:[s.jsx("option",{value:"",children:"-- Chn bnh nhn --"}),o.map(m=>s.jsxs("option",{value:m.id,children:[m.id," - ",m.name]},m.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"patientName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn bnh nhn"}),s.jsx(Oe,{id:"patientName",name:"patientName",value:r.patientName,readOnly:!0,disabled:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Thng tin lch hn"}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"appointmentDate",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy hn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ve,{className:"h-5 w-5 text-gray-400"})}),s.jsx(Oe,{id:"appointmentDate",name:"appointmentDate",type:"date",className:"pl-10",value:r.appointmentDate,onChange:u,required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"appointmentTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Gi hn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ce,{className:"h-5 w-5 text-gray-400"})}),s.jsx(Oe,{id:"appointmentTime",name:"appointmentTime",type:"time",className:"pl-10",value:r.appointmentTime,onChange:u,required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:["Thi gian (pht) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"duration",name:"duration",value:r.duration,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"15",children:"15 pht"}),s.jsx("option",{value:"30",children:"30 pht"}),s.jsx("option",{value:"45",children:"45 pht"}),s.jsx("option",{value:"60",children:"60 pht"}),s.jsx("option",{value:"90",children:"90 pht"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"appointmentType",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loi hn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{id:"appointmentType",name:"appointmentType",value:r.appointmentType,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:d.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"doctor",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bc s ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"doctor",name:"doctor",value:r.doctor,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"",children:"-- Chn bc s --"}),c.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsxs("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:["L do hn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"reason",name:"reason",value:r.reason,onChange:u,required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"Ghi ch b sung"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch"}),s.jsx("textarea",{id:"notes",name:"notes",rows:4,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:r.notes,onChange:u,placeholder:"Nhp thng tin hoc yu cu c bit cho lch hn ny"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(ue,{to:"/staff/appointments",children:s.jsx(F,{variant:"outline",type:"button",children:"Hy"})}),s.jsx(F,{variant:"primary",type:"submit",children:"t lch hn"})]})]})})]})})},uU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(1),[m]=f.useState(8),g=[{id:"TR10022",patientId:"PT10032",patientName:"Nguyn Th F",testType:"Viral Load",orderedDate:"20/06/2023",completedDate:null,result:null,status:"pending",orderedBy:"Dr. Trn Minh",notes:"Kim tra ti lng virus nh k"},{id:"TR10023",patientId:"PT10036",patientName:"Trn Vn G",testType:"CD4 Count",orderedDate:"21/06/2023",completedDate:null,result:null,status:"processing",orderedBy:"Dr. L H",notes:"Theo di s lng t bo CD4"},{id:"TR10024",patientId:"PT10039",patientName:"L Th H",testType:"Resistance Testing",orderedDate:"22/06/2023",completedDate:null,result:null,status:"pending",orderedBy:"Dr. Nguyn Thnh",notes:"Kim tra kh nng khng thuc"},{id:"TR10025",patientId:"PT10045",patientName:"Nguyn Vn A",testType:"Viral Load",orderedDate:"15/06/2023",completedDate:"18/06/2023",result:"< 20 copies/mL",status:"completed",orderedBy:"Dr. Trn Minh",resultNotes:"Ti lng virus khng pht hin, kt qu tt",interpretation:"normal"},{id:"TR10026",patientId:"PT10045",patientName:"Nguyn Vn A",testType:"CD4 Count",orderedDate:"15/06/2023",completedDate:"18/06/2023",result:"650 cells/mm",status:"completed",orderedBy:"Dr. Trn Minh",resultNotes:"S lng t bo CD4 trong mc bnh thng",interpretation:"normal"},{id:"TR10027",patientId:"PT10046",patientName:"Trn Th B",testType:"Viral Load",orderedDate:"16/06/2023",completedDate:"19/06/2023",result:"< 20 copies/mL",status:"completed",orderedBy:"Dr. L H",resultNotes:"Ti lng virus khng pht hin, kt qu tt",interpretation:"normal"},{id:"TR10028",patientId:"PT10049",patientName:"Hong Vn E",testType:"Viral Load",orderedDate:"19/06/2023",completedDate:"22/06/2023",result:"500 copies/mL",status:"completed",orderedBy:"Dr. Nguyn Thnh",resultNotes:"Ti lng virus tng so vi ln xt nghim trc",interpretation:"attention"},{id:"TR10029",patientId:"PT10050",patientName:"Nguyn Th I",testType:"CD4 Count",orderedDate:"23/06/2023",completedDate:"25/06/2023",result:"580 cells/mm",status:"completed",orderedBy:"Dr. Trn Minh",resultNotes:"S lng t bo CD4 n nh",interpretation:"normal"},{id:"TR10030",patientId:"PT10051",patientName:"V Vn K",testType:"Viral Load",orderedDate:"24/06/2023",completedDate:null,result:null,status:"processing",orderedBy:"Dr. L H",notes:"Xt nghim nh k"},{id:"TR10031",patientId:"PT10052",patientName:"ng Th L",testType:"Resistance Testing",orderedDate:"25/06/2023",completedDate:null,result:null,status:"pending",orderedBy:"Dr. Nguyn Thnh",notes:"Kim tra khng thuc do thay i liu php"},{id:"TR10032",patientId:"PT10053",patientName:"Trnh Vn M",testType:"CD4 Count",orderedDate:"26/06/2023",completedDate:"28/06/2023",result:"420 cells/mm",status:"completed",orderedBy:"Dr. Trn Minh",resultNotes:"S lng t bo CD4 thp hn bnh thng",interpretation:"attention"}],x=[...g.filter(T=>{const S=T.patientName.toLowerCase().includes(t.toLowerCase())||T.patientId.toLowerCase().includes(t.toLowerCase())||T.id.toLowerCase().includes(t.toLowerCase()),P=n==="all"||T.testType===n,C=i==="all"||T.status===i;return S&&P&&C})].sort((T,S)=>{const P=new Date(T.orderedDate.split("/").reverse().join("-"));return new Date(S.orderedDate.split("/").reverse().join("-"))-P}),b=x.length,v=Math.ceil(b/m),p=(u-1)*m,j=p+m,N=x.slice(p,j);ie.useEffect(()=>{h(1)},[t,n,i]);const w=T=>{h(T),window.scrollTo({top:0,behavior:"smooth"})},E=T=>{switch(T){case"pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Ch x l"};case"processing":return{color:"bg-blue-100 text-blue-800 border-blue-200",label:"ang x l"};case"completed":return{color:"bg-green-100 text-green-800 border-green-200",label:"Hon thnh"};case"cancelled":return{color:"bg-red-100 text-red-800 border-red-200",label:" hy"};case"normal":return{color:"bg-green-100 text-green-800 border-green-200",label:"Bnh thng"};case"attention":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Cn ch "};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",label:T}}},M=T=>{d(T)},k=["all",...new Set(g.map(T=>T.testType))];return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kt qu xt nghim"}),s.jsx("div",{className:"mt-3 sm:mt-0",children:s.jsx("div",{className:"flex space-x-3",children:s.jsx(ue,{to:"/staff/test-results/new",children:s.jsxs(F,{variant:"primary",className:"flex items-center",children:[s.jsx(OL,{className:"h-5 w-5 mr-2"})," Nhp kt qu mi"]})})})})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between space-y-4 sm:space-y-0",children:[s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Tm kim xt nghim...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:t,onChange:T=>e(T.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(F,{variant:"outline",className:"flex items-center",onClick:()=>o(!l),children:[s.jsx(P4,{className:"h-4 w-4 mr-1"})," Lc",s.jsx(Tn,{className:`h-4 w-4 ml-1 transition-transform ${l?"rotate-180":""}`})]}),s.jsxs(F,{variant:"outline",className:"flex items-center",children:[s.jsx(An,{className:"h-4 w-4 mr-1"})," Xut"]}),s.jsx(F,{variant:"outline",className:"flex items-center",children:s.jsx(at,{className:"h-4 w-4"})})]})]}),l&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi xt nghim"}),s.jsx("select",{id:"type-filter",className:"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n,onChange:T=>r(T.target.value),children:k.map((T,S)=>s.jsx("option",{value:T,children:T==="all"?"Tt c":T},S))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status-filter",className:"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:i,onChange:T=>a(T.target.value),children:[s.jsx("option",{value:"all",children:"Tt c"}),s.jsx("option",{value:"pending",children:"Ch x l"}),s.jsx("option",{value:"processing",children:"ang x l"}),s.jsx("option",{value:"completed",children:"Hon thnh"}),s.jsx("option",{value:"cancelled",children:" hy"})]})]})]})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi xt nghim"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy ch nh"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy hon thnh"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kt qu"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(T=>s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${(c==null?void 0:c.id)===T.id?"bg-primary-50":""}`,onClick:()=>M(T),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.patientName}),s.jsx("div",{className:"text-sm text-gray-500",children:T.patientId})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.testType}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.orderedDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.completedDate||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.result||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${E(T.status).color}`,children:E(T.status).label})})]},T.id))})]})})]}),v>1&&s.jsx(Py,{currentPage:u,totalPages:v,totalItems:b,itemsPerPage:m,onPageChange:w}),c&&s.jsxs("div",{className:"mt-6 bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Chi tit kt qu xt nghim"}),s.jsxs("div",{className:"flex space-x-2",children:[c.status==="pending"&&s.jsx(ue,{to:`/staff/test-results/${c.id}/input`,children:s.jsx(F,{variant:"primary",size:"sm",children:"Nhp kt qu"})}),c.status==="completed"&&s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",children:[s.jsx(Ze,{className:"h-4 w-4 mr-1"})," In kt qu"]})]})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Thng tin xt nghim"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ID xt nghim"}),s.jsx("p",{className:"text-sm font-medium",children:c.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Loi xt nghim"}),s.jsx("p",{className:"text-sm font-medium",children:c.testType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy ch nh"}),s.jsx("p",{className:"text-sm font-medium",children:c.orderedDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Bc s ch nh"}),s.jsx("p",{className:"text-sm font-medium",children:c.orderedBy})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy hon thnh"}),s.jsx("p",{className:"text-sm font-medium",children:c.completedDate||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Trng thi"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${E(c.status).color}`,children:E(c.status).label})]})]}),c.notes&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ghi ch"}),s.jsx("p",{className:"text-sm",children:c.notes})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Thng tin bnh nhn"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-500 text-white flex items-center justify-center",children:c.patientName.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.patientName}),s.jsx("div",{className:"text-sm text-gray-500",children:c.patientId})]})]}),s.jsx(ue,{to:`/staff/patients/${c.patientId}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 mt-2",children:"Xem h s bnh nhn"})]}),c.status==="completed"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Kt qu xt nghim"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Ie,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:c.result}),c.interpretation&&s.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(c.interpretation).color}`,children:c.interpretation==="normal"?"Bnh thng":"Cn ch "})]}),c.resultNotes&&s.jsx("div",{className:"text-sm text-gray-700 mt-2",children:c.resultNotes}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Thng k qua thi gian"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(us,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx(ue,{to:`/staff/patients/${c.patientId}/history`,className:"text-primary-600 text-sm hover:text-primary-800",children:"Xem lch s xt nghim"})]})]})]})]})]})]})})]})]})})},hU=()=>{const t=hs(),{testId:e}=nE(),[n,r]=f.useState(!0),[i,a]=f.useState(!1),[l,o]=f.useState({id:"",patientId:"",patientName:"",testType:"",orderedDate:"",orderedBy:"",status:"",notes:""}),[c,d]=f.useState({result:"",resultNotes:"",interpretation:"normal",completedDate:new Date().toISOString().split("T")[0],labTechnician:""}),u=[{id:"LAB001",name:"Nguyn Vn K Thut"},{id:"LAB002",name:"Trn Th Xt Nghim"},{id:"LAB003",name:"L Vn Phng Lab"}];f.useEffect(()=>{setTimeout(()=>{o(e==="TR10022"?{id:"TR10022",patientId:"PT10032",patientName:"Nguyn Th F",testType:"Viral Load",orderedDate:"20/06/2023",orderedBy:"BS. Trn Minh",status:"pending",notes:"Kim tra ti lng virus nh k"}:e==="TR10023"?{id:"TR10023",patientId:"PT10036",patientName:"Trn Vn G",testType:"CD4 Count",orderedDate:"21/06/2023",orderedBy:"BS. L H",status:"processing",notes:"Theo di s lng t bo CD4"}:e==="TR10024"?{id:"TR10024",patientId:"PT10039",patientName:"L Th H",testType:"Resistance Testing",orderedDate:"22/06/2023",orderedBy:"BS. Nguyn Thnh",status:"pending",notes:"Kim tra kh nng khng thuc"}:{id:e||"Khng xc nh",patientId:"PT00000",patientName:"Khng tm thy thng tin bnh nhn",testType:"Khng xc nh",orderedDate:"",orderedBy:"",status:"error",notes:"Khng tm thy thng tin xt nghim"}),r(!1)},600)},[e]);const h=x=>{const{name:b,value:v}=x.target;d({...c,[b]:v})},m=x=>{x.preventDefault(),console.log("Kt qu xt nghim:",{testId:l.id,...c}),a(!0),setTimeout(()=>{t("/staff/test-results")},2e3)},g=()=>{switch(l.testType){case"Viral Load":return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ti lng virus (copies/mL) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oe,{id:"result",name:"result",type:"text",value:c.result,onChange:h,placeholder:"V d: < 20 hoc 500",required:!0}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"copies/mL"})]}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:['Nhp "',"<",' 20" nu khng pht hin c virus']})]});case"CD4 Count":return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["S lng t bo CD4 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Oe,{id:"result",name:"result",type:"number",value:c.result,onChange:h,required:!0}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"cells/mm"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Gi tr bnh thng: 500-1500 cells/mm"})]});case"Resistance Testing":return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt qu xt nghim khng thuc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"result",name:"result",rows:4,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:c.result,onChange:h,required:!0})]});default:return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"result",className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt qu xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"result",name:"result",value:c.result,onChange:h,required:!0})]})}},y=x=>{switch(x){case"pending":return"Ch x l";case"processing":return"ang x l";case"completed":return"Hon thnh";case"error":return"Li";default:return x}};return n?s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsx("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})})}):s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ue,{to:"/staff/test-results",className:"mr-4",children:s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",children:[s.jsx(Ip,{className:"h-4 w-4 mr-1"})," Quay li"]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nhp kt qu xt nghim"})]})}),i?s.jsx(G,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[s.jsx("div",{className:"rounded-full bg-green-100 p-3 mb-4",children:s.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cp nht thnh cng!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Kt qu xt nghim  c cp nht vo h thng."}),s.jsx("p",{className:"text-gray-500",children:"ang chuyn hng n trang danh sch kt qu xt nghim..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{children:[s.jsx("div",{className:"border-b border-gray-200 pb-4 mb-4",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Thng tin xt nghim"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ID xt nghim"}),s.jsx("p",{className:"text-sm font-medium",children:l.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Loi xt nghim"}),s.jsx("p",{className:"text-sm font-medium",children:l.testType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Ngy ch nh"}),s.jsx("p",{className:"text-sm font-medium",children:l.orderedDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Bc s ch nh"}),s.jsx("p",{className:"text-sm font-medium",children:l.orderedBy})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Trng thi"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-yellow-100 text-yellow-800 border-yellow-200",children:y(l.status)})]})]}),l.notes&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ghi ch"}),s.jsx("p",{className:"text-sm",children:l.notes})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-500 text-white flex items-center justify-center",children:l.patientName.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.patientName}),s.jsx("div",{className:"text-sm text-gray-500",children:l.patientId})]})]}),s.jsx(ue,{to:`/staff/patients/${l.patientId}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 mt-2",children:"Xem h s bnh nhn"})]})})]})]}),s.jsxs(G,{children:[s.jsx("div",{className:"border-b border-gray-200 pb-4 mb-4",children:s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Nhp kt qu"})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[g(),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"interpretation",className:"block text-sm font-medium text-gray-700 mb-1",children:["nh gi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"interpretation",name:"interpretation",value:c.interpretation,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"normal",children:"Bnh thng"}),s.jsx("option",{value:"attention",children:"Cn ch "}),s.jsx("option",{value:"critical",children:"Nguy him"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"resultNotes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch kt qu"}),s.jsx("textarea",{id:"resultNotes",name:"resultNotes",rows:4,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",value:c.resultNotes,onChange:h,placeholder:"Nhp ghi ch hoc din gii kt qu xt nghim"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"completedDate",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ngy hon thnh ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Oe,{id:"completedDate",name:"completedDate",type:"date",value:c.completedDate,onChange:h,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"labTechnician",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nhn vin xt nghim ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"labTechnician",name:"labTechnician",value:c.labTechnician,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[s.jsx("option",{value:"",children:"-- Chn nhn vin --"}),u.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(ue,{to:"/staff/test-results",children:s.jsx(F,{variant:"outline",type:"button",children:"Hy"})}),s.jsxs(F,{variant:"primary",type:"submit",className:"flex items-center",children:[s.jsx(Ie,{className:"h-4 w-4 mr-1"})," Lu kt qu xt nghim"]})]})]})]})]})]})})},mU=()=>{const[t,e]=f.useState("month"),n={newPatients:{current:32,previous:28,change:"+14.3%",trend:"increase"},appointments:{current:245,previous:230,change:"+6.5%",trend:"increase"},completedTests:{current:187,previous:175,change:"+6.9%",trend:"increase"},noShows:{current:15,previous:18,change:"-16.7%",trend:"decrease"}},r=[{day:"Th Hai",count:42},{day:"Th Ba",count:38},{day:"Th T",count:45},{day:"Th Nm",count:40},{day:"Th Su",count:50},{day:"Th By",count:30},{day:"Ch Nht",count:0}],i=[{id:"patient-visits",name:"Bo co lt khm bnh",description:"Thng k s lt khm bnh theo thi gian",icon:Rl},{id:"test-results",name:"Bo co kt qu xt nghim",description:"Thng k kt qu xt nghim theo loi xt nghim",icon:Fb},{id:"appointments",name:"Bo co lch hn",description:"Thng k lch hn theo trng thi",icon:ve},{id:"patient-demographics",name:"Bo co nhn khu hc bnh nhn",description:"Thng k bnh nhn theo  tui, gii tnh",icon:us}],a=()=>{const l=Math.max(...r.map(o=>o.count));return s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"relative",children:r.map((o,c)=>s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-20 text-sm text-gray-600",children:o.day}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-primary-500 h-6 rounded",style:{width:`${o.count/l*100}%`},children:s.jsx("div",{className:"px-2 text-xs text-white font-medium h-full flex items-center",children:o.count})})})]},c))})})};return s.jsx(be,{currentRole:se.STAFF,userName:"Trn Vn Nhn Vin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bo co"}),s.jsxs("div",{className:"mt-3 sm:mt-0 flex space-x-3",children:[s.jsxs("select",{value:t,onChange:l=>e(l.target.value),className:"form-select rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50",children:[s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"}),s.jsx("option",{value:"quarter",children:"Qu ny"}),s.jsx("option",{value:"year",children:"Nm nay"})]}),s.jsxs(F,{variant:"outline",className:"flex items-center",children:[s.jsx(An,{className:"h-5 w-5 mr-2"})," Xut bo co"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-primary-100 p-3 rounded-md",children:s.jsx(Rl,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Bnh nhn mi"}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.newPatients.current}),s.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:n.newPatients.change})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["so vi ",t==="month"?"thng":t==="week"?"tun":t==="quarter"?"qu":"nm"," trc"]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-3 rounded-md",children:s.jsx(ve,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Lch hn"}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.appointments.current}),s.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:n.appointments.change})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["so vi ",t==="month"?"thng":t==="week"?"tun":t==="quarter"?"qu":"nm"," trc"]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 p-3 rounded-md",children:s.jsx(Fb,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Xt nghim hon thnh"}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.completedTests.current}),s.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:n.completedTests.change})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["so vi ",t==="month"?"thng":t==="week"?"tun":t==="quarter"?"qu":"nm"," trc"]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-red-100 p-3 rounded-md",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Bnh nhn khng n"}),s.jsxs("div",{className:"flex items-baseline",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.noShows.current}),s.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:n.noShows.change})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["so vi ",t==="month"?"thng":t==="week"?"tun":t==="quarter"?"qu":"nm"," trc"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(G,{title:"Lch hn theo ngy trong tun",children:a()})}),s.jsx("div",{children:s.jsx(G,{title:"Bo co nhanh",children:s.jsx("div",{className:"divide-y divide-gray-200",children:i.map(l=>s.jsx("div",{className:"py-3 first:pt-0 last:pb-0",children:s.jsxs("button",{className:"w-full text-left flex items-start hover:bg-gray-50 p-2 rounded-md transition-colors",onClick:()=>{},children:[s.jsx(l.icon,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.name}),s.jsx("p",{className:"text-xs text-gray-500",children:l.description})]})]})},l.id))})})})]}),s.jsx(G,{title:"Bo co gn y",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn bo co"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy to"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngi to"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi bo co"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ti xung"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Bo co hot ng thng 6/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"22/06/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Trn Vn Nhn Vin"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Tng hp"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(An,{className:"h-5 w-5"})})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Bo co khm bnh tun 3 thng 6/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"20/06/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Nguyn Th Qun L"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Lt khm"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(An,{className:"h-5 w-5"})})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Bo co xt nghim thng 5/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"05/06/2023"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Trn Vn Nhn Vin"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Xt nghim"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(An,{className:"h-5 w-5"})})})]})]})]})})})]})})},fU=()=>{const t=[],e=new Date,n=[{name:"Tip nhn bnh nhn mi",icon:Be,category:"patient"},{name:"Cp nht h s bnh nhn",icon:Ze,category:"admin"},{name:"Gi in nhc lch hn",icon:Hn,category:"communication"},{name:"Nhp kt qu xt nghim",icon:Ie,category:"lab"},{name:"H tr bc s khm bnh",icon:Be,category:"support"},{name:"Chun b phng khm",icon:Ce,category:"preparation"},{name:"Kim tra thit b y t",icon:Xe,category:"maintenance"},{name:"T vn bnh nhn qua in thoi",icon:Hn,category:"communication"},{name:"Lp bo co hng ngy",icon:Ze,category:"admin"},{name:"Hng dn bnh nhn s dng thuc",icon:Ze,category:"education"}],r=["Nguyn Vn An","Trn Th Bnh","L Vn Cng","Phm Th Dung","Hong Vn Em","V Th Phng","ng Vn Giang","Bi Th Hoa","Ng Vn Inh","inh Th Kim","L Vn Long","Mai Th Minh"],i=["high","medium","low"],a=["pending","in-progress","completed"];for(let l=0;l<7;l++){const o=new Date(e);if(o.setDate(e.getDate()+l),(o.getDay()===0||o.getDay()===6)&&Math.random()>.3)continue;const c=Math.floor(Math.random()*10)+3;for(let d=0;d<c;d++){const u=n[Math.floor(Math.random()*n.length)],h=Math.floor(Math.random()*9)+8,m=Math.random()>.5?0:30,g=Math.floor(Math.random()*3)+1,y=h+g,x=m;let b=u.name;if(u.category==="patient"||u.category==="support"){const v=r[Math.floor(Math.random()*r.length)];b+=` - ${v}`}t.push({id:`task-${l}-${d}`,title:b,description:gU(u.name,u.category),date:new Date(o.getFullYear(),o.getMonth(),o.getDate(),h,m),startTime:`${h.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,endTime:`${y.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`,priority:i[Math.floor(Math.random()*i.length)],status:l===0?Math.random()>.3?"pending":"in-progress":a[Math.floor(Math.random()*a.length)],category:u.category,icon:u.icon,assignedBy:Math.random()>.5?"BS. L Th Minh":"Trng khoa",estimatedDuration:`${g} gi`,location:xU(u.category)})}}return t.sort((l,o)=>l.date-o.date)},gU=(t,e)=>({patient:"Tip nhn v hng dn bnh nhn mi v quy trnh khm cha bnh",admin:"Cp nht thng tin v hon thin h s theo quy nh",communication:"Lin h v t vn bnh nhn qua in thoi",lab:"Nhp v kim tra tnh chnh xc ca kt qu xt nghim",support:"H tr bc s trong qu trnh khm v iu tr bnh nhn",preparation:"Chun b y  thit b v vt t cho ca khm",maintenance:"Kim tra v bo tr thit b y t theo lch nh k",education:"Hng dn bnh nhn v cch s dng thuc v ch  sinh hot"})[e]||"Thc hin vic lm c giao",xU=t=>({patient:"Quy tip nhn",admin:"Vn phng",communication:"Phng t vn",lab:"Phng xt nghim",support:"Phng khm",preparation:"Phng khm",maintenance:"Kho thit b",education:"Phng t vn"})[t]||"Vn phng",pU=()=>{f.useState(new Date().toISOString().split("T")[0]);const[t,e]=f.useState("today"),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState({total:0,completed:0,pending:0,inProgress:0});f.useEffect(()=>{const b=fU();r(b);const v=new Date,p=new Date(v.getFullYear(),v.getMonth(),v.getDate()),j=new Date(v.getFullYear(),v.getMonth(),v.getDate()+1),N=b.filter(k=>k.date>=p&&k.date<j);a(N);const w=new Date(v);w.setDate(v.getDate()-v.getDay()+1);const E=new Date(w);E.setDate(w.getDate()+7);const M=b.filter(k=>k.date>=w&&k.date<E);o({total:M.length,completed:M.filter(k=>k.status==="completed").length,pending:M.filter(k=>k.status==="pending").length,inProgress:M.filter(k=>k.status==="in-progress").length})},[]);const c=b=>{switch(b){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},d=b=>{switch(b){case"high":return"";case"medium":return"";case"low":return"";default:return""}},u=b=>{switch(b){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=b=>{switch(b){case"completed":return"Hon thnh";case"in-progress":return"ang thc hin";case"pending":return"Ch thc hin";default:return b}},m=b=>{switch(b){case"completed":return Xe;case"in-progress":return at;case"pending":return Ce;default:return Ce}},g=(b,v)=>{r(n.map(p=>p.id===b?{...p,status:v}:p)),a(i.map(p=>p.id===b?{...p,status:v}:p))},y=b=>{const v=new Date(b),p=new Date(v.getFullYear(),v.getMonth(),v.getDate()),j=new Date(v.getFullYear(),v.getMonth(),v.getDate()+1);return n.filter(N=>N.date>=p&&N.date<j)},x=b=>new Date(b).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return s.jsx(be,{currentRole:se.STAFF,userName:"Nguyn Th Lan",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lch lm vic"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Lch trnh v cng vic hng ngy"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex rounded-md shadow-sm",children:[s.jsx("button",{onClick:()=>e("today"),className:`px-4 py-2 text-sm font-medium rounded-l-md border ${t==="today"?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Hm nay"}),s.jsx("button",{onClick:()=>e("week"),className:`px-4 py-2 text-sm font-medium border-t border-b ${t==="week"?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Tun ny"}),s.jsxs("button",{onClick:()=>e("calendar"),className:`px-4 py-2 text-sm font-medium rounded-r-md border ${t==="calendar"?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(ve,{className:"h-4 w-4 mr-2 inline"}),"Lch"]})]}),s.jsxs(F,{variant:"primary",className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 mr-2"}),"Vic phi lm"]})]})]}),t==="today"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsx(G,{title:`Vic phi lm hm nay - ${x(new Date)}`,children:s.jsx("div",{className:"p-6",children:i.length>0?s.jsx("div",{className:"space-y-4",children:i.map(b=>{m(b.status);const v=b.icon;return s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx(v,{className:"h-4 w-4 text-primary-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.title}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${c(b.priority)}`,children:[d(b.priority)," ",b.priority==="high"?"Cao":b.priority==="medium"?"Trung bnh":"Thp"]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(b.status)}`,children:h(b.status)})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),b.startTime," - ",b.endTime]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Thi lng:"})," ",b.estimatedDuration]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"a im:"})," ",b.location]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"Giao bi:"})," ",b.assignedBy]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[b.status==="pending"&&s.jsxs(F,{variant:"primary",size:"sm",onClick:()=>g(b.id,"in-progress"),children:[s.jsx(at,{className:"h-4 w-4 mr-1"}),"Bt u"]}),b.status==="in-progress"&&s.jsxs(F,{variant:"primary",size:"sm",onClick:()=>g(b.id,"completed"),children:[s.jsx(Xe,{className:"h-4 w-4 mr-1"}),"Hon thnh"]}),s.jsx(F,{variant:"outline",size:"sm",children:"Chi tit"})]})]})},b.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Khng c vic phi lm no hm nay"})]})})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{title:"Thng k tun ny",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tng vic phi lm:"}),s.jsx("span",{className:"text-sm font-medium",children:l.total})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" hon thnh:"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:l.completed})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"ang thc hin:"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:l.inProgress})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ch thc hin:"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:l.pending})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[s.jsx("span",{children:"Tin  tun"}),s.jsxs("span",{children:[Math.round(l.completed/l.total*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${l.completed/l.total*100}%`}})})]})]})}),s.jsx(G,{title:"Vic lm u tin hm nay",children:s.jsx("div",{className:"p-4",children:(()=>{const b=i.filter(v=>v.priority==="high"&&v.status!=="completed");return b.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Xe,{className:"h-8 w-8 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Khng c vic phi lm u tin"})]}):s.jsx("div",{className:"space-y-3",children:b.slice(0,3).map(v=>s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(ze,{className:"h-4 w-4 text-red-500"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:[v.startTime," - ",v.endTime]}),s.jsx("p",{className:"text-xs text-gray-500",children:v.location})]},v.id))})})()})}),s.jsx(G,{title:"Thao tc nhanh",children:s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs(F,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(Be,{className:"h-4 w-4 mr-2"}),"Tip nhn bnh nhn mi"]}),s.jsxs(F,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Gi in nhc lch hn"]}),s.jsxs(F,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Nhp kt qu xt nghim"]}),s.jsxs(F,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Lp bo co"]})]})})]})]}),t==="week"&&s.jsx(G,{title:"Lch lm vic tun ny",children:s.jsx("div",{className:"p-6",children:(()=>{const b=new Date,v=new Date(b);v.setDate(b.getDate()-b.getDay()+1);const p=[];for(let j=0;j<7;j++){const N=new Date(v);N.setDate(v.getDate()+j),p.push(N)}return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:p.map((j,N)=>{const w=y(j.toISOString().split("T")[0]),E=j.toDateString()===b.toDateString();return s.jsxs("div",{className:`border rounded-lg p-3 ${E?"bg-primary-50 border-primary-200":"bg-white"}`,children:[s.jsxs("h3",{className:`font-medium text-center mb-3 ${E?"text-primary-700":"text-gray-900"}`,children:[j.toLocaleDateString("vi-VN",{weekday:"short"}),s.jsx("br",{}),s.jsxs("span",{className:"text-sm",children:[j.getDate(),"/",j.getMonth()+1]})]}),s.jsxs("div",{className:"space-y-2",children:[w.slice(0,3).map(M=>s.jsxs("div",{className:"text-xs p-2 bg-white border rounded",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${M.priority==="high"?"bg-red-400":M.priority==="medium"?"bg-yellow-400":"bg-green-400"}`}),s.jsx("span",{className:"font-medium truncate",children:M.title})]}),s.jsx("p",{className:"text-gray-500",children:M.startTime})]},M.id)),w.length>3&&s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",w.length-3," vic phi lm khc"]}),w.length===0&&s.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Khng c vic phi lm"})]})]},N)})})})()})}),t==="calendar"&&s.jsx(G,{title:"Lch lm vic thng ny",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ve,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{children:"Ch  xem lch s c pht trin trong phin bn tip theo"}),s.jsx("p",{className:"text-sm mt-2",children:'Hin ti hy s dng ch  "Hm nay" hoc "Tun ny"'})]})})})]})})},yU=()=>{const[t,e]=f.useState({fullName:"Trn Vn Nhn Vin",email:"tranvan@example.com",phone:"(123) 456-7890",role:"Nhn vin y t",department:"Khoa iu tr HIV",language:"vi",notifications:{email:!0,browser:!0,appointments:!0,results:!0,system:!1},theme:"light",fontSize:"medium"}),n=l=>{const{name:o,value:c}=l.target;e({...t,[o]:c})},r=l=>{const{name:o,checked:c}=l.target;e({...t,notifications:{...t.notifications,[o]:c}})},i=l=>{const{name:o,value:c}=l.target;e({...t,[o]:c})},a=l=>{l.preventDefault(),alert("Thng tin c nhn  c cp nht!")};return s.jsx(be,{currentRole:se.STAFF,userName:t.fullName,children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t ti khon"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l thng tin c nhn, thng bo v ty chn hin th"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{title:"Thng tin c nhn",children:s.jsxs("form",{onSubmit:a,className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fullName",children:"H v tn"}),s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phone",children:"S in thoi"}),s.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"language",children:"Ngn ng"}),s.jsxs("select",{id:"language",name:"language",value:t.language,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"vi",children:"Ting Vit"}),s.jsx("option",{value:"en",children:"Ting Anh"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"submit",variant:"primary",children:"Lu thay i"})})]})}),s.jsx(G,{title:"i mt khu",children:s.jsxs("form",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"currentPassword",children:"Mt khu hin ti"}),s.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsx("div",{className:"md:col-span-2"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"newPassword",children:"Mt khu mi"}),s.jsx("input",{type:"password",id:"newPassword",name:"newPassword",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"confirmPassword",children:"Xc nhn mt khu mi"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"submit",variant:"primary",children:"Cp nht mt khu"})})]})}),s.jsx(G,{title:"Ci t thng bo",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Knh thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"email-notifications",name:"email",type:"checkbox",checked:t.notifications.email,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"email-notifications",className:"ml-2 block text-sm text-gray-700",children:"Email"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"browser-notifications",name:"browser",type:"checkbox",checked:t.notifications.browser,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"browser-notifications",className:"ml-2 block text-sm text-gray-700",children:"Thng bo trong ng dng"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loi thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"appointments-notifications",name:"appointments",type:"checkbox",checked:t.notifications.appointments,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"appointments-notifications",className:"ml-2 block text-sm text-gray-700",children:"Lch hn v cuc hp"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"results-notifications",name:"results",type:"checkbox",checked:t.notifications.results,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"results-notifications",className:"ml-2 block text-sm text-gray-700",children:"Kt qu xt nghim"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"system-notifications",name:"system",type:"checkbox",checked:t.notifications.system,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"system-notifications",className:"ml-2 block text-sm text-gray-700",children:"Thng bo h thng"})]})]})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx(F,{variant:"primary",children:"Lu ci t thng bo"})})]})}),s.jsx(G,{title:"Ty chn hin th",children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"theme",children:"Giao din"}),s.jsxs("select",{id:"theme",name:"theme",value:t.theme,onChange:i,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"light",children:"Sng"}),s.jsx("option",{value:"dark",children:"Ti"}),s.jsx("option",{value:"system",children:"Theo h thng"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fontSize",children:"C ch"}),s.jsxs("select",{id:"fontSize",name:"fontSize",value:t.fontSize,onChange:i,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"small",children:"Nh"}),s.jsx("option",{value:"medium",children:"Trung bnh"}),s.jsx("option",{value:"large",children:"Ln"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{variant:"primary",children:"Lu ty chn"})})]})})]})]})})},vU=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState(null),[l,o]=f.useState(""),[c,d]=f.useState("all"),[u,h]=f.useState("all"),[m,g]=f.useState(!0);f.useEffect(()=>{const S=[{id:1,customerName:"Nguyn Vn An",customerId:"C001",status:"active",priority:"high",subject:"Hi v kt qu xt nghim",lastMessage:"Ti mun hi v kt qu xt nghim HIV ca mnh",lastMessageTime:new Date(Date.now()-3e5),startTime:new Date(Date.now()-9e5),assignedStaff:"Nhn vin A",unreadCount:2,messageCount:8,customerType:"existing",tags:["xt nghim","kt qu"],satisfaction:null,messages:[{id:1,text:"Xin cho! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(Date.now()-9e5),status:"sent",staffName:"Nhn vin A"},{id:2,text:"Cho bn, ti mun hi v kt qu xt nghim HIV ca mnh",sender:"user",timestamp:new Date(Date.now()-84e4),status:"sent",customerName:"Nguyn Vn An"},{id:3,text:"Ti c th gip bn kim tra kt qu xt nghim. Bn c th cho ti bit m s xt nghim khng?",sender:"staff",timestamp:new Date(Date.now()-78e4),status:"sent",staffName:"Nhn vin A"},{id:4,text:"M s ca ti l XN001234",sender:"user",timestamp:new Date(Date.now()-72e4),status:"sent",customerName:"Nguyn Vn An"},{id:5,text:"Ti ang kim tra thng tin cho bn. Vui lng ch trong giy lt...",sender:"staff",timestamp:new Date(Date.now()-66e4),status:"sent",staffName:"Nhn vin A"},{id:6,text:"Kt qu xt nghim ca bn  c. Ti lng virus HIV khng pht hin c (<50 copies/mL). y l kt qu rt tt!",sender:"staff",timestamp:new Date(Date.now()-48e4),status:"sent",staffName:"Nhn vin A"},{id:7,text:"Cm n bn! iu ny c ngha l g vy?",sender:"user",timestamp:new Date(Date.now()-42e4),status:"sent",customerName:"Nguyn Vn An"},{id:8,text:"Ti mun hi v kt qu xt nghim HIV ca mnh",sender:"user",timestamp:new Date(Date.now()-3e5),status:"sent",customerName:"Nguyn Vn An"}]},{id:2,customerName:"Trn Th Bnh",customerId:"C002",status:"waiting",priority:"medium",subject:"t lch hn khm",lastMessage:"Ti cn t lch hn vi bc s",lastMessageTime:new Date(Date.now()-6e5),startTime:new Date(Date.now()-72e4),assignedStaff:null,unreadCount:1,messageCount:3,customerType:"new",tags:["lch hn","t khm"],satisfaction:null,messages:[{id:1,text:"Xin cho! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(Date.now()-72e4),status:"sent",staffName:"H thng"},{id:2,text:"Cho bn, ti cn t lch hn vi bc s",sender:"user",timestamp:new Date(Date.now()-66e4),status:"sent",customerName:"Trn Th Bnh"},{id:3,text:"Ti cn t lch hn vi bc s",sender:"user",timestamp:new Date(Date.now()-6e5),status:"sent",customerName:"Trn Th Bnh"}]},{id:3,customerName:"L Vn Cng",customerId:"C003",status:"resolved",priority:"low",subject:"Hi v thuc iu tr",lastMessage:"Cm n bn  h tr!",lastMessageTime:new Date(Date.now()-18e5),startTime:new Date(Date.now()-27e5),assignedStaff:"Nhn vin B",unreadCount:0,messageCount:12,customerType:"existing",tags:["thuc","iu tr"],satisfaction:5,messages:[{id:1,text:"Xin cho! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(Date.now()-27e5),status:"sent",staffName:"Nhn vin B"},{id:2,text:"Ti mun hi v thuc ARV m ti ang s dng",sender:"user",timestamp:new Date(Date.now()-264e4),status:"sent",customerName:"L Vn Cng"},{id:3,text:"Bn c th cho ti bit tn thuc v liu lng hin ti khng?",sender:"staff",timestamp:new Date(Date.now()-258e4),status:"sent",staffName:"Nhn vin B"},{id:4,text:"Ti ang dng Biktarvy, 1 vin mi ngy",sender:"user",timestamp:new Date(Date.now()-252e4),status:"sent",customerName:"L Vn Cng"},{id:5,text:"Biktarvy l mt la chn tt. Bn c gp tc dng ph no khng?",sender:"staff",timestamp:new Date(Date.now()-24e5),status:"sent",staffName:"Nhn vin B"},{id:6,text:"C mt cht bun nn vo bui sng",sender:"user",timestamp:new Date(Date.now()-228e4),status:"sent",customerName:"L Vn Cng"},{id:7,text:"y l tc dng ph thng gp v thng gim dn theo thi gian. Bn nn ung thuc cng vi thc n.",sender:"staff",timestamp:new Date(Date.now()-216e4),status:"sent",staffName:"Nhn vin B"},{id:8,text:"Cm n bn! Ti s th ung cng vi ba sng",sender:"user",timestamp:new Date(Date.now()-21e5),status:"sent",customerName:"L Vn Cng"},{id:9,text:"Nu tnh trng khng ci thin sau 1 tun, hy lin h vi bc s iu tr nh.",sender:"staff",timestamp:new Date(Date.now()-198e4),status:"sent",staffName:"Nhn vin B"},{id:10,text:"c ri, ti s theo di",sender:"user",timestamp:new Date(Date.now()-192e4),status:"sent",customerName:"L Vn Cng"},{id:11,text:"Cn g khc ti c th h tr bn khng?",sender:"staff",timestamp:new Date(Date.now()-186e4),status:"sent",staffName:"Nhn vin B"},{id:12,text:"Cm n bn  h tr!",sender:"user",timestamp:new Date(Date.now()-18e5),status:"sent",customerName:"L Vn Cng"}]},{id:4,customerName:"Phm Th Dung",customerId:"C004",status:"active",priority:"urgent",subject:"Cn h tr khn cp",lastMessage:"Ti ang c triu chng bt thng",lastMessageTime:new Date(Date.now()-12e4),startTime:new Date(Date.now()-48e4),assignedStaff:"Nhn vin C",unreadCount:3,messageCount:6,customerType:"existing",tags:["khn cp","triu chng"],satisfaction:null,messages:[{id:1,text:"Xin cho! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(Date.now()-48e4),status:"sent",staffName:"Nhn vin C"},{id:2,text:"Ti cn h tr khn cp, ti ang c triu chng bt thng",sender:"user",timestamp:new Date(Date.now()-42e4),status:"sent",customerName:"Phm Th Dung"},{id:3,text:"Ti hiu s lo lng ca bn. Bn c th m t chi tit triu chng khng?",sender:"staff",timestamp:new Date(Date.now()-36e4),status:"sent",staffName:"Nhn vin C"},{id:4,text:"Ti b st cao v au u t sng nay",sender:"user",timestamp:new Date(Date.now()-3e5),status:"sent",customerName:"Phm Th Dung"},{id:5,text:"Nhit  ca bn l bao nhiu? Bn c ung thuc h st cha?",sender:"staff",timestamp:new Date(Date.now()-24e4),status:"sent",staffName:"Nhn vin C"},{id:6,text:"Ti ang c triu chng bt thng",sender:"user",timestamp:new Date(Date.now()-12e4),status:"sent",customerName:"Phm Th Dung"}]},{id:5,customerName:"Hong Vn Em",customerId:"C005",status:"paused",priority:"medium",subject:"Thng tin v dch v",lastMessage:"Ti s lin h li sau",lastMessageTime:new Date(Date.now()-36e5),startTime:new Date(Date.now()-45e5),assignedStaff:"Nhn vin A",unreadCount:0,messageCount:5,customerType:"new",tags:["thng tin","dch v"],satisfaction:null,messages:[{id:1,text:"Xin cho! Ti c th h tr g cho bn hm nay?",sender:"staff",timestamp:new Date(Date.now()-45e5),status:"sent",staffName:"Nhn vin A"},{id:2,text:"Ti mun tm hiu v cc dch v iu tr HIV",sender:"user",timestamp:new Date(Date.now()-444e4),status:"sent",customerName:"Hong Vn Em"},{id:3,text:"Chng ti cung cp y  cc dch v t xt nghim, t vn n iu tr. Bn quan tm n dch v no c th?",sender:"staff",timestamp:new Date(Date.now()-432e4),status:"sent",staffName:"Nhn vin A"},{id:4,text:"Ti cn thi gian suy ngh thm",sender:"user",timestamp:new Date(Date.now()-42e5),status:"sent",customerName:"Hong Vn Em"},{id:5,text:"Ti s lin h li sau",sender:"user",timestamp:new Date(Date.now()-36e5),status:"sent",customerName:"Hong Vn Em"}]}];setTimeout(()=>{e(S),r(S),g(!1)},1e3)},[]),f.useEffect(()=>{let S=t;l&&(S=S.filter(P=>P.customerName.toLowerCase().includes(l.toLowerCase())||P.customerId.toLowerCase().includes(l.toLowerCase())||P.subject.toLowerCase().includes(l.toLowerCase())||P.tags.some(C=>C.toLowerCase().includes(l.toLowerCase())))),c!=="all"&&(S=S.filter(P=>P.status===c)),u!=="all"&&(S=S.filter(P=>P.priority===u)),S.sort((P,C)=>{const A={urgent:4,high:3,medium:2,low:1},I=A[C.priority]-A[P.priority];return I!==0?I:new Date(C.lastMessageTime)-new Date(P.lastMessageTime)}),r(S)},[t,l,c,u]);const y=S=>{a(S),e(P=>P.map(C=>C.id===S?{...C,unreadCount:0}:C))},x=()=>{a(null)},b=S=>{e(P=>P.map(C=>C.id===S?{...C,assignedStaff:"Nhn vin hin ti",status:"active"}:C))},v=S=>{e(P=>P.map(C=>C.id===S?{...C,status:"resolved"}:C))},p=S=>{e(P=>P.map(C=>C.id===S?{...C,status:"paused"}:C))},j=(S,P)=>{e(C=>C.map(A=>A.id===S?{...A,messages:[...A.messages,P],lastMessage:P.text,lastMessageTime:P.timestamp,messageCount:A.messageCount+1}:A))},N=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"waiting":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-gray-100 text-gray-800";case"resolved":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},w=S=>{switch(S){case"active":return"ang x l";case"waiting":return"Ch x l";case"paused":return"Tm dng";case"resolved":return" gii quyt";default:return S}},E=S=>{switch(S){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},M=S=>{switch(S){case"urgent":return"Khn cp";case"high":return"Cao";case"medium":return"Trung bnh";case"low":return"Thp";default:return S}},k=S=>{const C=new Date-S,A=Math.floor(C/6e4),I=Math.floor(A/60),V=Math.floor(I/24);return V>0?`${V} ngy trc`:I>0?`${I} gi trc`:A>0?`${A} pht trc`:"Va xong"},T=t.find(S=>S.id===i);return s.jsx(be,{currentRole:se.STAFF,pageTitle:"Qun l Chat h tr",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Un,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Tm kim khch hng, ch ...",value:l,onChange:S=>o(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 w-64"})]}),s.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"waiting",children:"Ch x l"}),s.jsx("option",{value:"active",children:"ang x l"}),s.jsx("option",{value:"paused",children:"Tm dng"}),s.jsx("option",{value:"resolved",children:" gii quyt"})]}),s.jsxs("select",{value:u,onChange:S=>h(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"all",children:"Tt c mc "}),s.jsx("option",{value:"urgent",children:"Khn cp"}),s.jsx("option",{value:"high",children:"Cao"}),s.jsx("option",{value:"medium",children:"Trung bnh"}),s.jsx("option",{value:"low",children:"Thp"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(G,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ze,{className:"h-8 w-8 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Ch x l"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(S=>S.status==="waiting").length})]})]})})}),s.jsx(G,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Lr,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ang x l"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(S=>S.status==="active").length})]})]})})}),s.jsx(G,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xe,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:" gii quyt"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(S=>S.status==="resolved").length})]})]})})}),s.jsx(G,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ce,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Thi gian TB"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"8 pht"})]})]})})})]}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Danh sch chat (",n.length,")"]}),m?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"ang ti..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Khng tm thy phin chat no"})]}):s.jsx("div",{className:"space-y-4",children:n.map(S=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:S.customerName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",S.customerId]})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N(S.status)}`,children:w(S.status)}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${E(S.priority)}`,children:M(S.priority)}),S.unreadCount>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-red-500 text-white rounded-full",children:[S.unreadCount," tin mi"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ch "}),s.jsx("p",{className:"font-medium",children:S.subject})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Tin nhn cui"}),s.jsx("p",{className:"text-sm text-gray-700 truncate",children:S.lastMessage}),s.jsx("p",{className:"text-xs text-gray-500",children:k(S.lastMessageTime)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Nhn vin ph trch"}),s.jsx("p",{className:"font-medium",children:S.assignedStaff||"Cha phn cng"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Thng k"}),s.jsxs("p",{className:"text-sm",children:[S.messageCount," tin nhn"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Bt u: ",k(S.startTime)]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:S.tags.map((P,C)=>s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["#",P]},C))}),S.satisfaction&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"nh gi:"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(P=>s.jsx("span",{className:`text-sm ${P<=S.satisfaction?"text-yellow-400":"text-gray-300"}`,children:""},P))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>y(S.id),children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),"M chat"]}),!S.assignedStaff&&s.jsx(F,{variant:"primary",size:"sm",onClick:()=>b(S.id),children:"Nhn x l"}),S.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(S.id),className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50",children:"Tm dng"}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>v(S.id),className:"text-green-600 border-green-300 hover:bg-green-50",children:"Gii quyt"})]})]})]})},S.id))})]})}),T&&s.jsx(_4,{isOpen:!0,onClose:x,userRole:"staff",userName:T.customerName,staffName:"Nhn vin h tr",existingMessages:T.messages,sessionId:T.id,onNewMessage:j})]})})},bU=()=>{const[t,e]=f.useState([]),[n,r]=f.useState([]),[i,a]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(null),[y,x]=f.useState(null),[b,v]=f.useState(!1);f.useEffect(()=>{const k=Ee.getCurrentUser();if(k)if(g(k.id),localStorage.getItem("currentStaffId")!==k.id.toString())localStorage.removeItem("staffMyLabRequests"),localStorage.removeItem("staffCompletedLabRequests"),localStorage.removeItem("staffRejectedLabRequests"),localStorage.setItem("currentStaffId",k.id.toString());else{const S=localStorage.getItem("staffMyLabRequests");if(S)try{r(JSON.parse(S))}catch(A){console.error("Error parsing saved lab requests:",A)}const P=localStorage.getItem("staffCompletedLabRequests");if(P)try{a(JSON.parse(P))}catch(A){console.error("Error parsing saved completed lab requests:",A)}const C=localStorage.getItem("staffRejectedLabRequests");if(C)try{o(JSON.parse(C))}catch(A){console.error("Error parsing saved rejected lab requests:",A)}}p()},[]),f.useEffect(()=>{m&&(localStorage.setItem("staffMyLabRequests",JSON.stringify(n)),localStorage.setItem("staffCompletedLabRequests",JSON.stringify(i)),localStorage.setItem("staffRejectedLabRequests",JSON.stringify(l)))},[n,i,l,m]),f.useEffect(()=>{const k=T=>{if(T.key==="testResultSubmitted"){const S=parseInt(T.newValue);if(!isNaN(S)){const P=n.find(C=>C.id===S);r(C=>C.filter(A=>A.id!==S)),P&&a(C=>[{...P,status:"COMPLETED"},...C])}}};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[n]);const p=async()=>{try{d(!0),h(null);let k=m;if(!k){const A=Ee.getCurrentUser();if(A)k=A.id,g(k);else{h("Khng th xc nh thng tin nhn vin. Vui lng ng nhp li."),d(!1);return}}const T=await is.getPendingLabRequests();T.success?e(T.data||[]):console.error("Failed to fetch pending requests:",T.message);const S=await is.getStaffLabRequests(k);if(S.success){const A=(S.data||[]).filter(I=>I.status!=="COMPLETED"&&I.status!=="REJECTED");r(A)}else console.error("Failed to fetch assigned requests:",S.message);const P=await is.getStaffCompletedLabRequests(k);P.success?(a(P.data||[]),localStorage.setItem("staffCompletedLabRequests",JSON.stringify(P.data||[]))):console.error("Failed to fetch completed requests:",P.message);const C=await is.getStaffRejectedLabRequests(k);C.success?o(C.data||[]):console.error("Failed to fetch rejected requests:",C.message)}catch(k){h(`Error loading lab requests: ${k.message}`),console.error("Error fetching lab requests:",k)}finally{d(!1)}},j=async k=>{if(!m){h("Staff ID not available. Please log in again.");return}try{d(!0);const T=await is.assignLabRequest(k,m);if(T.success){const S=T.data;e(t.filter(P=>P.id!==k)),r([...n,S])}else h(`Failed to assign request: ${T.message}`)}catch(T){h(`Error assigning request: ${T.message}`),console.error("Error assigning lab request:",T)}finally{d(!1)}},N=k=>{x(k),v(!0)},w=async k=>{try{d(!0);const T=await is.submitTestResults(k.labRequestId,k.results);if(T.success){const S=n.find(C=>C.id===k.labRequestId),P=n.filter(C=>C.id!==k.labRequestId);if(r(P),S){const A=[{...S,status:"COMPLETED",completedAt:new Date().toISOString()},...i];a(A),localStorage.setItem("staffMyLabRequests",JSON.stringify(P)),localStorage.setItem("staffCompletedLabRequests",JSON.stringify(A))}if(localStorage.setItem("testResultSubmitted",k.labRequestId),v(!1),m){const C=await is.getStaffCompletedLabRequests(m);C.success&&(a(C.data||[]),localStorage.setItem("staffCompletedLabRequests",JSON.stringify(C.data||[])))}alert("Kt qu xt nghim  c lu thnh cng!")}else h(`Failed to submit test results: ${T.message}`)}catch(T){h(`Error submitting test results: ${T.message}`),console.error("Error submitting test results:",T)}finally{d(!1)}},E=async k=>{try{d(!0);const T=await is.getPreviousLabResults(k);if(T.success){const S=l.find(P=>P.id===k);S?(x({...S,previousResults:T.data||[]}),v(!0)):h("Rejected request not found")}else{const S=await is.reactivateLabRequest(k);if(S.success){const P=l.find(A=>A.id===k);if(o(l.filter(A=>A.id!==k)),P){const A={...P,status:"IN_PROGRESS"};r([...n,A])}const C=l.filter(A=>A.id!==k);if(localStorage.setItem("staffRejectedLabRequests",JSON.stringify(C)),P){const A=[...n,{...P,status:"IN_PROGRESS"}];localStorage.setItem("staffMyLabRequests",JSON.stringify(A))}alert("Yu cu xt nghim  c kch hot li thnh cng!")}else h(`Failed to reactivate request: ${S.message}`)}}catch(T){h(`Error reactivating request: ${T.message}`),console.error("Error reactivating lab request:",T)}finally{d(!1)}},M=(k,T=!1,S=!1,P=!1)=>{const C=k.bloodSampleRequested;return s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[s.jsx(Be,{className:"h-5 w-5 mr-2 text-blue-600"}),k.patientName||"Unknown Patient",s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",k.patientGender||"?",", ",k.patientAge||"?"," tui)"]})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Dch v:"})," ",k.serviceName||"N/A"]}),k.bloodPressure&&s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Huyt p:"})," ",k.bloodPressure]}),k.symptoms&&s.jsxs("p",{className:"text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Triu chng hin ti:"})," ",k.symptoms]}),k.medicalHistory&&s.jsxs("p",{className:"text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Tin s bnh:"})," ",k.medicalHistory]}),s.jsxs("div",{className:"mt-2 flex items-center",children:[C?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(Di,{className:"h-4 w-4 mr-1"}),"Yu cu ly mu mu"]}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Khng yu cu mu mu"}),S&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Ds,{className:"h-4 w-4 mr-1"})," hon thnh"]}),P&&s.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(ir,{className:"h-4 w-4 mr-1"})," b t chi"]})]}),k.notes&&s.jsxs("p",{className:"text-gray-600 mt-2",children:[s.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",k.notes]}),k.completedAt&&s.jsxs("p",{className:"text-gray-600 mt-2",children:[s.jsx("span",{className:"font-medium",children:"Hon thnh lc:"})," ",new Date(k.completedAt).toLocaleString("vi-VN")]}),P&&k.notes&&s.jsxs("p",{className:"text-gray-600 mt-2 text-red-600",children:[s.jsx("span",{className:"font-medium",children:"L do t chi:"})," ",k.notes]})]}),s.jsx("div",{children:T?s.jsxs(F,{variant:"primary",size:"sm",onClick:()=>j(k.id),disabled:c,children:[s.jsx(li,{className:"h-4 w-4 mr-1"}),"Nhn x l"]}):P?s.jsxs(F,{variant:"warning",size:"sm",onClick:()=>E(k.id),disabled:c,children:[s.jsx(at,{className:"h-4 w-4 mr-1"}),"Nhp li kt qu"]}):S?null:s.jsxs(F,{variant:"success",size:"sm",onClick:()=>N(k),disabled:c,children:[s.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Nhp kt qu"]})})]})},k.id)};return s.jsxs(be,{currentRole:se.STAFF,pageTitle:"Yu cu xt nghim",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Di,{className:"h-5 w-5 text-red-500"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700",children:u})})]})}),s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Yu cu xt nghim"}),s.jsxs(F,{variant:"secondary",size:"sm",onClick:p,disabled:c,children:[s.jsx(at,{className:"h-5 w-5 mr-1"}),"Lm mi"]})]}),s.jsxs("section",{className:"mb-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[s.jsx(li,{className:"h-5 w-5 inline-block mr-2 text-blue-600"}),"Yu cu ca ti"]}),s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[n.length," yu cu"]})]}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.length>0?s.jsx("div",{children:n.map(k=>M(k))}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(li,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Bn cha c yu cu xt nghim no ang x l"})]})]}),s.jsxs("section",{className:"mb-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[s.jsx(Ds,{className:"h-5 w-5 inline-block mr-2 text-green-600"}),"Yu cu  hon thnh"]}),s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[i.length," yu cu"]})]}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.length>0?s.jsx("div",{children:i.map(k=>M(k,!1,!0))}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(Ds,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Bn cha c yu cu xt nghim no  hon thnh"})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[s.jsx(Ie,{className:"h-5 w-5 inline-block mr-2 text-orange-600"}),"Yu cu xt nghim ch x l"]}),s.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[t.length," yu cu"]})]}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.length>0?s.jsx("div",{children:t.map(k=>M(k,!0))}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(Ie,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Khng c yu cu xt nghim no ang ch x l"})]})]}),s.jsxs("section",{className:"mb-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[s.jsx(ir,{className:"h-5 w-5 inline-block mr-2 text-red-600"}),"Yu cu  b t chi"]}),s.jsxs("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[l.length," yu cu"]})]}),c?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.length>0?s.jsx("div",{children:l.map(k=>M(k,!1,!1,!0))}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto text-gray-400"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Bn cha c yu cu xt nghim no b t chi"})]})]})]}),b&&y&&s.jsx(rT,{isOpen:b,labRequest:y,onClose:()=>v(!1),onSubmit:w})]})},iT=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=f.useState({title:"",type:"performance",category:"staff",description:"",dateRange:"month",startDate:"",endDate:"",departments:[],includeCharts:!0,format:"pdf",recipients:"",priority:"normal"}),[a,l]=f.useState({}),o=[{value:"performance",label:"Bo co hiu sut",icon:us},{value:"financial",label:"Bo co ti chnh",icon:Ze},{value:"patient",label:"Bo co bnh nhn",icon:Ze},{value:"staff",label:"Bo co nhn vin",icon:Ze}],c=[{value:"week",label:"Tun ny"},{value:"month",label:"Thng ny"},{value:"quarter",label:"Qu ny"},{value:"year",label:"Nm ny"},{value:"custom",label:"Ty chnh"}],d=["Khoa a khoa","Khoa Bnh truyn nhim","Khoa Chm sc bnh nhn","Khoa Dc","Phng xt nghim","Phng T vn","Phng Hnh chnh"],u=x=>{const{name:b,value:v,type:p,checked:j}=x.target;i(N=>({...N,[b]:p==="checkbox"?j:v})),a[b]&&l(N=>({...N,[b]:""}))},h=x=>{i(b=>({...b,departments:b.departments.includes(x)?b.departments.filter(v=>v!==x):[...b.departments,x]}))},m=()=>{const x={};return r.title.trim()||(x.title="Vui lng nhp tiu  bo co"),r.description.trim()||(x.description="Vui lng nhp m t bo co"),r.dateRange==="custom"&&(r.startDate||(x.startDate="Vui lng chn ngy bt u"),r.endDate||(x.endDate="Vui lng chn ngy kt thc")),l(x),Object.keys(x).length===0},g=x=>{if(x.preventDefault(),m()){const b={...r,id:Date.now().toString(),status:"pending",createdAt:new Date,createdBy:"Manager",progress:0};n(b),y()}},y=()=>{i({title:"",type:"performance",category:"staff",description:"",dateRange:"month",startDate:"",endDate:"",departments:[],includeCharts:!0,format:"pdf",recipients:"",priority:"normal"}),l({}),e()};return s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:y,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"To bo co mi"}),s.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiu  bo co *"}),s.jsx("input",{type:"text",name:"title",value:r.title,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${a.title?"border-red-300":""}`,placeholder:"Nhp tiu  bo co..."}),a.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi bo co"}),s.jsx("select",{name:"type",value:r.type,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:o.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t bo co *"}),s.jsx("textarea",{name:"description",value:r.description,onChange:u,rows:3,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${a.description?"border-red-300":""}`,placeholder:"M t ni dung v mc ch ca bo co..."}),a.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khong thi gian"}),s.jsx("select",{name:"dateRange",value:r.dateRange,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:c.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),r.dateRange==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T ngy *"}),s.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${a.startDate?"border-red-300":""}`}),a.startDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.startDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n ngy *"}),s.jsx("input",{type:"date",name:"endDate",value:r.endDate,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${a.endDate?"border-red-300":""}`}),a.endDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.endDate})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khoa/Phng (chn nhiu)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.map(x=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.departments.includes(x),onChange:()=>h(x),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:x})]},x))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"includeCharts",checked:r.includeCharts,onChange:u,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Bao gm biu  v hnh nh"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{type:"button",variant:"outline",onClick:y,children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",children:"To bo co"})]})]})]})})})})]})})},jU=()=>{const[t,e]=f.useState("month"),[n,r]=f.useState(!1),i=[{title:"Thm nhn vin",description:"Tuyn dng nhn vin mi",icon:s.jsx($r,{className:"h-6 w-6"}),link:"/manager/staff",color:"bg-blue-500 hover:bg-blue-600"},{title:"To bo co",description:"To bo co mi",icon:s.jsx(Rn,{className:"h-6 w-6"}),link:"/manager/reports",color:"bg-green-500 hover:bg-green-600"},{title:"Xem phn tch",description:"Phn tch d liu chi tit",icon:s.jsx(us,{className:"h-6 w-6"}),link:"/manager/analytics",color:"bg-purple-500 hover:bg-purple-600"},{title:"Qun l ni dung",description:"Cp nht ti liu gio dc",icon:s.jsx(bl,{className:"h-6 w-6"}),link:"/manager/content",color:"bg-orange-500 hover:bg-orange-600"}],a=[{id:1,title:"Tng s bnh nhn",value:"2,845",change:12.5,changeType:"increase",icon:Be,color:"bg-blue-100 text-blue-800",description:"So vi thng trc"},{id:2,title:"Lch hn thng ny",value:"362",change:8.2,changeType:"increase",icon:ve,color:"bg-green-100 text-green-800",description:" xc nhn"},{id:3,title:"Kt qu xt nghim",value:"126",change:-3.8,changeType:"decrease",icon:Rn,color:"bg-purple-100 text-purple-800",description:"Ch x l"},{id:4,title:"Lt xem ti liu",value:"12.5K",change:18.3,changeType:"increase",icon:Ms,color:"bg-yellow-100 text-yellow-800",description:"Trong tun"}],l=[{id:1,name:"BS. Nguyn Vn A",role:"Bc s",department:"iu tr HIV",status:"active",patients:45},{id:2,name:"YT. Trn Th B",role:"Y t",department:"Chm sc bnh nhn",status:"active",patients:28},{id:3,name:"BS. L Vn C",role:"Bc s",department:"Min dch hc",status:"on-leave",patients:0}],o=[{id:1,title:"Bo co thng 6  hon thnh",description:"Bo co iu tr HIV thng 6/2024  c to v gi",timestamp:"2 gi trc",type:"report",priority:"normal"},{id:2,title:"Nhn vin mi c thm",description:"Y t Phm Th D  c thm vo h thng",timestamp:"4 gi trc",type:"staff",priority:"normal"},{id:3,title:"Cp nht ti liu gio dc",description:'Ti liu "Sng khe vi HIV"  c cp nht',timestamp:"1 ngy trc",type:"content",priority:"low"}],c=[{id:1,type:"warning",message:"Cn xem xt lch lm vic tun ti",action:"Xem chi tit",link:"/manager/staff-schedule"},{id:2,type:"info",message:"3 bo co ang ch ph duyt",action:"Xem bo co",link:"/manager/reports"}],d=g=>{switch(g){case"active":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"ang lm vic"});case"on-leave":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Ngh php"});case"inactive":return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Khng hot ng"});default:return null}},u=g=>{switch(g){case"report":return s.jsx(Rn,{className:"h-5 w-5 text-blue-500"});case"staff":return s.jsx($r,{className:"h-5 w-5 text-green-500"});case"content":return s.jsx(bl,{className:"h-5 w-5 text-purple-500"});default:return s.jsx(vl,{className:"h-5 w-5 text-gray-500"})}},h=g=>{switch(g){case"warning":return s.jsx(ze,{className:"h-5 w-5 text-yellow-500"});case"error":return s.jsx(ze,{className:"h-5 w-5 text-red-500"});case"info":return s.jsx(vl,{className:"h-5 w-5 text-blue-500"});default:return s.jsx(vl,{className:"h-5 w-5 text-gray-500"})}},m=g=>{console.log("New report created from dashboard:",g),alert(`Bo co "${g.name}"  c to thnh cng!`),r(!1)};return s.jsx(be,{currentRole:se.MANAGER,userName:"Nguyn Qun L",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bng iu khin Qun l"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cho mng tr li! Di y l tng quan hot ng h thng."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[s.jsxs("select",{className:"rounded-md border-gray-300 py-2 pl-3 pr-8 text-sm focus:border-primary-500 focus:ring-primary-500",value:t,onChange:g=>e(g.target.value),children:[s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"}),s.jsx("option",{value:"quarter",children:"Qu ny"}),s.jsx("option",{value:"year",children:"Nm nay"})]}),s.jsxs(F,{variant:"primary",className:"flex items-center",onClick:()=>r(!0),children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"To bo co"]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thao tc nhanh"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((g,y)=>s.jsx(ue,{to:g.link,children:s.jsx(G,{className:"h-full hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:-translate-y-1",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 ${g.color} rounded-lg flex items-center justify-center mb-4 text-white`,children:g.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:g.description})]})})},y))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng k tng quan"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(g=>s.jsx(G,{className:"bg-white",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:s.jsx(g.icon,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center",children:[g.changeType==="increase"?s.jsx(yl,{className:"h-4 w-4 text-green-500 mr-1"}):s.jsx(D4,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsxs("span",{className:`text-sm font-medium ${g.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[g.changeType==="increase"?"+":"",g.change,"%"]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:g.value}),s.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:g.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]})]})},g.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(G,{title:"Tnh trng nhn vin",className:"h-full",children:s.jsxs("div",{className:"space-y-4",children:[l.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Be,{className:"h-5 w-5 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:g.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[g.role," - ",g.department]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[g.patients," bnh nhn"]}),d(g.status)]})]},g.id)),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs(ue,{to:"/manager/staff",className:"flex items-center text-primary-600 hover:text-primary-700",children:["Xem tt c nhn vin",s.jsx(Lc,{className:"h-4 w-4 ml-1"})]})})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{title:"Cnh bo h thng",children:s.jsx("div",{className:"space-y-3",children:c.map(g=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[h(g.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:g.message}),s.jsx(ue,{to:g.link,className:"text-xs text-primary-600 hover:text-primary-700",children:g.action})]})]},g.id))})}),s.jsx(G,{title:"Hot ng gn y",children:s.jsx("div",{className:"space-y-4",children:o.map(g=>s.jsxs("div",{className:"flex items-start space-x-3",children:[u(g.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.description}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.timestamp})]})]},g.id))})})]})]}),s.jsx(iT,{isOpen:n,onClose:()=>r(!1),onSave:m})]})})},wU=({isOpen:t,onClose:e,staff:n,onSave:r})=>{var v;const[i,a]=f.useState(!1),[l,o]=f.useState({name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"",department:(n==null?void 0:n.department)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",status:(n==null?void 0:n.status)||"active",joinDate:n!=null&&n.joinDate?n.joinDate.toISOString().split("T")[0]:"",address:(n==null?void 0:n.address)||"",emergencyContact:(n==null?void 0:n.emergencyContact)||"",notes:(n==null?void 0:n.notes)||""}),[c,d]=f.useState({}),u=["Bc s","Y t","C vn","K thut vin phng xt nghim","Dc s","Qun tr vin","Nhn vin hnh chnh"],h=[{value:"active",label:"ang lm vic",color:"bg-green-100 text-green-800"},{value:"on-leave",label:"Ngh php",color:"bg-yellow-100 text-yellow-800"},{value:"inactive",label:"Khng hot ng",color:"bg-red-100 text-red-800"}],m=p=>{const{name:j,value:N}=p.target;o(w=>({...w,[j]:N})),c[j]&&d(w=>({...w,[j]:""}))},g=()=>{const p={};return l.name.trim()||(p.name="Vui lng nhp h tn"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(p.email="Email khng hp l"):p.email="Vui lng nhp email",l.phone.trim()||(p.phone="Vui lng nhp s in thoi"),d(p),Object.keys(p).length===0},y=p=>{if(p.preventDefault(),g()){const j={...n,...l,joinDate:new Date(l.joinDate),updatedAt:new Date};r(j),a(!1)}},x=()=>{o({name:(n==null?void 0:n.name)||"",role:(n==null?void 0:n.role)||"",department:(n==null?void 0:n.department)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",status:(n==null?void 0:n.status)||"active",joinDate:n!=null&&n.joinDate?n.joinDate.toISOString().split("T")[0]:"",address:(n==null?void 0:n.address)||"",emergencyContact:(n==null?void 0:n.emergencyContact)||"",notes:(n==null?void 0:n.notes)||""}),d({}),a(!1),e()},b=p=>{const j=h.find(N=>N.value===p);return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j==null?void 0:j.color}`,children:j==null?void 0:j.label})};return n?s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:x,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:i?"Chnh sa nhn vin":"Chi tit nhn vin"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&s.jsx("button",{onClick:()=>a(!0),className:"text-primary-600 hover:text-primary-800",children:s.jsx(od,{className:"h-5 w-5"})}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]})]}),i?s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"H v tn *"}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.name?"border-red-300":""}`}),c.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr"}),s.jsxs("select",{name:"role",value:l.role,onChange:m,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Chn vai tr"}),u.map(p=>s.jsx("option",{value:p,children:p},p))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.email?"border-red-300":""}`}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi *"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.phone?"border-red-300":""}`}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",children:"Lu thay i"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Be,{className:"h-8 w-8 text-primary-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[n.role,"  ",n.department]}),s.jsx("div",{className:"mt-2",children:b(n.status)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thng tin lin h"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lm,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-900",children:n.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-900",children:n.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thng tin cng vic"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Ngy vo lm:"}),s.jsx("span",{className:"text-sm text-gray-900 ml-2",children:(v=n.joinDate)==null?void 0:v.toLocaleDateString("vi-VN")})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{variant:"outline",onClick:x,children:"ng"}),s.jsx(F,{variant:"primary",onClick:()=>a(!0),children:"Chnh sa"})]})]})]})})})})]})}):null},NU=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=f.useState({name:"",email:"",phone:"",role:"",department:"",status:"active"}),[a,l]=f.useState({}),o=["Y t","K thut vin","Dc s","Nhn vin hnh chnh","Nhn vin t vn","Nhn vin xt nghim"],c=["a khoa","Bnh truyn nhim","Chm sc bnh nhn","T vn","Xt nghim","Dc"],d=g=>{const{name:y,value:x}=g.target;i(b=>({...b,[y]:x})),a[y]&&l(b=>({...b,[y]:""}))},u=()=>{const g={};return r.name.trim()||(g.name="Tn nhn vin l bt buc"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(g.email="Email khng hp l"):g.email="Email l bt buc",r.phone.trim()?/^[0-9+\-\s()]+$/.test(r.phone)||(g.phone="S in thoi khng hp l"):g.phone="S in thoi l bt buc",r.role||(g.role="Vui lng chn vai tr"),r.department||(g.department="Vui lng chn phng ban"),l(g),Object.keys(g).length===0},h=g=>{if(g.preventDefault(),u()){const y={id:Date.now(),...r,joinDate:new Date};n(y),i({name:"",email:"",phone:"",role:"",department:"",status:"active"}),l({}),e()}},m=()=>{i({name:"",email:"",phone:"",role:"",department:"",status:"active"}),l({}),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-full overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thm nhn vin mi"}),s.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-500",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsx("form",{onSubmit:h,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.name?"border-red-300":""}`,placeholder:"Nhp h v tn nhn vin"}),a.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.email?"border-red-300":""}`,placeholder:"email@example.com"}),a.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.phone?"border-red-300":""}`,placeholder:"(123) 456-7890"}),a.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr *"}),s.jsxs("select",{id:"role",name:"role",value:r.role,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.role?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn vai tr"}),o.map(g=>s.jsx("option",{value:g,children:g},g))]}),a.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.role})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban *"}),s.jsxs("select",{id:"department",name:"department",value:r.department,onChange:d,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.department?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn phng ban"}),c.map(g=>s.jsx("option",{value:g,children:g},g))]}),a.department&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.department})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",name:"status",value:r.status,onChange:d,className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"active",children:"ang lm vic"}),s.jsx("option",{value:"on-leave",children:"Ngh php"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"})]})]})]})}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(F,{type:"button",variant:"secondary",onClick:m,children:"Hy"}),s.jsx(F,{type:"button",variant:"primary",onClick:h,children:"Thm nhn vin"})]})]})}):null},kU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState("all"),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState([{id:1,name:"BS. Sarah Johnson",role:"Bc s",department:"Khoa Bnh truyn nhim",email:"sarah.johnson@example.com",phone:"(123) 456-7890",status:"active",joinDate:new Date("2020-03-15")},{id:2,name:"BS. Robert Chen",role:"Bc s",department:"Khoa a khoa",email:"robert.chen@example.com",phone:"(123) 456-7891",status:"active",joinDate:new Date("2018-05-20")},{id:3,name:"BS. Michael Brown",role:"Bc s",department:"Khoa Bnh truyn nhim",email:"michael.brown@example.com",phone:"(123) 456-7892",status:"on-leave",joinDate:new Date("2019-11-10")},{id:4,name:"YT. Emma Wilson",role:"Y t",department:"Khoa Chm sc bnh nhn",email:"emma.wilson@example.com",phone:"(123) 456-7893",status:"on-leave",joinDate:new Date("2017-08-05")},{id:5,name:"John Smith",role:"C vn",department:"Phng T vn",email:"john.smith@example.com",phone:"(123) 456-7894",status:"active",joinDate:new Date("2021-01-15")},{id:6,name:"Lisa Rodriguez",role:"K thut vin phng xt nghim",department:"Phng xt nghim",email:"lisa.rodriguez@example.com",phone:"(123) 456-7895",status:"active",joinDate:new Date("2020-07-22")},{id:7,name:"David Kim",role:"Dc s",department:"Khoa Dc",email:"david.kim@example.com",phone:"(123) 456-7896",status:"inactive",joinDate:new Date("2019-04-12")},{id:8,name:"Sandra Carter",role:"Qun tr vin",department:"Phng Hnh chnh",email:"sandra.carter@example.com",phone:"(123) 456-7897",status:"active",joinDate:new Date("2022-02-10")}]),b=[{id:1,name:"Khoa a khoa"},{id:2,name:"Khoa Bnh truyn nhim"},{id:3,name:"Khoa Chm sc bnh nhn"},{id:4,name:"Khoa Dc"},{id:5,name:"Phng xt nghim"},{id:6,name:"Phng T vn"},{id:7,name:"Phng Hnh chnh"}],v=k=>{x(T=>T.map(S=>S.id===k.id?k:S)),console.log("Staff updated:",k)},p=y.filter(k=>{const T=k.name.toLowerCase().includes(t.toLowerCase())||k.email.toLowerCase().includes(t.toLowerCase())||k.phone.includes(t),S=n==="all"||k.status===n,P=i==="all"||k.department===i,C=l==="all"||k.role===l;return T&&S&&P&&C}),j=k=>k.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"}),N=k=>{switch(k){case"active":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"ang lm vic"});case"on-leave":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Ngh php"});case"inactive":return s.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Khng hot ng"});default:return null}},w=k=>{h(k),g(!0)},E=()=>{h(null),g(!1)},M=k=>{x(T=>[...T,k]),console.log("New staff added:",k)};return s.jsx(be,{currentRole:se.MANAGER,userName:"Admin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Nhn vin"}),s.jsx(F,{variant:"primary",onClick:()=>d(!0),children:"Thm nhn vin mi"})]}),s.jsxs("div",{className:"mb-8 bg-white p-4 rounded-lg shadow grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tm kim"}),s.jsx("input",{type:"text",id:"search",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",placeholder:"Tm theo tn, email hoc in thoi",value:t,onChange:k=>e(k.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:n,onChange:k=>r(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"active",children:"ang lm vic"}),s.jsx("option",{value:"on-leave",children:"Ngh php"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban"}),s.jsxs("select",{id:"department",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:i,onChange:k=>a(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c phng ban"}),b.map(k=>s.jsx("option",{value:k.name,children:k.name},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr"}),s.jsxs("select",{id:"role",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:l,onChange:k=>o(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c vai tr"}),s.jsx("option",{value:"Bc s",children:"Bc s"}),s.jsx("option",{value:"Y t",children:"Y t"}),s.jsx("option",{value:"C vn",children:"C vn"}),s.jsx("option",{value:"K thut vin phng xt nghim",children:"K thut vin phng xt nghim"}),s.jsx("option",{value:"Dc s",children:"Dc s"}),s.jsx("option",{value:"Qun tr vin",children:"Qun tr vin"})]})]})]}),s.jsxs(G,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhn vin"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phng ban"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy tham gia"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(k=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-medium",children:k.name.charAt(0)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),s.jsx("div",{className:"text-sm text-gray-500",children:k.email}),s.jsx("div",{className:"text-sm text-gray-500",children:k.phone})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:k.department}),s.jsx("div",{className:"text-sm text-gray-500",children:k.role})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(k.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(k.joinDate)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>w(k),className:"text-primary-600 hover:text-primary-900 mr-4",children:"Xem chi tit"}),s.jsx("button",{onClick:()=>w(k),className:"text-primary-600 hover:text-primary-900",children:"Chnh sa"})]})]},k.id))})]})}),p.length===0&&s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-gray-500",children:"Khng tm thy nhn vin no ph hp vi b lc."})})]}),s.jsx(wU,{isOpen:m,onClose:E,staff:u,onSave:v}),s.jsx(NU,{isOpen:c,onClose:()=>d(!1),onSave:M})]})})},Yd=({title:t,description:e,height:n=240})=>s.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg w-full overflow-hidden",style:{height:n},children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]})}),SU=()=>{const[t,e]=f.useState("month"),[n,r]=f.useState("all"),[i,a]=f.useState(!1),[l,o]=f.useState([{id:1,name:"Bo co nhn khu hc bnh nhn",description:"Tng quan v nhn khu hc bnh nhn bao gm tui, gii tnh v v tr.",lastGenerated:new Date("2024-06-01"),frequency:"Hng thng",format:"pdf",category:"patient",status:"completed"},{id:2,name:"Thng k lch hn",description:"Tm tt cc cuc hn bao gm khi lng, loi v hy b.",lastGenerated:new Date("2024-06-10"),frequency:"Hng tun",format:"excel",category:"appointment",status:"completed"},{id:3,name:"Ch s hiu sut nhn vin",description:"Ch s hiu sut cho nhn vin y t v hnh chnh.",lastGenerated:new Date("2024-05-30"),frequency:"Hng thng",format:"pdf",category:"staff",status:"pending"},{id:4,name:"Phn tch kt qu iu tr",description:"Phn tch kt qu iu tr bnh nhn v t l tun th.",lastGenerated:new Date("2024-05-15"),frequency:"Hng qu",format:"pdf",category:"patient",status:"completed"},{id:5,name:"Bo co hiu sut ti chnh",description:"Tm tt hiu sut ti chnh bao gm doanh thu v chi ph.",lastGenerated:new Date("2024-06-01"),frequency:"Hng thng",format:"excel",category:"financial",status:"completed"},{id:6,name:"S dng ti nguyn gio dc",description:"Phn tch lt xem v ti xung ti nguyn gio dc.",lastGenerated:new Date("2024-06-05"),frequency:"Hng thng",format:"csv",category:"general",status:"processing"}]),c=[{title:"To bo co mi",description:"To bo co ty chnh",icon:s.jsx(cs,{className:"h-6 w-6"}),action:()=>a(!0),color:"bg-blue-500 hover:bg-blue-600"},{title:"Xut d liu",description:"Xut d liu th",icon:s.jsx(An,{className:"h-6 w-6"}),action:()=>{const j=`data:text/csv;charset=utf-8,Tn bo co,Loi,Ngy to,Trng thi
`+l.map(E=>`${E.name},${E.category},${E.lastGenerated.toLocaleDateString()},${E.status}`).join(`
`),N=encodeURI(j),w=document.createElement("a");w.setAttribute("href",N),w.setAttribute("download","bao_cao_du_lieu.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w)},color:"bg-green-500 hover:bg-green-600"},{title:"Ln lch bo co",description:"T ng to bo co",icon:s.jsx(ve,{className:"h-6 w-6"}),action:()=>{alert("Tnh nng ln lch bo co s c trin khai trong phin bn tip theo!")},color:"bg-purple-500 hover:bg-purple-600"},{title:"Xem phn tch",description:"Phn tch chi tit",icon:s.jsx(us,{className:"h-6 w-6"}),action:()=>{window.location.href="/manager/analytics"},color:"bg-orange-500 hover:bg-orange-600"}],d=[{title:"T l thnh cng iu tr",value:"89.2%",change:"+2.1%",changeType:"increase",icon:us,color:"bg-green-100 text-green-800"},{title:"Tng s bnh nhn",value:"1,256",change:"+12.5%",changeType:"increase",icon:$r,color:"bg-blue-100 text-blue-800"},{title:"Lch hn thng ny",value:"362",change:"+8.2%",changeType:"increase",icon:ve,color:"bg-purple-100 text-purple-800"},{title:"Doanh thu",value:"2.4B VND",change:"+15.3%",changeType:"increase",icon:IA,color:"bg-yellow-100 text-yellow-800"}],u=j=>{o(N=>[j,...N]),console.log("New report created:",j)},h=j=>{alert(`ang m bo co: ${j.name}
Trng thi: ${j.status}
Loi: ${j.category}`)},m=j=>{const N=`${j.name.replace(/\s+/g,"_")}.${j.format}`;alert(`ang ti xung: ${N}
nh dng: ${j.format.toUpperCase()}`),console.log("Downloading report:",j)},g=[{id:"all",name:"Tt c",count:l.length},{id:"patient",name:"Bnh nhn",count:l.filter(j=>j.category==="patient").length},{id:"appointment",name:"Lch hn",count:l.filter(j=>j.category==="appointment").length},{id:"staff",name:"Nhn vin",count:l.filter(j=>j.category==="staff").length},{id:"financial",name:"Ti chnh",count:l.filter(j=>j.category==="financial").length},{id:"general",name:"Chung",count:l.filter(j=>j.category==="general").length}],y=n==="all"?l:l.filter(j=>j.category===n),x=j=>j.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"}),b=j=>{switch(j){case"patient":return s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Bnh nhn"});case"appointment":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Lch hn"});case"staff":return s.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Nhn vin"});case"financial":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Ti chnh"});case"general":return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Chung"});default:return null}},v=j=>{switch(j){case"completed":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Hon thnh"});case"processing":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"ang x l"});case"pending":return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Ch x l"});default:return null}},p=j=>{switch(j){case"pdf":return s.jsx(Ze,{className:"h-5 w-5 text-red-600"});case"excel":return s.jsx(N0,{className:"h-5 w-5 text-green-600"});case"csv":return s.jsx(N0,{className:"h-5 w-5 text-gray-600"});default:return s.jsx(Ze,{className:"h-5 w-5 text-gray-600"})}};return s.jsx(be,{currentRole:se.MANAGER,userName:"Nguyn Qun L",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bo co & Phn tch"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"To, qun l v theo di cc bo co h thng"})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[s.jsxs("select",{className:"rounded-md border-gray-300 py-2 pl-3 pr-8 text-sm focus:border-primary-500 focus:ring-primary-500",value:t,onChange:j=>e(j.target.value),children:[s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"}),s.jsx("option",{value:"quarter",children:"Qu ny"}),s.jsx("option",{value:"year",children:"Nm nay"})]}),s.jsxs(F,{variant:"primary",className:"flex items-center",children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"To bo co mi"]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thao tc nhanh"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map((j,N)=>s.jsx(G,{className:"h-full hover:shadow-lg transition-all duration-200 cursor-pointer transform hover:-translate-y-1",onClick:j.action,children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:`w-12 h-12 ${j.color} rounded-lg flex items-center justify-center mb-4 text-white`,children:j.icon}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:j.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:j.description})]})},N))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ch s chnh"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((j,N)=>s.jsx(G,{className:"bg-white",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:`p-3 rounded-lg ${j.color}`,children:s.jsx(j.icon,{className:"h-6 w-6"})}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-sm font-medium ${j.changeType==="increase"?"text-green-600":"text-red-600"}`,children:j.change})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:j.value}),s.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:j.title})]})]})},N))})]}),s.jsx(G,{className:"mb-8",title:"Tng quan bng iu khin",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Yd,{title:"Lt khm bnh",description:"Xu hng lt khm bnh trong khong thi gian  chn"}),s.jsx(Yd,{title:"Kt qu iu tr",description:"T l thnh cng theo loi hnh iu tr"}),s.jsx(Yd,{title:"Hiu sut nhn vin",description:"Cc ch s hiu sut chnh cho nhn vin y t"}),s.jsx(Yd,{title:"S dng ti nguyn",description:"Mc  s dng ti nguyn c s v ti liu gio dc"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bo co  lu"}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:g.map(j=>s.jsxs("button",{onClick:()=>r(j.id),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${n===j.id?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[j.name," (",j.count,")"]},j.id))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(j=>s.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[p(j.format),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b(j.category),v(j.status)]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Cp nht: ",x(j.lastGenerated)]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:j.frequency}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>h(j),children:[s.jsx(Ms,{className:"h-4 w-4 mr-1"}),"Xem"]}),s.jsxs(F,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>m(j),children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),"Ti"]})]})]})]})},j.id))})]}),s.jsx(iT,{isOpen:i,onClose:()=>a(!1),onSave:u})]})})},aT=({isOpen:t,onClose:e,doctor:n,onSave:r})=>{const[i,a]=f.useState(!1),[l,o]=f.useState({name:(n==null?void 0:n.name)||"",specialty:(n==null?void 0:n.specialty)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",status:(n==null?void 0:n.status)||"active",experience:(n==null?void 0:n.experience)||"",workingHours:(n==null?void 0:n.workingHours)||"",languages:(n==null?void 0:n.languages)||[],bio:(n==null?void 0:n.bio)||""}),[c,d]=f.useState({}),u=["Bnh truyn nhim","Ni khoa","Tm l hc","Dinh dng","Dc lm sng","Chm sc sc khe tng qut"],h=[{value:"active",label:"ang lm vic",color:"bg-green-100 text-green-800"},{value:"on-leave",label:"Ngh php",color:"bg-yellow-100 text-yellow-800"},{value:"inactive",label:"Khng hot ng",color:"bg-red-100 text-red-800"}],m=v=>{const{name:p,value:j}=v.target;o(N=>({...N,[p]:j})),c[p]&&d(N=>({...N,[p]:""}))},g=()=>{const v={};return l.name.trim()||(v.name="Vui lng nhp h tn"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(v.email="Email khng hp l"):v.email="Vui lng nhp email",l.phone.trim()||(v.phone="Vui lng nhp s in thoi"),d(v),Object.keys(v).length===0},y=v=>{if(v.preventDefault(),g()){const p={...n,...l,updatedAt:new Date};r(p),a(!1)}},x=()=>{o({name:(n==null?void 0:n.name)||"",specialty:(n==null?void 0:n.specialty)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",status:(n==null?void 0:n.status)||"active",experience:(n==null?void 0:n.experience)||"",workingHours:(n==null?void 0:n.workingHours)||"",languages:(n==null?void 0:n.languages)||[],bio:(n==null?void 0:n.bio)||""}),d({}),a(!1),e()},b=v=>{const p=h.find(j=>j.value===v);return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p==null?void 0:p.color}`,children:p==null?void 0:p.label})};return n?s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:x,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:i?"Chnh sa thng tin bc s":"Chi tit bc s"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!i&&s.jsx("button",{onClick:()=>a(!0),className:"text-primary-600 hover:text-primary-800",children:s.jsx(od,{className:"h-5 w-5"})}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]})]}),i?s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"H v tn *"}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.name?"border-red-300":""}`}),c.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chuyn khoa"}),s.jsxs("select",{name:"specialty",value:l.specialty,onChange:m,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"",children:"Chn chuyn khoa"}),u.map(v=>s.jsx("option",{value:v,children:v},v))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.email?"border-red-300":""}`}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi *"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:m,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${c.phone?"border-red-300":""}`}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",children:"Lu thay i"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Be,{className:"h-8 w-8 text-primary-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-600",children:n.specialty}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[b(n.status),n.experience&&s.jsxs("span",{className:"text-sm text-gray-500",children:[n.experience," nm kinh nghim"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thng tin lin h"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Lm,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-900",children:n.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-900",children:n.phone})]}),n.workingHours&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ce,{className:"h-5 w-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-900",children:n.workingHours})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thng tin chuyn mn"}),s.jsx("div",{className:"space-y-3",children:n.languages&&n.languages.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Ngn ng:"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:n.languages.map(v=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:v},v))})]})})]})]}),n.bio&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tiu s"}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:n.bio})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{variant:"outline",onClick:x,children:"ng"}),s.jsx(F,{variant:"primary",onClick:()=>a(!0),children:"Chnh sa"})]})]})]})})})})]})}):null},TU=({isOpen:t,onClose:e,onSave:n})=>{const[r,i]=f.useState({name:"",email:"",phone:"",specialty:"",department:"",status:"active",experience:"",languages:[],bio:""}),[a,l]=f.useState({}),o=["Bnh truyn nhim","Ni khoa","Y hc gia nh","Min dch hc","Tm thn hc","Nhi khoa","Da liu","Tim mch"],c=["a khoa","Bnh truyn nhim","Chm sc bnh nhn","T vn","Nghin cu"],d=["Ting Vit","English","Franais","Espaol","",""],u=x=>{const{name:b,value:v}=x.target;i(p=>({...p,[b]:v})),a[b]&&l(p=>({...p,[b]:""}))},h=x=>{i(b=>({...b,languages:b.languages.includes(x)?b.languages.filter(v=>v!==x):[...b.languages,x]}))},m=()=>{const x={};return r.name.trim()||(x.name="Tn bc s l bt buc"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(x.email="Email khng hp l"):x.email="Email l bt buc",r.phone.trim()?/^[0-9+\-\s()]+$/.test(r.phone)||(x.phone="S in thoi khng hp l"):x.phone="S in thoi l bt buc",r.specialty||(x.specialty="Vui lng chn chuyn khoa"),r.department||(x.department="Vui lng chn phng ban"),r.experience.trim()?(isNaN(r.experience)||parseInt(r.experience)<0)&&(x.experience="S nm kinh nghim phi l s dng"):x.experience="S nm kinh nghim l bt buc",r.languages.length===0&&(x.languages="Vui lng chn t nht mt ngn ng"),l(x),Object.keys(x).length===0},g=x=>{if(x.preventDefault(),m()){const b={id:Date.now(),...r,patients:0,joinDate:new Date};n(b),i({name:"",email:"",phone:"",specialty:"",department:"",status:"active",experience:"",languages:[],bio:""}),l({}),e()}},y=()=>{i({name:"",email:"",phone:"",specialty:"",department:"",status:"active",experience:"",languages:[],bio:""}),l({}),e()};return t?s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-full overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thm bc s mi"}),s.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-500",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsx("form",{onSubmit:g,className:"px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.name?"border-red-300":""}`,placeholder:"BS. Nguyn Vn A"}),a.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.email?"border-red-300":""}`,placeholder:"doctor@example.com"}),a.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.phone?"border-red-300":""}`,placeholder:"(123) 456-7890"}),a.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chuyn khoa *"}),s.jsxs("select",{id:"specialty",name:"specialty",value:r.specialty,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.specialty?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn chuyn khoa"}),o.map(x=>s.jsx("option",{value:x,children:x},x))]}),a.specialty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.specialty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban *"}),s.jsxs("select",{id:"department",name:"department",value:r.department,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.department?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn phng ban"}),c.map(x=>s.jsx("option",{value:x,children:x},x))]}),a.department&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.department})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700 mb-1",children:"S nm kinh nghim *"}),s.jsx("input",{type:"number",id:"experience",name:"experience",value:r.experience,onChange:u,min:"0",className:`block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm ${a.experience?"border-red-300":""}`,placeholder:"5"}),a.experience&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.experience})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",name:"status",value:r.status,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[s.jsx("option",{value:"active",children:"ang lm vic"}),s.jsx("option",{value:"on-leave",children:"Ngh php"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngn ng *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:d.map(x=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.languages.includes(x),onChange:()=>h(x),className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:x})]},x))}),a.languages&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.languages})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu s ngh nghip"}),s.jsx("textarea",{id:"bio",name:"bio",rows:3,value:r.bio,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"M t ngn v kinh nghim v chuyn mn ca bc s..."})]})]})}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[s.jsx(F,{type:"button",variant:"secondary",onClick:y,children:"Hy"}),s.jsx(F,{type:"button",variant:"primary",onClick:g,children:"Thm bc s"})]})]})}):null},CU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState("all"),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState(!1),[y,x]=f.useState([{id:1,name:"BS. Sarah Johnson",specialty:"Bnh truyn nhim",department:"Bnh truyn nhim",email:"sarah.johnson@example.com",phone:"(123) 456-7890",status:"active",patients:42,joinDate:new Date("2020-03-15"),experience:"8",languages:["Ting Vit","English"],bio:"Bc s chuyn khoa bnh truyn nhim vi 8 nm kinh nghim trong iu tr HIV/AIDS."},{id:2,name:"BS. Robert Chen",specialty:"Ni khoa",department:"a khoa",email:"robert.chen@example.com",phone:"(123) 456-7891",status:"active",patients:38,joinDate:new Date("2018-05-20"),experience:"12",languages:["Ting Vit","English",""],bio:"Bc s a khoa vi kinh nghim phong ph trong chm sc sc khe tng qut."},{id:3,name:"BS. Emma Wilson",specialty:"Min dch hc",department:"Bnh truyn nhim",email:"emma.wilson@example.com",phone:"(123) 456-7893",status:"on-leave",patients:27,joinDate:new Date("2017-08-05"),experience:"10",languages:["Ting Vit","English"],bio:"Chuyn gia min dch hc vi focus vo HIV v cc bnh min dch."},{id:4,name:"BS. James Rodriguez",specialty:"Y hc gia nh",department:"a khoa",email:"james.rodriguez@example.com",phone:"(123) 456-7894",status:"active",patients:45,joinDate:new Date("2019-11-12"),experience:"6",languages:["Ting Vit","English","Espaol"],bio:"Bc s y hc gia nh chuyn v chm sc sc khe ton din."}]),b=[{id:1,name:"Bnh truyn nhim"},{id:2,name:"Ni khoa"},{id:3,name:"Y hc gia nh"},{id:4,name:"Min dch hc"},{id:5,name:"Tm thn hc"},{id:6,name:"Nhi khoa"}],v=[{id:1,name:"a khoa"},{id:2,name:"Bnh truyn nhim"},{id:3,name:"Chm sc bnh nhn"},{id:4,name:"T vn"},{id:5,name:"Nghin cu"}],p=k=>{x(T=>T.map(S=>S.id===k.id?k:S)),console.log("Doctor updated:",k)},j=k=>{x(T=>[...T,k]),console.log("New doctor added:",k)},N=y.filter(k=>{const T=k.name.toLowerCase().includes(t.toLowerCase())||k.email.toLowerCase().includes(t.toLowerCase())||k.phone.includes(t),S=n==="all"||k.status===n,P=i==="all"||k.specialty===i,C=l==="all"||k.department===l;return T&&S&&P&&C}),w=k=>{switch(k){case"active":return s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"ang lm vic"});case"on-leave":return s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Ngh php"});case"inactive":return s.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Khng hot ng"});default:return null}},E=k=>{h(k),g(!0)},M=()=>{h(null),g(!1)};return s.jsx(be,{currentRole:se.MANAGER,userName:"Admin",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Bc s"}),s.jsx(F,{variant:"primary",onClick:()=>d(!0),children:"Thm Bc s Mi"})]}),s.jsxs("div",{className:"mb-8 bg-white p-4 rounded-lg shadow grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tm kim"}),s.jsx("input",{type:"text",id:"search",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",placeholder:"Tm theo tn, email hoc in thoi",value:t,onChange:k=>e(k.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:n,onChange:k=>r(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"available",children:"ang lm vic"}),s.jsx("option",{value:"on-leave",children:"Ngh php"}),s.jsx("option",{value:"unavailable",children:"Khng c mt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chuyn khoa"}),s.jsxs("select",{id:"specialty",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:i,onChange:k=>a(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c chuyn khoa"}),b.map(k=>s.jsx("option",{value:k.name,children:k.name},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng ban"}),s.jsxs("select",{id:"department",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm",value:l,onChange:k=>o(k.target.value),children:[s.jsx("option",{value:"all",children:"Tt c phng ban"}),v.map(k=>s.jsx("option",{value:k.name,children:k.name},k.id))]})]})]}),s.jsxs(G,{className:"overflow-hidden mb-8",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Danh sch Bc s (",N.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chuyn khoa"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phng ban"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bnh nhn"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[N.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-blue-500 text-white rounded-full flex items-center justify-center",children:k.name.charAt(0)}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),s.jsx("div",{className:"text-sm text-gray-500",children:k.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:k.specialty})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:k.department})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(k.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.patients}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>E(k),className:"text-green-600 hover:text-green-900 mr-4",children:"Xem"}),s.jsx("button",{onClick:()=>E(k),className:"text-blue-600 hover:text-blue-900",children:"Sa"})]})]},k.id)),N.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Khng tm thy bc s no ph hp vi b lc."})})]})]})})]}),s.jsx(aT,{isOpen:m,onClose:M,doctor:u,onSave:p}),s.jsx(TU,{isOpen:c,onClose:()=>d(!1),onSave:j})]})})},EU=({isOpen:t,onClose:e,categories:n,onSave:r})=>{const[i,a]=f.useState({title:"",description:"",type:"article",category:"",status:"draft",author:"",content:"",featured:!1}),[l,o]=f.useState({}),c=[{value:"article",label:"Bi vit",icon:Ze},{value:"blog",label:"Blog",icon:Ze},{value:"video",label:"Video",icon:no},{value:"pdf",label:"PDF",icon:N0}],d=[{value:"draft",label:"Bn nhp"},{value:"under-review",label:"ang xem xt"},{value:"published",label:" xut bn"}],u=y=>{const{name:x,value:b,type:v,checked:p}=y.target;a(j=>({...j,[x]:v==="checkbox"?p:b})),l[x]&&o(j=>({...j,[x]:""}))},h=()=>{const y={};return i.title.trim()||(y.title="Vui lng nhp tiu "),i.description.trim()||(y.description="Vui lng nhp m t"),i.category||(y.category="Vui lng chn danh mc"),i.author.trim()||(y.author="Vui lng nhp tn tc gi"),i.content.trim()||(y.content="Vui lng nhp ni dung"),o(y),Object.keys(y).length===0},m=y=>{if(y.preventDefault(),h()){const x={...i,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date,views:0};r(x),g()}},g=()=>{a({title:"",description:"",type:"article",category:"",status:"draft",author:"",content:"",featured:!1}),o({}),e()};return s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:g,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"To ni dung mi"}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiu  *"}),s.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.title?"border-red-300":""}`,placeholder:"Nhp tiu  ni dung..."}),l.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tc gi *"}),s.jsx("input",{type:"text",name:"author",value:i.author,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.author?"border-red-300":""}`,placeholder:"Nhp tn tc gi..."}),l.author&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.author})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t *"}),s.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.description?"border-red-300":""}`,placeholder:"Nhp m t ngn v ni dung..."}),l.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi ni dung *"}),s.jsx("select",{name:"type",value:i.type,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:c.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Danh mc *"}),s.jsxs("select",{name:"category",value:i.category,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.category?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn danh mc"}),n.map(y=>s.jsx("option",{value:y.slug,children:y.name},y.id))]}),l.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trng thi"}),s.jsx("select",{name:"status",value:i.status,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:d.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ni dung *"}),s.jsx("textarea",{name:"content",value:i.content,onChange:u,rows:8,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.content?"border-red-300":""}`,placeholder:"Nhp ni dung chi tit..."}),l.content&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.content})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"featured",checked:i.featured,onChange:u,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"nh du l ni dung ni bt"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{type:"button",variant:"outline",onClick:g,children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",children:"To ni dung"})]})]})]})})})})]})})},DU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("all"),[i,a]=f.useState("all"),[l,o]=f.useState("all"),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,g]=f.useState([{id:1,title:"Sng khe vi HIV",description:"Hng dn ton din v cch sng khe mnh vi HIV",type:"article",category:"education",status:"published",author:"BS. Nguyn Vn A",updatedAt:new Date("2024-06-15"),featured:!0},{id:2,title:"Video: Cch ung thuc ARV ng cch",description:"Video hng dn chi tit v cch s dng thuc ARV",type:"video",category:"treatment",status:"published",author:"BS. Trn Th B",updatedAt:new Date("2024-06-10"),featured:!1},{id:3,title:"Ti liu: Dinh dng cho ngi nhim HIV",description:"Ti liu PDF v ch  dinh dng ph hp",type:"pdf",category:"nutrition",status:"draft",author:"Chuyn gia dinh dng",updatedAt:new Date("2024-06-05"),featured:!1},{id:4,title:"Blog: Cu chuyn ca ti",description:"Chia s cu chuyn c nhn t bnh nhn",type:"blog",category:"support",status:"published",author:"Bnh nhn X",updatedAt:new Date("2024-06-01"),featured:!0}]),y=[{id:"1",name:"Sng vi HIV",slug:"living-with-hiv"},{id:"2",name:"iu tr",slug:"treatment"},{id:"3",name:"Phng nga",slug:"prevention"},{id:"4",name:"H tr",slug:"support"},{id:"5",name:"Sc khe",slug:"wellness"},{id:"6",name:"Blog",slug:"blog"},{id:"7",name:"Tin tc",slug:"news"}],x=T=>{g(S=>[...S,T]),console.log("Content saved:",T)},b=T=>{alert(`Chnh sa ni dung: ${T.title}
Tnh nng ny s c trin khai trong phin bn tip theo.`)},v=T=>{window.confirm(`Bn c chc chn mun xa ni dung "${T.title}"?`)&&(g(S=>S.filter(P=>P.id!==T.id)),alert("Ni dung  c xa thnh cng!"))},p=m.filter(T=>{const S=T.title.toLowerCase().includes(t.toLowerCase())||T.description.toLowerCase().includes(t.toLowerCase())||T.author.toLowerCase().includes(t.toLowerCase()),P=n==="all"||T.status===n,C=i==="all"||T.category===i,A=l==="all"||T.type===l;return S&&P&&C&&A}),j=T=>T.toLocaleDateString("vi-VN",{month:"short",day:"numeric",year:"numeric"}),N=T=>{switch(T){case"published":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" xut bn"});case"draft":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Bn nhp"});case"under-review":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"ang xem xt"});default:return null}},w=T=>{switch(T){case"article":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Bi vit"});case"video":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Video"});case"blog":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Blog"});case"pdf":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"PDF"});case"infographic":return s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Infographic"});default:return null}},E=T=>{const S=y.find(P=>P.slug===T);return S?S.name:T},M=T=>{h(T)},k=()=>{h(null)};return s.jsxs(be,{currentRole:se.MANAGER,userName:"Alex Manager",hasNotifications:!0,children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Ni dung & Blog"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l ti liu gio dc, bi vit blog, tin tc v ni dung h tr cho bnh nhn"})]}),s.jsx(F,{variant:"primary",onClick:()=>d(!0),children:"To ni dung mi"})]}),s.jsx(G,{children:s.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tm kim"}),s.jsx("input",{type:"text",id:"search",className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Tm kim theo tiu , m t hoc tc gi...",value:t,onChange:T=>e(T.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),s.jsxs("select",{id:"status-filter",className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:n,onChange:T=>r(T.target.value),children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"published",children:" xut bn"}),s.jsx("option",{value:"draft",children:"Bn nhp"}),s.jsx("option",{value:"under-review",children:"ang xem xt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc"}),s.jsxs("select",{id:"category-filter",className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:i,onChange:T=>a(T.target.value),children:[s.jsx("option",{value:"all",children:"Tt c danh mc"}),y.map(T=>s.jsx("option",{value:T.slug,children:T.name},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi"}),s.jsxs("select",{id:"type-filter",className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:l,onChange:T=>o(T.target.value),children:[s.jsx("option",{value:"all",children:"Tt c loi"}),s.jsx("option",{value:"article",children:"Bi vit"}),s.jsx("option",{value:"blog",children:"Blog"}),s.jsx("option",{value:"video",children:"Video"}),s.jsx("option",{value:"pdf",children:"PDF"}),s.jsx("option",{value:"infographic",children:"Infographic"})]})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Ni dung & Blog"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Hin th ",p.length," / ",m.length," mc"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiu "}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Danh mc"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cp nht cui"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ni bt"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(T=>s.jsxs("tr",{className:T.featured?"bg-primary-50":"",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-start flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.title}),s.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:T.description})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(T.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:E(T.category)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(T.status)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:j(T.updatedAt)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.featured?s.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}):s.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{className:"text-primary-600 hover:text-primary-900 mr-3",onClick:()=>M(T),children:"Xem"}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",onClick:()=>b(T),children:"Sa"}),s.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>v(T),children:"Xa"})]})]},T.id))})]})}),p.length===0&&s.jsxs("div",{className:"text-center py-10",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng tm thy ni dung"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Hy iu chnh tiu ch tm kim hoc b lc ca bn."}),s.jsx("div",{className:"mt-6",children:s.jsx(F,{variant:"primary",onClick:()=>d(!0),children:"To ni dung mi"})})]})]})]}),u&&s.jsx("div",{className:"fixed inset-0 overflow-y-auto z-50",children:s.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Chi tit ni dung"}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"text-xl font-medium text-gray-900",children:u.title}),s.jsxs("div",{className:"flex flex-col items-end",children:[N(u.status),s.jsx("div",{className:"mt-1",children:w(u.type)})]})]}),s.jsx("div",{className:"mt-4 text-sm text-gray-500",children:u.description}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Danh mc"}),s.jsx("p",{className:"text-gray-900",children:E(u.category)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Tc gi"}),s.jsx("p",{className:"text-gray-900",children:u.author})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Ngy to"}),s.jsx("p",{className:"text-gray-900",children:j(u.createdAt)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Cp nht cui"}),s.jsx("p",{className:"text-gray-900",children:j(u.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Lt xem"}),s.jsx("p",{className:"text-gray-900",children:u.views||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Ni bt"}),s.jsx("p",{className:"text-gray-900",children:u.featured?"C":"Khng"})]})]})]})]})})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{},children:"Chnh sa"}),s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm",children:u.status==="published"?"Hy xut bn":"Xut bn"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:k,children:"ng"})]})]})]})}),s.jsx(EU,{isOpen:c,onClose:()=>d(!1),categories:y,onSave:x})]})},PU=({statistics:t={totalPatients:0,newPatients:0,activePatients:0,treatmentSuccess:0,avgTreatmentDuration:0,testResultsByMonth:[],patientsByAgeGroup:[],patientsByGender:[],treatmentAdherence:[]}})=>{const[e,n]=f.useState("month"),r=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-gray-500"],i=d=>d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),a=(d,u)=>u===0?0:Math.round(d/u*100),l=d=>t,o=d=>{n(d)},c=l();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Phn tch d liu iu tr HIV"}),s.jsxs("div",{className:"flex items-center space-x-2 bg-white p-1 rounded-lg shadow-sm",children:[s.jsx(F,{variant:e==="week"?"primary":"outline",size:"sm",onClick:()=>o("week"),children:"Tun"}),s.jsx(F,{variant:e==="month"?"primary":"outline",size:"sm",onClick:()=>o("month"),children:"Thng"}),s.jsx(F,{variant:e==="quarter"?"primary":"outline",size:"sm",onClick:()=>o("quarter"),children:"Qu"}),s.jsx(F,{variant:e==="year"?"primary":"outline",size:"sm",onClick:()=>o("year"),children:"Nm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tng s bnh nhn"}),s.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i(c.totalPatients)}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-green-500 text-sm font-medium",children:["+",c.newPatients]}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"bnh nhn mi"})]})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Bnh nhn ang iu tr"}),s.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i(c.activePatients)}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-gray-900 text-sm font-medium",children:[a(c.activePatients,c.totalPatients),"%"]}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"trong tng s bnh nhn"})]})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"T l iu tr thnh cng"}),s.jsxs("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:[a(c.treatmentSuccess,c.totalPatients),"%"]}),s.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${a(c.treatmentSuccess,c.totalPatients)}%`}})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Thi gian iu tr trung bnh"}),s.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:c.avgTreatmentDuration}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:"text-sm text-gray-500",children:"thng iu tr"})})]})})]}),s.jsx(G,{title:"Phn b bnh nhn theo gii tnh",children:s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"flex items-center space-x-4",children:c.patientsByGender.map((d,u)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-24 md:h-40 flex flex-col justify-end",children:s.jsx("div",{className:`${r[u%r.length]} rounded-t-full w-full`,style:{height:`${a(d.count,c.totalPatients)}%`}})}),s.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:d.gender}),s.jsxs("p",{className:"text-xs text-gray-500",children:[d.count," (",a(d.count,c.totalPatients),"%)"]})]},u))})})}),s.jsx(G,{title:"Phn b bnh nhn theo  tui",children:s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-4",children:c.patientsByAgeGroup.map((d,u)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.ageGroup}),s.jsxs("span",{className:"text-sm text-gray-500",children:[d.count," bnh nhn"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${r[u%r.length]} h-2.5 rounded-full`,style:{width:`${a(d.count,c.totalPatients)}%`}})})]},u))})})}),s.jsx(G,{title:"Mc  tun th iu tr",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"relative w-48 h-48",children:s.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:[c.treatmentAdherence.map((d,u)=>{let h=c.treatmentAdherence.reduce((w,E)=>w+E.count,0),m=c.treatmentAdherence.slice(0,u).reduce((w,E)=>w+E.count/h*360,0),g=d.count/h*360,y=m*(Math.PI/180),x=(m+g)*(Math.PI/180),b=18+15*Math.sin(y),v=18-15*Math.cos(y),p=18+15*Math.sin(x),j=18-15*Math.cos(x),N=g>180?1:0;return s.jsx("path",{d:`M 18 18 L ${b} ${v} A 15 15 0 ${N} 1 ${p} ${j} Z`,fill:d.color||r[u%r.length].replace("bg-","fill-").replace("-500","-600")},u)}),s.jsx("circle",{cx:"18",cy:"18",r:"10",fill:"white"})]})})}),s.jsx("div",{className:"mt-6 grid grid-cols-2 gap-4",children:c.treatmentAdherence.map((d,u)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${r[u%r.length]}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.level}),s.jsxs("p",{className:"text-xs text-gray-500",children:[a(d.count,c.treatmentAdherence.reduce((h,m)=>h+m.count,0)),"%"]})]})]},u))})]})}),s.jsx(G,{title:"Kt qu xt nghim theo thng",children:s.jsx("div",{className:"p-4 overflow-x-auto",children:s.jsxs("div",{className:"min-w-[600px]",children:[s.jsx("div",{className:"h-60 flex items-end space-x-2",children:c.testResultsByMonth.map((d,u)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full flex-1 flex flex-col-reverse",children:Object.entries(d.results).map(([h,m],g)=>{const y=a(m,Object.values(d.results).reduce((b,v)=>b+v,0)),x=h==="positive"?"bg-red-500":h==="negative"?"bg-green-500":"bg-yellow-500";return s.jsx("div",{className:`w-full ${x}`,style:{height:`${y}%`}},g)})}),s.jsx("p",{className:"mt-2 text-xs font-medium text-gray-900",children:d.month}),s.jsx("p",{className:"text-xs text-gray-500",children:Object.values(d.results).reduce((h,m)=>h+m,0)})]},u))}),s.jsxs("div",{className:"mt-6 flex justify-center space-x-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"m tnh"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Dng tnh"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Khng xc nh"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{variant:"outline",children:"Ti xung bo co y "})})]})},MU=()=>{const[t,e]=f.useState("month"),n=[{title:"Tng bnh nhn",value:"1,256",change:"+12.5%",changeType:"increase",icon:Rl,color:"bg-blue-100 text-blue-800"},{title:"T l thnh cng",value:"89.2%",change:"+2.1%",changeType:"increase",icon:yl,color:"bg-green-100 text-green-800"},{title:"Thi gian TB",value:"14.3 thng",change:"-0.8 thng",changeType:"decrease",icon:Ce,color:"bg-purple-100 text-purple-800"},{title:"Bnh nhn mi",value:"28",change:"+18.3%",changeType:"increase",icon:us,color:"bg-orange-100 text-orange-800"}],r={totalPatients:1256,newPatients:28,activePatients:875,treatmentSuccess:642,avgTreatmentDuration:14.3,testResultsByMonth:[{month:"T1",results:{positive:12,negative:145,undefined:3}},{month:"T2",results:{positive:8,negative:172,undefined:5}},{month:"T3",results:{positive:15,negative:163,undefined:2}},{month:"T4",results:{positive:10,negative:155,undefined:8}},{month:"T5",results:{positive:13,negative:168,undefined:4}},{month:"T6",results:{positive:9,negative:170,undefined:3}}],patientsByAgeGroup:[{ageGroup:"0-18",count:86},{ageGroup:"19-30",count:354},{ageGroup:"31-45",count:490},{ageGroup:"46-60",count:256},{ageGroup:"61+",count:70}],patientsByGender:[{gender:"Nam",count:720},{gender:"N",count:526},{gender:"Khc",count:10}],treatmentAdherence:[{level:"Tuyt i",count:425},{level:"Tt",count:210},{level:"Trung bnh",count:152},{level:"Km",count:88}]},i=()=>{console.log("Exporting analytics report...")};return s.jsx(be,{currentRole:se.MANAGER,userName:"Nguyn Qun L",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Phn tch d liu"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Theo di v phn tch d liu iu tr HIV chi tit"})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[s.jsxs("select",{className:"rounded-md border-gray-300 py-2 pl-3 pr-8 text-sm focus:border-primary-500 focus:ring-primary-500",value:t,onChange:a=>e(a.target.value),children:[s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"}),s.jsx("option",{value:"quarter",children:"Qu ny"}),s.jsx("option",{value:"year",children:"Nm nay"})]}),s.jsxs(F,{variant:"outline",className:"flex items-center",onClick:i,children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Xut bo co"]})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tng quan nhanh"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((a,l)=>s.jsx(G,{className:"bg-white",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:`p-3 rounded-lg ${a.color}`,children:s.jsx(a.icon,{className:"h-6 w-6"})}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-sm font-medium ${a.changeType==="increase"?"text-green-600":"text-red-600"}`,children:a.change})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.value}),s.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:a.title})]})]})},l))})]}),s.jsx("div",{className:"mb-8",children:s.jsx(PU,{statistics:r})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(G,{title:"Thng tin quan trng",className:"h-full",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(yl,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Xu hng tch cc"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"T l tun th iu tr tng 12.5% so vi thng trc"})]})]})}),s.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Rl,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-green-900",children:"Bnh nhn mi"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"28 bnh nhn mi ng k iu tr trong thng ny"})]})]})}),s.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ce,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"Cn ch "}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"88 bnh nhn c mc  tun th iu tr km"})]})]})})]})}),s.jsx(G,{title:"Bo co gn y",className:"h-full",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ve,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Bo co thng 6/2024"}),s.jsx("p",{className:"text-xs text-gray-600",children:"To ngy 30/06/2024"})]})]}),s.jsx(F,{variant:"outline",size:"sm",children:"Xem"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(us,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Phn tch qu 2/2024"}),s.jsx("p",{className:"text-xs text-gray-600",children:"To ngy 28/06/2024"})]})]}),s.jsx(F,{variant:"outline",size:"sm",children:"Xem"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yl,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Bo co hiu qu iu tr"}),s.jsx("p",{className:"text-xs text-gray-600",children:"To ngy 25/06/2024"})]})]}),s.jsx(F,{variant:"outline",size:"sm",children:"Xem"})]})]})})]})]})})},_U=({isOpen:t,onClose:e,doctors:n,onSave:r})=>{const[i,a]=f.useState({doctorId:"",date:"",startTime:"08:00",endTime:"17:00",type:"regular",maxSlots:20,notes:"",recurring:!1,recurringDays:[],endDate:""}),[l,o]=f.useState({}),c=[{value:"regular",label:"Lch thng xuyn"},{value:"half-day",label:"Na ngy"},{value:"evening",label:"Ca ti"},{value:"counseling",label:"T vn"}],d=["06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00"],u=v=>{const{name:p,value:j,type:N,checked:w}=v.target;a(E=>({...E,[p]:N==="checkbox"?w:j})),l[p]&&o(E=>({...E,[p]:""}))},h=v=>{a(p=>({...p,recurringDays:p.recurringDays.includes(v)?p.recurringDays.filter(j=>j!==v):[...p.recurringDays,v]}))},m=()=>{const v={};return i.doctorId||(v.doctorId="Vui lng chn bc s"),i.date||(v.date="Vui lng chn ngy"),i.startTime&&i.endTime&&i.startTime>=i.endTime&&(v.endTime="Gi kt thc phi sau gi bt u"),(!i.maxSlots||i.maxSlots<1)&&(v.maxSlots="S lng slot phi ln hn 0"),i.recurring&&i.recurringDays.length===0&&(v.recurringDays="Vui lng chn t nht mt ngy trong tun"),i.recurring&&!i.endDate&&(v.endDate="Vui lng chn ngy kt thc cho lch lp li"),i.recurring&&i.endDate&&new Date(i.endDate)<=new Date(i.date)&&(v.endDate="Ngy kt thc phi sau ngy bt u"),o(v),Object.keys(v).length===0},g=v=>{if(v.preventDefault(),m()){if(i.recurring){const p=y();r(p)}else{const p={...i,id:Date.now().toString(),status:"confirmed",bookedSlots:0,isRecurring:!1};r(p)}x()}},y=()=>{const v=[],p=new Date(i.date),j=new Date(i.endDate),N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(let w=new Date(p);w<=j;w.setDate(w.getDate()+1)){const E=N[w.getDay()];i.recurringDays.includes(E)&&v.push({...i,id:`${Date.now()}-${w.getTime()}`,date:w.toISOString().split("T")[0],status:"confirmed",bookedSlots:0,isRecurring:!0})}return v},x=()=>{a({doctorId:"",date:"",startTime:"08:00",endTime:"17:00",type:"regular",maxSlots:20,notes:"",recurring:!1,recurringDays:[],endDate:""}),o({}),e()},b=()=>n.find(v=>v.id===i.doctorId);return s.jsx(Vt,{appear:!0,show:t,as:f.Fragment,children:s.jsxs(ut,{as:"div",className:"relative z-50",onClose:x,children:[s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Vt.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(ut.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(ut.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Thm lch lm vic mi"}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:s.jsx(et,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bc s *"}),s.jsxs("select",{name:"doctorId",value:i.doctorId,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.doctorId?"border-red-300":""}`,children:[s.jsx("option",{value:"",children:"Chn bc s"}),n.map(v=>s.jsxs("option",{value:v.id,children:[v.name," - ",v.specialty]},v.id))]}),l.doctorId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.doctorId})]}),b()&&s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{className:"h-10 w-10 rounded-full",src:b().avatar,alt:""})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b().name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[b().specialty,"  ",b().department]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Gi lm vic thng: ",b().workingHours]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy *"}),s.jsx("input",{type:"date",name:"date",value:i.date,onChange:u,min:new Date().toISOString().split("T")[0],className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.date?"border-red-300":""}`}),l.date&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi lch"}),s.jsx("select",{name:"type",value:i.type,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:c.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi bt u *"}),s.jsx("select",{name:"startTime",value:i.startTime,onChange:u,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:d.map(v=>s.jsx("option",{value:v,children:v},v))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi kt thc *"}),s.jsx("select",{name:"endTime",value:i.endTime,onChange:u,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.endTime?"border-red-300":""}`,children:d.map(v=>s.jsx("option",{value:v,children:v},v))}),l.endTime&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.endTime})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S bnh nhn ti a *"}),s.jsx("input",{type:"number",name:"maxSlots",value:i.maxSlots,onChange:u,min:"1",max:"50",className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.maxSlots?"border-red-300":""}`}),l.maxSlots&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.maxSlots})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",name:"recurring",checked:i.recurring,onChange:u,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm font-medium text-gray-700",children:"Lp li theo tun"})]}),i.recurring&&s.jsxs("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn cc ngy trong tun *"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:[{value:"monday",label:"T2"},{value:"tuesday",label:"T3"},{value:"wednesday",label:"T4"},{value:"thursday",label:"T5"},{value:"friday",label:"T6"},{value:"saturday",label:"T7"},{value:"sunday",label:"CN"}].map(v=>s.jsxs("label",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"checkbox",checked:i.recurringDays.includes(v.value),onChange:()=>h(v.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-xs text-gray-600 mt-1",children:v.label})]},v.value))}),l.recurringDays&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.recurringDays})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy kt thc lp li *"}),s.jsx("input",{type:"date",name:"endDate",value:i.endDate,onChange:u,min:i.date||new Date().toISOString().split("T")[0],className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${l.endDate?"border-red-300":""}`}),l.endDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.endDate}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lch s c to cho tt c cc ngy  chn trong khong thi gian ny"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi ch"}),s.jsx("textarea",{name:"notes",value:i.notes,onChange:u,rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Thm ghi ch v lch lm vic ny..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(F,{type:"button",variant:"outline",onClick:x,children:"Hy"}),s.jsx(F,{type:"submit",variant:"primary",children:i.recurring?"To lch lp li":"To lch lm vic"})]})]})]})})})})]})})},LU=()=>{f.useState(new Date),f.useState("all");const[t,e]=f.useState(!1),[n,r]=f.useState(!1),[i,a]=f.useState(null),[l,o]=f.useState([{id:"1",name:"BS. Sarah Johnson",specialty:"Bnh truyn nhim",department:"Khoa Bnh truyn nhim",email:"sarah.johnson@hospital.com",phone:"(123) 456-7890",status:"active",workingHours:"08:00-17:00",maxPatientsPerDay:20,experience:"8",languages:["Ting Vit","English"],bio:"Bc s chuyn khoa bnh truyn nhim vi 8 nm kinh nghim trong iu tr HIV/AIDS."},{id:"2",name:"BS. Robert Chen",specialty:"a khoa",department:"Khoa a khoa",email:"robert.chen@hospital.com",phone:"(123) 456-7891",status:"active",workingHours:"08:00-17:00",maxPatientsPerDay:25,experience:"12",languages:["Ting Vit","English",""],bio:"Bc s a khoa vi kinh nghim phong ph trong chm sc sc khe tng qut."},{id:"3",name:"BS. Michael Brown",specialty:"Bnh truyn nhim",department:"Khoa Bnh truyn nhim",email:"michael.brown@hospital.com",phone:"(123) 456-7892",status:"active",workingHours:"13:00-21:00",maxPatientsPerDay:18,experience:"6",languages:["Ting Vit","English"],bio:"Chuyn gia tr trong lnh vc bnh truyn nhim v y hc nhit i."}]),[c,d]=f.useState([{id:"1",doctorId:"1",date:"2024-03-25",startTime:"08:00",endTime:"17:00",type:"regular",status:"confirmed",bookedSlots:15,maxSlots:20,notes:"Lch khm thng xuyn"},{id:"2",doctorId:"2",date:"2024-03-25",startTime:"08:00",endTime:"17:00",type:"regular",status:"confirmed",bookedSlots:22,maxSlots:25,notes:"Lch khm thng xuyn"}]),u=g=>{a(g),r(!0)},h=g=>{o(y=>y.map(x=>x.id===g.id?g:x)),console.log("Doctor updated:",g)},m=g=>{Array.isArray(g)?(d(y=>[...y,...g]),console.log("Multiple schedules saved:",g),alert(` to ${g.length} lch lm vic lp li thnh cng!`)):(d(y=>[...y,g]),console.log("Schedule saved:",g),alert("Lch lm vic  c to thnh cng!"))};return l.length.toString(),c.length.toString(),s.jsx(be,{currentRole:se.MANAGER,userName:"Alex Manager",children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lch lm vic bc s"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l v ln lch lm vic thng minh cho i ng bc s"})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[s.jsxs(F,{variant:"outline",onClick:()=>e(!0),children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Thm lch bc s"]}),s.jsx(F,{variant:"primary",children:"Xut lch tun"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Danh sch bc s"}),s.jsx("div",{className:"space-y-4",children:l.map(g=>s.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>u(g),children:[s.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Be,{className:"h-6 w-6 text-primary-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsx("p",{className:"text-sm text-gray-500",children:g.specialty}),s.jsx("p",{className:"text-xs text-gray-400",children:g.workingHours})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Hot ng"})})]},g.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lch tun"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(F,{variant:"outline",size:"sm",children:""}),s.jsx("span",{className:"text-sm font-medium text-gray-900 px-4",children:"Tun ny"}),s.jsx(F,{variant:"outline",size:"sm",children:""})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"Bc s"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T2"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T3"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T4"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T5"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T6"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"T7"}),s.jsx("th",{className:"text-center py-3 px-2 text-sm font-medium text-gray-500",children:"CN"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Be,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsx("div",{className:"text-xs text-gray-500",children:g.specialty})]})]})}),[...Array(7)].map((y,x)=>{const b=new Date,v=new Date(b.setDate(b.getDate()-b.getDay()+1)),p=new Date(v);p.setDate(v.getDate()+x);const j=p.toISOString().split("T")[0],N=c.filter(w=>w.doctorId===g.id&&w.date===j);return s.jsx("td",{className:"py-4 px-2 text-center",children:s.jsxs("div",{className:"space-y-1",children:[N.map(w=>s.jsxs("div",{className:`text-xs px-2 py-1 rounded ${w.isRecurring?"bg-purple-100 text-purple-800 border border-purple-200":"bg-blue-100 text-blue-800"}`,children:[s.jsxs("div",{className:"font-medium",children:[w.startTime,"-",w.endTime]}),w.isRecurring&&s.jsx("div",{className:"text-xs opacity-75",children:" Lp li"}),s.jsx("div",{className:"text-xs opacity-75",children:w.type})]},w.id)),s.jsx("button",{className:"w-full h-8 border-2 border-dashed border-gray-300 rounded flex items-center justify-center hover:border-primary-400 hover:bg-primary-50",onClick:()=>e(!0),children:s.jsx(cs,{className:"h-4 w-4 text-gray-400"})})]})},x)})]},g.id))})]})})]})})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(G,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tm tt lch lm vic"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Tng ca lm vic"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(g=>g.status==="confirmed").length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Ca  xc nhn"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.filter(g=>g.isRecurring).length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Ca lp li"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.reduce((g,y)=>g+(y.maxSlots||0),0)}),s.jsx("div",{className:"text-sm text-gray-500",children:"Tng slot bnh nhn"})]})]}),c.length>0&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Lch lm vic gn y"}),s.jsx("div",{className:"space-y-2",children:c.slice(-3).map(g=>{const y=l.find(x=>x.id===g.doctorId);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Be,{className:"h-4 w-4 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(y==null?void 0:y.name)||"Unknown Doctor"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[g.date,"  ",g.startTime,"-",g.endTime]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[g.isRecurring&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:" Lp li"}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:g.status})]})]},g.id)})})]})]})}),s.jsx(_U,{isOpen:t,onClose:()=>e(!1),doctors:l,onSave:m}),s.jsx(aT,{isOpen:n,onClose:()=>r(!1),doctor:i,onSave:h})]})})},AU=()=>{const[t,e]=f.useState({fullName:"Nguyn Qun L",email:"manager@example.com",phone:"(123) 456-7896",language:"vi",notifications:{email:!0,browser:!0,reports:!0,staff:!0,system:!0},theme:"light",fontSize:"medium",managementSettings:{autoApproveReports:!1,requireApprovalForSchedule:!0,enableStaffNotifications:!0},reportSettings:{defaultReportPeriod:"monthly",autoGenerateReports:!0,emailReports:!0}}),n=i=>{const{name:a,value:l,type:o,checked:c}=i.target;if(a.includes(".")){const[d,u]=a.split(".");e({...t,[d]:{...t[d],[u]:o==="checkbox"?c:l}})}else e({...t,[a]:o==="checkbox"?c:l})},r=i=>{i.preventDefault(),console.log("Manager settings updated:",t),alert("Ci t  c cp nht!")};return s.jsx(be,{currentRole:se.MANAGER,userName:t.fullName,children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t qun l"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Qun l thng tin c nhn, bo co v ty chn qun l"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{title:"Thng tin c nhn",children:s.jsxs("form",{onSubmit:r,className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fullName",children:"H v tn"}),s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phone",children:"S in thoi"}),s.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"language",children:"Ngn ng"}),s.jsxs("select",{id:"language",name:"language",value:t.language,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"vi",children:"Ting Vit"}),s.jsx("option",{value:"en",children:"Ting Anh"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"submit",variant:"primary",children:"Lu thay i"})})]})}),s.jsx(G,{title:"Ci t qun l",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"managementSettings.autoApproveReports",name:"managementSettings.autoApproveReports",type:"checkbox",checked:t.managementSettings.autoApproveReports,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"managementSettings.autoApproveReports",className:"ml-2 block text-sm text-gray-700",children:"T ng ph duyt bo co"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"managementSettings.requireApprovalForSchedule",name:"managementSettings.requireApprovalForSchedule",type:"checkbox",checked:t.managementSettings.requireApprovalForSchedule,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"managementSettings.requireApprovalForSchedule",className:"ml-2 block text-sm text-gray-700",children:"Yu cu ph duyt lch trnh"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"managementSettings.enableStaffNotifications",name:"managementSettings.enableStaffNotifications",type:"checkbox",checked:t.managementSettings.enableStaffNotifications,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"managementSettings.enableStaffNotifications",className:"ml-2 block text-sm text-gray-700",children:"Bt thng bo cho nhn vin"})]})]})})}),s.jsx(G,{title:"Ci t bo co",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"reportSettings.defaultReportPeriod",children:"Chu k bo co mc nh"}),s.jsxs("select",{id:"reportSettings.defaultReportPeriod",name:"reportSettings.defaultReportPeriod",value:t.reportSettings.defaultReportPeriod,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"weekly",children:"Hng tun"}),s.jsx("option",{value:"monthly",children:"Hng thng"}),s.jsx("option",{value:"quarterly",children:"Hng qu"}),s.jsx("option",{value:"yearly",children:"Hng nm"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"reportSettings.autoGenerateReports",name:"reportSettings.autoGenerateReports",type:"checkbox",checked:t.reportSettings.autoGenerateReports,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"reportSettings.autoGenerateReports",className:"ml-2 block text-sm text-gray-700",children:"T ng to bo co"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"reportSettings.emailReports",name:"reportSettings.emailReports",type:"checkbox",checked:t.reportSettings.emailReports,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"reportSettings.emailReports",className:"ml-2 block text-sm text-gray-700",children:"Gi bo co qua email"})]})]})})}),s.jsx(G,{title:"Ci t thng bo",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Knh thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.email",name:"notifications.email",type:"checkbox",checked:t.notifications.email,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.email",className:"ml-2 block text-sm text-gray-700",children:"Email"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.browser",name:"notifications.browser",type:"checkbox",checked:t.notifications.browser,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.browser",className:"ml-2 block text-sm text-gray-700",children:"Thng bo trong ng dng"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loi thng bo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.reports",name:"notifications.reports",type:"checkbox",checked:t.notifications.reports,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.reports",className:"ml-2 block text-sm text-gray-700",children:"Bo co mi"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.staff",name:"notifications.staff",type:"checkbox",checked:t.notifications.staff,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.staff",className:"ml-2 block text-sm text-gray-700",children:"Hot ng nhn vin"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"notifications.system",name:"notifications.system",type:"checkbox",checked:t.notifications.system,onChange:n,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"notifications.system",className:"ml-2 block text-sm text-gray-700",children:"Thng bo h thng"})]})]})]})]})})}),s.jsx(G,{title:"Ty chn hin th",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"theme",children:"Giao din"}),s.jsxs("select",{id:"theme",name:"theme",value:t.theme,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"light",children:"Sng"}),s.jsx("option",{value:"dark",children:"Ti"}),s.jsx("option",{value:"auto",children:"T ng"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"fontSize",children:"Kch thc ch"}),s.jsxs("select",{id:"fontSize",name:"fontSize",value:t.fontSize,onChange:n,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"small",children:"Nh"}),s.jsx("option",{value:"medium",children:"Va"}),s.jsx("option",{value:"large",children:"Ln"})]})]})]})})})]})]})})},lT=({isOpen:t,onClose:e,onSave:n,editingUser:r,isLoading:i})=>{const[a,l]=f.useState(null),o=()=>{const N={fullName:Rt().min(2,"Tn phi c t nht 2 k t").max(50,"Tn khng c vt qu 50 k t"),email:Rt().email("Email khng hp l"),role:L0([se.ADMIN,se.MANAGER,se.DOCTOR,se.STAFF,se.CUSTOMER]),phoneNumber:Rt().regex(/^[0-9]{10}$/,"S in thoi phi c 10 ch s"),address:Rt().min(5,"a ch phi c t nht 5 k t").max(200,"a ch khng c vt qu 200 k t"),dateOfBirth:Rt().refine(w=>{if(!w)return!1;const E=new Date,M=new Date(w);return E.getFullYear()-M.getFullYear()>=18},"Ngi dng phi t 18 tui tr ln"),gender:L0(["MALE","FEMALE","OTHER"],{required_error:"Gii tnh l bt buc"}),department:Rt().optional().superRefine((w,E)=>{var T;const M=(T=E.parent)==null?void 0:T.role;if(!M)return;[se.DOCTOR,se.STAFF,se.MANAGER,se.ADMIN].includes(M)&&(!w||w.trim()==="")&&E.addIssue({code:le.custom,message:"Khoa/Phng ban l bt buc cho vai tr ny"})})};return r?Th({...N,fullName:N.fullName,email:N.email,role:N.role,phoneNumber:Rt().regex(/^[0-9]{10}$/,"S in thoi phi c 10 ch s").optional().or(_f("")),address:Rt().min(5).max(200).optional().or(_f("")),dateOfBirth:Rt().optional().or(_f(""))}):Th({...N,password:Rt().min(8,"Mt khu phi c t nht 8 k t").regex(/[A-Z]/,"Mt khu phi cha t nht 1 ch hoa").regex(/[a-z]/,"Mt khu phi cha t nht 1 ch thng").regex(/[0-9]/,"Mt khu phi cha t nht 1 s").regex(/[^A-Za-z0-9]/,"Mt khu phi cha t nht 1 k t c bit"),confirmPassword:Rt()}).refine(w=>w.password===w.confirmPassword,{message:"Mt khu xc nhn khng khp",path:["confirmPassword"]})},{register:c,handleSubmit:d,formState:{errors:u,isSubmitting:h},reset:m,setValue:g,watch:y}=B4({resolver:X4(o()),defaultValues:{role:se.CUSTOMER,department:"",gender:"MALE"},mode:"onBlur"}),x=y("role"),b=["DOCTOR","STAFF","MANAGER","ADMIN"].includes(x);f.useEffect(()=>{console.log("Form values changed:",y()),console.log("Form errors:",u),console.log("showDepartment:",b,"selectedRole:",x)},[y(),u,b,x]);const v=["Khoa Ni","Khoa Ngoi","Khoa Cp cu","Khoa Bnh truyn nhim","Khoa Xt nghim"],p=["Phng K hoch","Phng Ti chnh","Phng Hnh chnh","Phng IT"];f.useEffect(()=>{console.log("editingUser changed:",r),l(null);const N=r?{fullName:r.fullName||"",email:r.email||"",role:r.role||se.CUSTOMER,phoneNumber:r.phoneNumber||"",address:r.address||"",dateOfBirth:r.dateOfBirth||"",gender:r.gender||"MALE",department:r.department||""}:{fullName:"",email:"",role:se.CUSTOMER,phoneNumber:"",address:"",dateOfBirth:"",gender:"MALE",department:"",password:"",confirmPassword:""};console.log("Setting form defaults:",N),m(N),r!=null&&r.role&&setTimeout(()=>{g("role",r.role)},0)},[r,m,g]),f.useEffect(()=>{console.log("Selected role changed:",x),x===se.CUSTOMER&&g("department","")},[x,g]);const j=async N=>{var w,E;if(console.log("Form submission attempt with data:",N),l(null),Object.keys(u).length>0){console.error("Form has validation errors:",u);return}try{const M={name:N.fullName,email:N.email,phone:N.phoneNumber||"",address:N.address||"",birthdate:N.dateOfBirth||null,role:N.role||se.CUSTOMER,gender:N.gender||"MALE",department:N.department||null};r!=null&&r.id&&(M.id=r.id),!r&&N.password&&(M.password=N.password),console.log("Submitting user data to API:",M);const k=await n(M);if(console.log("Form submission result:",k),!k||!k.success){let T=(k==null?void 0:k.message)||(k==null?void 0:k.error)||"Failed to save user. Please try again.";T.includes("Email already exists")?(l("Email  tn ti trong h thng. Vui lng s dng email khc."),(w=document.querySelector('input[name="email"]'))==null||w.focus()):T.includes("Phone number already exists")?(l("S in thoi  tn ti trong h thng. Vui lng s dng s in thoi khc."),(E=document.querySelector('input[name="phoneNumber"]'))==null||E.focus()):l(T);return}console.log("Form submission successful"),e(),m()}catch(M){console.error("Error saving user:",M),l(M.message||"An error occurred while saving user data.")}};return s.jsx(ut,{open:t,onClose:e,className:"fixed z-50 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[s.jsx(ut.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),s.jsxs("div",{className:"relative bg-white rounded-lg w-full max-w-2xl mx-4 p-6",children:[i&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(at,{className:"h-8 w-8 animate-spin text-primary-600"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"ang x l..."})]})}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx(ut.Title,{className:"text-2xl font-semibold text-gray-900",children:r?"Chnh sa ti khon":"Thm ti khon mi"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",disabled:i,children:s.jsx(et,{className:"h-6 w-6"})})]}),a&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md flex items-start",children:[s.jsx(ze,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-red-600",children:a})]}),s.jsxs("form",{onSubmit:d(j),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H tn"}),s.jsx("input",{type:"text",...c("fullName"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.fullName?"border-red-300":"border-gray-300"}`}),u.fullName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.fullName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",...c("email"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.email?"border-red-300":"border-gray-300"}`}),u.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S in thoi"}),s.jsx("input",{type:"tel",...c("phoneNumber"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.phoneNumber?"border-red-300":"border-gray-300"}`}),u.phoneNumber&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.phoneNumber.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy sinh"}),s.jsx("input",{type:"date",...c("dateOfBirth"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.dateOfBirth?"border-red-300":"border-gray-300"}`}),u.dateOfBirth&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.dateOfBirth.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"a ch"}),s.jsx("input",{type:"text",...c("address"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.address?"border-red-300":"border-gray-300"}`}),u.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.address.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gii tnh"}),s.jsxs("select",{...c("gender"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.gender?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"MALE",children:"Nam"}),s.jsx("option",{value:"FEMALE",children:"N"}),s.jsx("option",{value:"OTHER",children:"Khc"})]}),u.gender&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.gender.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr"}),s.jsxs("select",{...c("role"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.role?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:se.CUSTOMER,children:"Bnh nhn"}),s.jsx("option",{value:se.STAFF,children:"Nhn vin"}),s.jsx("option",{value:se.DOCTOR,children:"Bc s"}),s.jsx("option",{value:se.MANAGER,children:"Qun l"}),s.jsx("option",{value:se.ADMIN,children:"Admin"})]}),u.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.role.message})]}),b&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Khoa/Phng ban"}),s.jsxs("select",{...c("department"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.department?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Chn khoa/phng ban"}),s.jsx("optgroup",{label:"Khoa Y t",children:v.map(N=>s.jsx("option",{value:N,children:N},N))}),s.jsx("optgroup",{label:"Phng ban Hnh chnh",children:p.map(N=>s.jsx("option",{value:N,children:N},N))})]}),u.department&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.department.message})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu"}),s.jsx("input",{type:"password",...c("password"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.password?"border-red-300":"border-gray-300"}`}),u.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xc nhn mt khu"}),s.jsx("input",{type:"password",...c("confirmPassword"),className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${u.confirmPassword?"border-red-300":"border-gray-300"}`}),u.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword.message})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[s.jsx(F,{type:"button",onClick:e,disabled:i,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Hy"}),s.jsx(F,{type:"submit",disabled:i,className:"bg-primary-600 text-white hover:bg-primary-700 flex items-center",children:i?s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"ang x l..."]}):r?"Cp nht":"Thm mi"})]})]})]})]})})},RU=()=>{const[t,e]=f.useState(!1),n={admin:{total:5,trend:"+1",percentage:"+25%",icon:Al,color:"from-red-500 to-red-600"},staff:{total:200,trend:"+15",percentage:"+8.1%",icon:$r,color:"from-green-500 to-green-600"},doctor:{total:150,trend:"+10",percentage:"+7.1%",icon:Be,color:"from-blue-500 to-blue-600"},manager:{total:20,trend:"+2",percentage:"+11.1%",icon:MA,color:"from-purple-500 to-purple-600"}},r=[{id:1,type:"warning",title:"Cnh bo bo mt",message:"Pht hin nhiu ln ng nhp tht bi t IP 192.168.1.100",timestamp:"2 gi trc",priority:"high"},{id:2,type:"info",title:"Cp nht h thng",message:"Bn cp nht mi v2.1.0  sn sng  ci t",timestamp:"4 gi trc",priority:"medium"},{id:3,type:"success",title:"Sao lu thnh cng",message:"Sao lu d liu t ng hon tt lc 03:00 AM",timestamp:"1 ngy trc",priority:"low"}],i=a=>{console.log("New user created:",a),alert(` to ngi dng mi: ${a.fullName}`)};return s.jsx(be,{currentRole:se.ADMIN,userName:"Admin",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bng iu khin Admin"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Qun l ti khon v gim st h thng"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Object.entries(n).map(([a,l])=>s.jsx(G,{className:`bg-gradient-to-br ${l.color} text-white transform hover:scale-105 transition-transform duration-200`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium opacity-80 capitalize",children:a}),s.jsx("h3",{className:"text-3xl font-bold mt-2",children:l.total})]}),s.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:s.jsx(l.icon,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[s.jsx(yl,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:l.trend}),s.jsxs("span",{className:"ml-2 opacity-80",children:["(",l.percentage,")"]})]})]})},a))}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(w0,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Cnh bo h thng"]}),s.jsx("div",{className:"space-y-4",children:r.map(a=>s.jsx(G,{className:`
                transform hover:scale-[1.01] transition-transform duration-200
                ${a.type==="warning"?"bg-yellow-50 border-yellow-200":a.type==="info"?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}
              `,children:s.jsxs("div",{className:"p-4 flex items-start",children:[s.jsx("div",{className:`
                    p-2 rounded-full mr-4
                    ${a.type==="warning"?"bg-yellow-100":a.type==="info"?"bg-blue-100":"bg-green-100"}
                  `,children:a.type==="warning"?s.jsx(ze,{className:"h-5 w-5 text-yellow-700"}):a.type==="info"?s.jsx(w0,{className:"h-5 w-5 text-blue-700"}):s.jsx(Xe,{className:"h-5 w-5 text-green-700"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:`
                        font-medium
                        ${a.type==="warning"?"text-yellow-800":a.type==="info"?"text-blue-800":"text-green-800"}
                      `,children:a.title}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(Ce,{className:"h-4 w-4 mr-1"}),a.timestamp]})]}),s.jsx("p",{className:"text-gray-600 mt-1",children:a.message}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsx("div",{className:`
                        text-xs px-2 py-1 rounded-full
                        ${a.priority==="high"?"bg-red-100 text-red-800":a.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}
                      `,children:a.priority==="high"?"u tin cao":a.priority==="medium"?"u tin trung bnh":"u tin thp"}),s.jsx(F,{className:"text-sm text-primary-600 hover:text-primary-700",children:"Xem chi tit"})]})]})]})},a.id))})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(G,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[s.jsx(us,{className:"h-6 w-6 mr-2 text-primary-600"}),"Tng quan h thng"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-200",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"3"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Trang qun tr"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Tp trung ct li"})]}),s.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-200",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:"15+"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Component hon thin"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"UI chuyn nghip"})]}),s.jsxs("div",{className:"text-center transform hover:scale-105 transition-transform duration-200",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"100%"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Tnh nng hon thnh"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Sn sng sn xut"})]})]})]})}),s.jsx("div",{className:"flex justify-end space-x-4",children:s.jsxs(F,{className:"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2.5 rounded-lg shadow-sm",children:[s.jsx(An,{className:"h-5 w-5"}),s.jsx("span",{children:"Xut d liu"})]})}),s.jsx(lT,{isOpen:t,onClose:()=>e(!1),onSave:i})]})})},Yi="http://localhost:8080/api";Q.interceptors.response.use(t=>t,t=>{var e,n;return console.error("API Error:",((e=t.response)==null?void 0:e.data)||t.message),((n=t.response)==null?void 0:n.status)===401&&console.log("Unauthorized access, redirecting to login"),Promise.reject(t)});const Ua={async getUsers(t={}){try{const e=new URLSearchParams;t.searchTerm&&e.append("search",t.searchTerm),t.role&&e.append("role",t.role),t.status&&e.append("status",t.status),t.dateFilter&&e.append("dateFilter",t.dateFilter),t.sortBy&&e.append("sortBy",t.sortBy),t.sortDirection&&e.append("sortDirection",t.sortDirection),t.page&&e.append("page",t.page-1),t.limit&&e.append("size",t.limit);try{const n=await Q.get(`${Yi}/admin/users`,{params:e});return this.standardizeResponse(n)}catch(n){throw console.error("API Error in getUsers:",n),n}}catch(e){return this.handleError(e,"Error fetching users")}},getMockUsers(t={}){console.log("Generating mock user data");let n=[...[{id:1,name:"Admin User",username:"admin",email:"admin@example.com",role:"ADMIN",status:"ACTIVE",created_at:"2023-01-01T00:00:00.000Z",last_login_at:"2023-07-25T10:30:00.000Z",avatar_url:null},{id:2,name:"Doctor User",username:"doctor",email:"doctor@example.com",role:"DOCTOR",status:"ACTIVE",created_at:"2023-02-15T00:00:00.000Z",last_login_at:"2023-07-24T14:20:00.000Z",avatar_url:null},{id:3,name:"Staff User",username:"staff",email:"staff@example.com",role:"STAFF",status:"ACTIVE",created_at:"2023-03-10T00:00:00.000Z",last_login_at:"2023-07-23T09:15:00.000Z",avatar_url:null},{id:4,name:"Patient User",username:"patient",email:"patient@example.com",role:"CUSTOMER",status:"INACTIVE",created_at:"2023-04-05T00:00:00.000Z",last_login_at:null,avatar_url:null}]];if(t.role&&(n=n.filter(c=>c.role===t.role)),t.status&&(n=n.filter(c=>c.status.toLowerCase()===t.status.toLowerCase())),t.searchTerm){const c=t.searchTerm.toLowerCase();n=n.filter(d=>d.name.toLowerCase().includes(c)||d.email.toLowerCase().includes(c)||d.username.toLowerCase().includes(c))}if(t.sortBy){const c=t.sortBy,d=t.sortDirection==="desc"?-1:1;n.sort((u,h)=>{let m=u[c]||"",g=h[c]||"";return typeof m=="string"&&(m=m.toLowerCase(),g=g.toLowerCase()),m>g?d:-d})}const r=t.page||1,i=t.limit||10,a=(r-1)*i,l=r*i,o=n.slice(a,l);return{success:!0,data:{content:o,totalElements:n.length,totalPages:Math.ceil(n.length/i),size:i,number:r-1,numberOfElements:o.length}}},async getUserById(t){try{const e=await Q.get(`${Yi}/admin/users/${t}`);return this.standardizeResponse(e)}catch(e){this.handleError(e,`Error fetching user with ID ${t}`)}},async createUser(t){var e,n;try{console.log("Creating user with data:",t);const r=await Q.post(`${Yi}/admin/users`,{name:t.name,email:t.email,password:t.password,role:t.role,phone:t.phone||"",birthdate:t.birthdate||null,address:t.address||"",gender:t.gender||"MALE",department:t.department||null});return console.log("Create user response:",r),this.standardizeResponse(r)}catch(r){console.error("API Error in createUser:",((e=r.response)==null?void 0:e.data)||r.message);let i="Error creating user";return(n=r.response)!=null&&n.data?typeof r.response.data=="object"?i=r.response.data.message||"Unknown server error":i=r.response.data:r.message&&(i=r.message),{success:!1,error:i}}},async updateUser(t,e){try{const n=await Q.put(`${Yi}/admin/users/${t}`,{name:e.name,email:e.email,password:e.password,role:e.role,phone:e.phone||"",birthdate:e.birthdate||null,address:e.address||"",gender:e.gender||"MALE",status:e.status,department:e.department||null});return this.standardizeResponse(n)}catch(n){this.handleError(n,`Error updating user with ID ${t}`)}},async deleteUser(t){try{const e=await Q.delete(`${Yi}/admin/users/${t}`);return this.standardizeResponse(e)}catch(e){this.handleError(e,`Error deleting user with ID ${t}`)}},async changeUserStatus(t,e){try{const n=await Q.patch(`${Yi}/admin/users/${t}/status`,{status:e});return this.standardizeResponse(n)}catch(n){this.handleError(n,`Error changing status for user with ID ${t}`)}},async getUserStats(){try{const t=await Q.get(`${Yi}/admin/users/stats`);return this.standardizeResponse(t)}catch(t){this.handleError(t,"Error fetching user statistics")}},formatUserData(t){return t?{id:t.id||"unknown",avatar:t.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"Unknown")}&background=random`,fullName:t.name||"Unknown User",username:t.username||(t.email?t.email.split("@")[0]:"unknown"),email:t.email||"unknown@example.com",role:t.role||"UNKNOWN",status:t.status?t.status.toLowerCase():"inactive",createdAt:t.created_at||new Date().toISOString(),lastLogin:t.last_login_at||null,department:t.department||"",phoneNumber:t.phone||"",address:t.address||"",dateOfBirth:t.birthdate||null}:(console.error("Received null or undefined user data"),{id:"unknown",avatar:"https://ui-avatars.com/api/?name=Unknown&background=random",fullName:"Unknown User",username:"unknown",email:"unknown@example.com",role:"UNKNOWN",status:"inactive",createdAt:new Date().toISOString(),lastLogin:null})},standardizeResponse(t){if(!t||!t.data)throw new Error("Invalid API response");if(t.data.success===!1)throw new Error(t.data.message||"API operation failed");return t.data.data?{...t.data,data:t.data.data}:t.data.content?{...t.data,data:{content:t.data.content,totalElements:t.data.totalElements||t.data.content.length,totalPages:t.data.totalPages||Math.ceil(t.data.content.length/10)}}:{success:!0,data:t.data}},handleError(t,e="API Error"){var r,i;const n=((i=(r=t.response)==null?void 0:r.data)==null?void 0:i.message)||t.message||e;return console.error(n,t),{success:!1,error:n,data:{content:[],totalElements:0,totalPages:0}}}},IU=()=>{const[t,e]=f.useState(""),[n,r]=f.useState("ALL"),[i,a]=f.useState("ALL"),[l,o]=f.useState("ALL"),[c,d]=f.useState("name"),[u,h]=f.useState("asc");f.useState([]);const[m,g]=f.useState(!1),[y,x]=f.useState(null),[b,v]=f.useState(!1),[p,j]=f.useState(null),[N,w]=f.useState(1),[E]=f.useState(10),[M,k]=f.useState([]),[T,S]=f.useState(!1),[P,C]=f.useState(null),[A,I]=f.useState(0),[V,L]=f.useState(0),O=async()=>{S(!0),C(null);try{const U={searchTerm:t,role:n!=="ALL"?n:null,status:i!=="ALL"?i:null,dateFilter:l!=="ALL"?l:null,sortBy:c,sortDirection:u,page:N,limit:E},W=await Ua.getUsers(U);if(console.log("API response:",W),!W||!W.data)throw new Error("Invalid API response format");let J=[],ce=0,re=1;if(W.data.content&&Array.isArray(W.data.content))J=W.data.content.map(Te=>Ua.formatUserData(Te)),ce=W.data.totalElements||J.length,re=W.data.totalPages||1;else if(Array.isArray(W.data))J=W.data.map(Te=>Ua.formatUserData(Te)),ce=J.length,re=Math.ceil(ce/E);else throw new Error("Unexpected API response format");k(J),I(ce),L(re)}catch(U){console.error("Error fetching users:",U),C("Failed to load users. Please try again later."),k([]),I(0),L(0)}finally{S(!1)}};f.useEffect(()=>{O()},[N,E,c,u]),f.useEffect(()=>{const U=setTimeout(()=>{N!==1?w(1):O()},500);return()=>clearTimeout(U)},[t,n,i,l]);const D=U=>{j(U),v(!0)},R=U=>{x(U),g(!0)},B=async()=>{S(!0);try{await Ua.deleteUser(y.id),O(),g(!1),x(null)}catch(U){console.error("Error deleting user:",U),C("Failed to delete user. Please try again later.")}finally{S(!1)}},X=async U=>{S(!0),C(null);try{console.log("Saving user data:",U);let W;if(p?W=await Ua.updateUser(U.id,U):W=await Ua.createUser(U),console.log("Save user response:",W),W&&W.success)return O(),v(!1),j(null),W;{const J=(W==null?void 0:W.message)||(W==null?void 0:W.error)||"Failed to save user due to an unknown error.";return console.error("Error saving user:",J),C(J),W}}catch(W){console.error("Exception saving user:",W);const J={success:!1,error:W.message||"Failed to save user. Please try again later."};return C(J.error),J}finally{S(!1)}},Z=()=>{j(null),v(!0)},$=U=>{switch(U){case se.ADMIN:return"bg-purple-100 text-purple-800";case se.MANAGER:return"bg-blue-100 text-blue-800";case se.DOCTOR:return"bg-green-100 text-green-800";case se.STAFF:return"bg-indigo-100 text-indigo-800";case se.CUSTOMER:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Y=U=>{switch(U){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},_=U=>new Date(U).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),H=U=>w(U);return T&&M.length===0?s.jsx(be,{currentRole:se.ADMIN,userName:"Admin",children:s.jsx("div",{className:"p-6 flex justify-center items-center h-screen",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(at,{className:"h-12 w-12 animate-spin text-primary-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})})}):P&&M.length===0?s.jsx(be,{currentRole:se.ADMIN,userName:"Admin",children:s.jsx("div",{className:"p-6 flex justify-center items-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ze,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Data"}),s.jsx("p",{className:"text-gray-600 mb-4",children:P}),s.jsx(F,{onClick:O,className:"bg-primary-600 hover:bg-primary-700 text-white",children:"Try Again"})]})})}):s.jsx(be,{currentRole:se.ADMIN,userName:"Admin",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Qun l ti khon"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Qun l v phn quyn ngi dng trong h thng"})]}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs(F,{onClick:Z,className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2.5 rounded-lg shadow-sm",children:[s.jsx(dR,{className:"h-5 w-5"}),s.jsx("span",{children:"Thm ti khon"})]})})]}),s.jsx(G,{className:"mb-8",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Un,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:t,onChange:U=>e(U.target.value),placeholder:"Tm kim theo tn, email...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsx("div",{children:s.jsxs("select",{value:n,onChange:U=>r(U.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"ALL",children:"Tt c vai tr"}),s.jsx("option",{value:se.ADMIN,children:"Admin"}),s.jsx("option",{value:se.MANAGER,children:"Qun l"}),s.jsx("option",{value:se.DOCTOR,children:"Bc s"}),s.jsx("option",{value:se.STAFF,children:"Nhn vin"}),s.jsx("option",{value:se.CUSTOMER,children:"Bnh nhn"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:U=>a(U.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"ALL",children:"Tt c trng thi"}),s.jsx("option",{value:"active",children:"ang hot ng"}),s.jsx("option",{value:"inactive",children:"Khng hot ng"}),s.jsx("option",{value:"suspended",children:"Tm kha"})]})}),s.jsx("div",{children:s.jsxs("select",{value:l,onChange:U=>o(U.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"ALL",children:"Tt c thi gian"}),s.jsx("option",{value:"today",children:"Hm nay"}),s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"})]})})]})})}),s.jsxs(G,{className:"mb-8 overflow-hidden",children:[T&&M.length>0&&s.jsxs("div",{className:"flex justify-center items-center p-4 bg-gray-50 border-b border-gray-200",children:[s.jsx(at,{className:"h-5 w-5 animate-spin text-primary-600 mr-2"}),s.jsx("span",{className:"text-gray-600",children:"ang ti..."})]}),P&&M.length>0&&s.jsxs("div",{className:"flex justify-center items-center p-4 bg-red-50 border-b border-red-200",children:[s.jsx(ze,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-600",children:P}),s.jsx(F,{onClick:O,className:"ml-4 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-2 py-1 rounded",children:"Th li"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="name"?h(u==="asc"?"desc":"asc"):(d("name"),h("asc"))},children:[s.jsx("span",{children:"Tn"}),c==="name"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="email"?h(u==="asc"?"desc":"asc"):(d("email"),h("asc"))},children:[s.jsx("span",{children:"Email"}),c==="email"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="role"?h(u==="asc"?"desc":"asc"):(d("role"),h("asc"))},children:[s.jsx("span",{children:"Vai tr"}),c==="role"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="status"?h(u==="asc"?"desc":"asc"):(d("status"),h("asc"))},children:[s.jsx("span",{children:"Trng thi"}),c==="status"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="created"?h(u==="asc"?"desc":"asc"):(d("created"),h("asc"))},children:[s.jsx("span",{children:"Ngy to"}),c==="created"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>{c==="lastLogin"?h(u==="asc"?"desc":"asc"):(d("lastLogin"),h("asc"))},children:[s.jsx("span",{children:"ng nhp cui"}),c==="lastLogin"&&(u==="asc"?s.jsx(Ki,{className:"h-4 w-4"}):s.jsx(Tn,{className:"h-4 w-4"}))]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.length===0&&!T?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"Khng c d liu ngi dng"})}):M.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("img",{className:"h-10 w-10 rounded-full",src:U.avatar,alt:U.fullName})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.fullName}),s.jsx("div",{className:"text-sm text-gray-500",children:U.username})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:U.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$(U.role)}`,children:U.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y(U.status)}`,children:U.status==="active"?"Hot ng":U.status==="inactive"?"Khng hot ng":"Tm kha"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(U.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.lastLogin?_(U.lastLogin):"Cha ng nhp"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>D(U),className:"text-primary-600 hover:text-primary-900",title:"Chnh sa",children:s.jsx(od,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>R(U),className:"text-red-600 hover:text-red-900",title:"Xa",children:s.jsx(ur,{className:"h-5 w-5"})})]})})]},U.id))})]})}),s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx(F,{onClick:()=>H(N-1),disabled:N===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Trc"}),s.jsx(F,{onClick:()=>H(N+1),disabled:N===V,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Sau"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",s.jsx("span",{className:"font-medium",children:M.length>0?(N-1)*E+1:0})," n"," ",s.jsx("span",{className:"font-medium",children:Math.min(N*E,A)})," ","trong s ",s.jsx("span",{className:"font-medium",children:A})," kt qu"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>H(N-1),disabled:N===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${N===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx("span",{className:"sr-only",children:"Trang trc"}),s.jsx(Ki,{className:"h-5 w-5 rotate-90"})]}),Array.from({length:V},(U,W)=>W+1).filter(U=>U===1||U===V||U>=N-1&&U<=N+1).map((U,W,J)=>{const ce=W>0&&J[W-1]!==U-1,re=W<J.length-1&&J[W+1]!==U+1;return s.jsxs(ie.Fragment,{children:[ce&&s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),s.jsx("button",{onClick:()=>H(U),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${N===U?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:U}),re&&s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]},U)}),s.jsxs("button",{onClick:()=>H(N+1),disabled:N===V,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${N===V?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx("span",{className:"sr-only",children:"Trang sau"}),s.jsx(Tn,{className:"h-5 w-5 -rotate-90"})]})]})})]})]})]}),m&&s.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:s.jsx(ze,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Xc nhn xa ti khon"}),s.jsx("div",{className:"mt-2",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Bn c chc chn mun xa ti khon ca ",y==null?void 0:y.fullName,"? Hnh ng ny khng th hon tc."]})})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",onClick:B,disabled:T,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${T?"opacity-50 cursor-not-allowed":""}`,children:T?"ang x l...":"Xc nhn xa"}),s.jsx("button",{type:"button",onClick:()=>{g(!1),x(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Hy"})]})]})]})}),s.jsx(lT,{isOpen:b,onClose:()=>{v(!1),j(null)},onSave:X,editingUser:p,isLoading:T})]})})},OU=()=>{const[t,e]=f.useState("all"),[n,r]=f.useState("all"),[i,a]=f.useState("json"),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState([{id:1,type:"success",message:"Sao lu d liu thnh cng - 25/03/2024 15:30"},{id:2,type:"error",message:"Khng th khi phc d liu t file backup_20240324.json"},{id:3,type:"warning",message:"Dung lng lu tr cn 15% - Cn dn dp d liu"},{id:4,type:"info",message:"ang tin hnh ng b d liu..."}]),m=[{id:"all",name:"Tt c d liu"},{id:"users",name:"Ngi dng"},{id:"appointments",name:"Lch hn"},{id:"treatments",name:"iu tr"},{id:"prescriptions",name:"n thuc"},{id:"medical_records",name:"H s bnh n"},{id:"system_logs",name:"Nht k h thng"}],g=[{id:"all",name:"Tt c thi gian"},{id:"today",name:"Hm nay"},{id:"week",name:"Tun ny"},{id:"month",name:"Thng ny"},{id:"year",name:"Nm nay"},{id:"custom",name:"Ty chn"}],y=[{id:"json",name:"JSON"},{id:"csv",name:"CSV"},{id:"excel",name:"Excel"},{id:"pdf",name:"PDF"}],x=[{id:1,filename:"backup_20240325_153000.json",size:"256MB",date:"25/03/2024 15:30:00",type:"T ng",status:"success"},{id:2,filename:"backup_20240324_153000.json",size:"255MB",date:"24/03/2024 15:30:00",type:"T ng",status:"success"},{id:3,filename:"backup_20240323_153000.json",size:"254MB",date:"23/03/2024 15:30:00",type:"Th cng",status:"success"},{id:4,filename:"backup_20240322_153000.json",size:"253MB",date:"22/03/2024 15:30:00",type:"T ng",status:"error"}],b=()=>{o(!0),setTimeout(()=>{o(!1),h(w=>[{id:Date.now(),type:"success",message:`Xut d liu ${t} thnh cng - ${new Date().toLocaleString()}`},...w])},2e3)},v=()=>{o(!0),setTimeout(()=>{o(!1),h(w=>[{id:Date.now(),type:"success",message:`Sao lu d liu thnh cng - ${new Date().toLocaleString()}`},...w])},2e3)},p=w=>{o(!0),setTimeout(()=>{o(!1),h(E=>[{id:Date.now(),type:"success",message:`Khi phc d liu t ${w.filename} thnh cng`},...E])},2e3)},j=w=>{d(!0)},N=w=>{switch(w){case"success":return s.jsx(Xe,{className:"h-6 w-6 text-green-500"});case"error":return s.jsx(ir,{className:"h-6 w-6 text-red-500"});case"warning":return s.jsx(ze,{className:"h-6 w-6 text-yellow-500"});case"info":return s.jsx(Pi,{className:"h-6 w-6 text-blue-500"});default:return null}};return s.jsx(be,{currentRole:se.ADMIN,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Qun l d liu"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Qun l, sao lu v khi phc d liu h thng"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Xut d liu"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi d liu"}),s.jsx("select",{value:t,onChange:w=>e(w.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:m.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thi gian"}),s.jsx("select",{value:n,onChange:w=>r(w.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:g.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh dng"}),s.jsx("select",{value:i,onChange:w=>a(w.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:y.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(F,{onClick:b,disabled:l,className:"flex items-center space-x-2 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg shadow-sm",children:[s.jsx(An,{className:"h-5 w-5"}),s.jsx("span",{children:l?"ang xut...":"Xut d liu"})]}),s.jsxs(F,{onClick:v,disabled:l,className:"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg shadow-sm",children:[s.jsx(k0,{className:"h-5 w-5"}),s.jsx("span",{children:l?"ang sao lu...":"Sao lu"})]})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Lch s sao lu"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn file"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kch thc"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.filename}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.size}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.status==="success"?"Thnh cng":"Tht bi"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>p(w),className:"text-primary-600 hover:text-primary-900",title:"Khi phc",children:s.jsx(at,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>j(),className:"text-red-600 hover:text-red-900",title:"Xa",children:s.jsx(ur,{className:"h-5 w-5"})})]})})]},w.id))})]})})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Thng k nhanh"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(tR,{className:"h-6 w-6 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Tng d liu"})]}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"1.2 GB"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(k0,{className:"h-6 w-6 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Sao lu gn nht"})]}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"25/03/2024 15:30"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(us,{className:"h-6 w-6 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Dung lng trng"})]}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"15%"})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Thng bo h thng"}),s.jsx("div",{className:"space-y-4",children:u.map(w=>s.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg ${w.type==="success"?"bg-green-50":w.type==="error"?"bg-red-50":w.type==="warning"?"bg-yellow-50":"bg-blue-50"}`,children:[N(w.type),s.jsx("p",{className:"text-sm text-gray-900",children:w.message})]},w.id))})]})})]})]}),c&&s.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:s.jsxs("div",{className:"sm:flex sm:items-start",children:[s.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:s.jsx(ze,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Xc nhn xa bn sao lu"}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Bn c chc chn mun xa bn sao lu ny? Hnh ng ny khng th hon tc."})})]})]})}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>d(!1),children:"Xc nhn xa"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>d(!1),children:"Hy"})]})]})]})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fd(t){return t+.5|0}const gi=(t,e,n)=>Math.max(Math.min(t,n),e);function Vo(t){return gi(fd(t*2.55),0,255)}function _i(t){return gi(fd(t*255),0,255)}function Tr(t){return gi(fd(t/2.55)/100,0,1)}function Xj(t){return gi(fd(t*100),0,100)}const on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ix=[..."0123456789ABCDEF"],FU=t=>ix[t&15],VU=t=>ix[(t&240)>>4]+ix[t&15],Xd=t=>(t&240)>>4===(t&15),$U=t=>Xd(t.r)&&Xd(t.g)&&Xd(t.b)&&Xd(t.a);function BU(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&on[t[1]]*17,g:255&on[t[2]]*17,b:255&on[t[3]]*17,a:e===5?on[t[4]]*17:255}:(e===7||e===9)&&(n={r:on[t[1]]<<4|on[t[2]],g:on[t[3]]<<4|on[t[4]],b:on[t[5]]<<4|on[t[6]],a:e===9?on[t[7]]<<4|on[t[8]]:255})),n}const HU=(t,e)=>t<255?e(t):"";function zU(t){var e=$U(t)?FU:VU;return t?"#"+e(t.r)+e(t.g)+e(t.b)+HU(t.a,e):void 0}const UU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oT(t,e,n){const r=e*Math.min(n,1-n),i=(a,l=(a+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function WU(t,e,n){const r=(i,a=(i+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function qU(t,e,n){const r=oT(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function KU(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function My(t){const n=t.r/255,r=t.g/255,i=t.b/255,a=Math.max(n,r,i),l=Math.min(n,r,i),o=(a+l)/2;let c,d,u;return a!==l&&(u=a-l,d=o>.5?u/(2-a-l):u/(a+l),c=KU(n,r,i,u,a),c=c*60+.5),[c|0,d||0,o]}function _y(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(_i)}function Ly(t,e,n){return _y(oT,t,e,n)}function GU(t,e,n){return _y(qU,t,e,n)}function YU(t,e,n){return _y(WU,t,e,n)}function cT(t){return(t%360+360)%360}function XU(t){const e=UU.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Vo(+e[5]):_i(+e[5]));const i=cT(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=GU(i,a,l):e[1]==="hsv"?r=YU(i,a,l):r=Ly(i,a,l),{r:r[0],g:r[1],b:r[2],a:n}}function ZU(t,e){var n=My(t);n[0]=cT(n[0]+e),n=Ly(n),t.r=n[0],t.g=n[1],t.b=n[2]}function QU(t){if(!t)return;const e=My(t),n=e[0],r=Xj(e[1]),i=Xj(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Tr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Zj={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qj={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function JU(){const t={},e=Object.keys(Qj),n=Object.keys(Zj);let r,i,a,l,o;for(r=0;r<e.length;r++){for(l=o=e[r],i=0;i<n.length;i++)a=n[i],o=o.replace(a,Zj[a]);a=parseInt(Qj[l],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let Zd;function eW(t){Zd||(Zd=JU(),Zd.transparent=[0,0,0,0]);const e=Zd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const tW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sW(t){const e=tW.exec(t);let n=255,r,i,a;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?Vo(l):gi(l*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?Vo(r):gi(r,0,255)),i=255&(e[4]?Vo(i):gi(i,0,255)),a=255&(e[6]?Vo(a):gi(a,0,255)),{r,g:i,b:a,a:n}}}function nW(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Tr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const tg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Wa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rW(t,e,n){const r=Wa(Tr(t.r)),i=Wa(Tr(t.g)),a=Wa(Tr(t.b));return{r:_i(tg(r+n*(Wa(Tr(e.r))-r))),g:_i(tg(i+n*(Wa(Tr(e.g))-i))),b:_i(tg(a+n*(Wa(Tr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Qd(t,e,n){if(t){let r=My(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ly(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function dT(t,e){return t&&Object.assign(e||{},t)}function Jj(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=dT(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function iW(t){return t.charAt(0)==="r"?sW(t):XU(t)}class Uc{constructor(e){if(e instanceof Uc)return e;const n=typeof e;let r;n==="object"?r=Jj(e):n==="string"&&(r=BU(e)||eW(e)||iW(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=dT(this._rgb);return e&&(e.a=Tr(e.a)),e}set rgb(e){this._rgb=Jj(e)}rgbString(){return this._valid?nW(this._rgb):void 0}hexString(){return this._valid?zU(this._rgb):void 0}hslString(){return this._valid?QU(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let a;const l=n===a?.5:n,o=2*l-1,c=r.a-i.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;a=1-d,r.r=255&d*r.r+a*i.r+.5,r.g=255&d*r.g+a*i.g+.5,r.b=255&d*r.b+a*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=rW(this._rgb,e._rgb,n)),this}clone(){return new Uc(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=fd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qd(this._rgb,2,e),this}darken(e){return Qd(this._rgb,2,-e),this}saturate(e){return Qd(this._rgb,1,e),this}desaturate(e){return Qd(this._rgb,1,-e),this}rotate(e){return ZU(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vr(){}const aW=(()=>{let t=0;return()=>t++})();function Ge(t){return t==null}function yt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ye(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gs(t,e){return es(t)?t:e}function Ve(t,e){return typeof t>"u"?e:t}const lW=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,uT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function nt(t,e,n,r){let i,a,l;if(yt(t))if(a=t.length,r)for(i=a-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<a;i++)e.call(n,t[i],i);else if(Ye(t))for(l=Object.keys(t),a=l.length,i=0;i<a;i++)e.call(n,t[l[i]],l[i])}function Hh(t,e){let n,r,i,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],a=e[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function zh(t){if(yt(t))return t.map(zh);if(Ye(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=zh(t[n[i]]);return e}return t}function hT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function oW(t,e,n,r){if(!hT(t))return;const i=e[t],a=n[t];Ye(i)&&Ye(a)?Wc(i,a,r):e[t]=zh(a)}function Wc(t,e,n){const r=yt(e)?e:[e],i=r.length;if(!Ye(t))return t;n=n||{};const a=n.merger||oW;let l;for(let o=0;o<i;++o){if(l=r[o],!Ye(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)a(c[d],t,l,n)}return t}function cc(t,e){return Wc(t,e,{merger:cW})}function cW(t,e,n){if(!hT(t))return;const r=e[t],i=n[t];Ye(r)&&Ye(i)?cc(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zh(i))}const ew={"":t=>t,x:t=>t.x,y:t=>t.y};function dW(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function uW(t){const e=dW(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ma(t,e){return(ew[e]||(ew[e]=uW(e)))(t)}function Ay(t){return t.charAt(0).toUpperCase()+t.slice(1)}const qc=t=>typeof t<"u",Vi=t=>typeof t=="function",tw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function hW(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const bt=Math.PI,vt=2*bt,mW=vt+bt,Uh=Number.POSITIVE_INFINITY,fW=bt/180,Ot=bt/2,Xi=bt/4,sw=bt*2/3,xi=Math.log10,pr=Math.sign;function dc(t,e,n){return Math.abs(t-e)<n}function nw(t){const e=Math.round(t);t=dc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(xi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function gW(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,a)=>i-a).pop(),e}function xW(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Kc(t){return!xW(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function pW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function mT(t,e,n){let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function or(t){return t*(bt/180)}function Ry(t){return t*(180/bt)}function rw(t){if(!es(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fT(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*bt&&(a+=vt),{angle:a,distance:i}}function ax(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yW(t,e){return(t-e+mW)%vt-bt}function Cn(t){return(t%vt+vt)%vt}function Gc(t,e,n,r){const i=Cn(t),a=Cn(e),l=Cn(n),o=Cn(a-i),c=Cn(l-i),d=Cn(i-a),u=Cn(i-l);return i===a||i===l||r&&a===l||o>c&&d<u}function js(t,e,n){return Math.max(e,Math.min(n,t))}function vW(t){return js(t,-32768,32767)}function pi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Iy(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const ga=(t,e,n,r)=>Iy(t,n,r?i=>{const a=t[i][e];return a<n||a===n&&t[i+1][e]===n}:i=>t[i][e]<n),bW=(t,e,n)=>Iy(t,n,r=>t[r][e]>=n);function jW(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const gT=["push","pop","shift","splice","unshift"];function wW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gT.forEach(n=>{const r="_onData"+Ay(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...a)}),l}})})}function iw(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(gT.forEach(a=>{delete t[a]}),delete t._chartjs)}function xT(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const pT=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function yT(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,pT.call(window,()=>{r=!1,t.apply(e,n)}))}}function NW(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Oy=t=>t==="start"?"left":t==="end"?"right":"center",xs=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,kW=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function SW(t,e,n){const r=e.length;let i=0,a=r;if(t._sorted){const{iScale:l,vScale:o,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=l.axis,{min:h,max:m,minDefined:g,maxDefined:y}=l.getUserBounds();if(g){if(i=Math.min(ga(c,u,h).lo,n?r:ga(e,u,l.getPixelForValue(h)).lo),d){const x=c.slice(0,i+1).reverse().findIndex(b=>!Ge(b[o.axis]));i-=Math.max(0,x)}i=js(i,0,r-1)}if(y){let x=Math.max(ga(c,l.axis,m,!0).hi+1,n?0:ga(e,u,l.getPixelForValue(m),!0).hi+1);if(d){const b=c.slice(x-1).findIndex(v=>!Ge(v[o.axis]));x+=Math.max(0,b)}a=js(x,i,r)-i}else a=r-i}return{start:i,count:a}}function TW(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const Jd=t=>t===0||t===1,aw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),lw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,uc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ot)+1,easeOutSine:t=>Math.sin(t*Ot),easeInOutSine:t=>-.5*(Math.cos(bt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Jd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Jd(t)?t:aw(t,.075,.3),easeOutElastic:t=>Jd(t)?t:lw(t,.075,.3),easeInOutElastic(t){return Jd(t)?t:t<.5?.5*aw(t*2,.1125,.45):.5+.5*lw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-uc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?uc.easeInBounce(t*2)*.5:uc.easeOutBounce(t*2-1)*.5+.5};function Fy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ow(t){return Fy(t)?t:new Uc(t)}function sg(t){return Fy(t)?t:new Uc(t).saturate(.5).darken(.1).hexString()}const CW=["x","y","borderWidth","radius","tension"],EW=["color","borderColor","backgroundColor"];function DW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:EW},numbers:{type:"number",properties:CW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function PW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cw=new Map;function MW(t,e){e=e||{};const n=t+JSON.stringify(e);let r=cw.get(n);return r||(r=new Intl.NumberFormat(t,e),cw.set(n,r)),r}function Vm(t,e,n){return MW(e,n).format(t)}const vT={values(t){return yt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,a=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=_W(t,n)}const l=xi(Math.abs(a)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Vm(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(xi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?vT.numeric.call(this,t,e,n):""}};function _W(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $m={formatters:vT};function LW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$m.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _a=Object.create(null),lx=Object.create(null);function hc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function ng(t,e,n){return typeof e=="string"?Wc(hc(t,e),n):Wc(hc(t,""),e)}class AW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>sg(i.backgroundColor),this.hoverBorderColor=(r,i)=>sg(i.borderColor),this.hoverColor=(r,i)=>sg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ng(this,e,n)}get(e){return hc(this,e)}describe(e,n){return ng(lx,e,n)}override(e,n){return ng(_a,e,n)}route(e,n,r,i){const a=hc(this,e),l=hc(this,r),o="_"+n;Object.defineProperties(a,{[o]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],d=l[i];return Ye(c)?Object.assign({},d,c):Ve(c,d)},set(c){this[o]=c}}})}apply(e){e.forEach(n=>n(this))}}var Lt=new AW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[DW,PW,LW]);function RW(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Wh(t,e,n,r,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,n.push(i)),a>r&&(r=a),r}function IW(t,e,n,r){r=r||{};let i=r.data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},a=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let l=0;const o=n.length;let c,d,u,h,m;for(c=0;c<o;c++)if(h=n[c],h!=null&&!yt(h))l=Wh(t,i,a,l,h);else if(yt(h))for(d=0,u=h.length;d<u;d++)m=h[d],m!=null&&!yt(m)&&(l=Wh(t,i,a,l,m));t.restore();const g=a.length/2;if(g>n.length){for(c=0;c<g;c++)delete i[a[c]];a.splice(0,g)}return l}function Zi(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function dw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ox(t,e,n,r){bT(t,e,n,r,null)}function bT(t,e,n,r,i){let a,l,o,c,d,u,h,m;const g=e.pointStyle,y=e.rotation,x=e.radius;let b=(y||0)*fW;if(g&&typeof g=="object"&&(a=g.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,r,i/2,x,0,0,vt):t.arc(n,r,x,0,vt),t.closePath();break;case"triangle":u=i?i/2:x,t.moveTo(n+Math.sin(b)*u,r-Math.cos(b)*x),b+=sw,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*x),b+=sw,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,l=Math.cos(b+Xi)*c,h=Math.cos(b+Xi)*(i?i/2-d:c),o=Math.sin(b+Xi)*c,m=Math.sin(b+Xi)*(i?i/2-d:c),t.arc(n-h,r-o,d,b-bt,b-Ot),t.arc(n+m,r-l,d,b-Ot,b),t.arc(n+h,r+o,d,b,b+Ot),t.arc(n-m,r+l,d,b+Ot,b+bt),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,u=i?i/2:c,t.rect(n-u,r-c,2*u,2*c);break}b+=Xi;case"rectRot":h=Math.cos(b)*(i?i/2:x),l=Math.cos(b)*x,o=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,r-o),t.lineTo(n+m,r-l),t.lineTo(n+h,r+o),t.lineTo(n-m,r+l),t.closePath();break;case"crossRot":b+=Xi;case"cross":h=Math.cos(b)*(i?i/2:x),l=Math.cos(b)*x,o=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+m,r-l),t.lineTo(n-m,r+l);break;case"star":h=Math.cos(b)*(i?i/2:x),l=Math.cos(b)*x,o=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+m,r-l),t.lineTo(n-m,r+l),b+=Xi,h=Math.cos(b)*(i?i/2:x),l=Math.cos(b)*x,o=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+m,r-l),t.lineTo(n-m,r+l);break;case"line":l=i?i/2:Math.cos(b)*x,o=Math.sin(b)*x,t.moveTo(n-l,r-o),t.lineTo(n+l,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:x),r+Math.sin(b)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $y(t){t.restore()}function OW(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function FW(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function VW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function $W(t,e,n,r,i){if(i.strikethrough||i.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,c=n-a.actualBoundingBoxAscent,d=n+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(l,u),t.lineTo(o,u),t.stroke()}}function BW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function La(t,e,n,r,i,a={}){const l=yt(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(t.save(),t.font=i.string,VW(t,a),c=0;c<l.length;++c)d=l[c],a.backdrop&&BW(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Ge(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(d,n,r,a.maxWidth)),t.fillText(d,n,r,a.maxWidth),$W(t,n,r,d,a),r+=Number(i.lineHeight);t.restore()}function Yc(t,e){const{x:n,y:r,w:i,h:a,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*bt,bt,!0),t.lineTo(n,r+a-l.bottomLeft),t.arc(n+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,bt,Ot,!0),t.lineTo(n+i-l.bottomRight,r+a),t.arc(n+i-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Ot,0,!0),t.lineTo(n+i,r+l.topRight),t.arc(n+i-l.topRight,r+l.topRight,l.topRight,0,-Ot,!0),t.lineTo(n+l.topLeft,r)}const HW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UW(t,e){const n=(""+t).match(HW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const WW=t=>+t||0;function By(t,e){const n={},r=Ye(e),i=r?Object.keys(e):e,a=Ye(t)?r?l=>Ve(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of i)n[l]=WW(a(l));return n}function jT(t){return By(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ba(t){return By(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ns(t){const e=jT(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(t,e){t=t||{},e=e||Lt.font;let n=Ve(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ve(t.style,e.style);r&&!(""+r).match(zW)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ve(t.family,e.family),lineHeight:UW(Ve(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ve(t.weight,e.weight),string:""};return i.string=RW(i),i}function eu(t,e,n,r){let i=!0,a,l,o;for(a=0,l=t.length;a<l;++a)if(o=t[a],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),i=!1),n!==void 0&&yt(o)&&(o=o[n%o.length],i=!1),o!==void 0))return r&&!i&&(r.cacheable=!1),o}function qW(t,e,n){const{min:r,max:i}=t,a=uT(e,(i-r)/2),l=(o,c)=>n&&o===0?0:o+c;return{min:l(r,-Math.abs(a)),max:l(i,a)}}function Wi(t,e){return Object.assign(Object.create(t),e)}function Hy(t,e=[""],n,r,i=()=>t[0]){const a=n||t;typeof r>"u"&&(r=ST("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:i,override:o=>Hy([o,...t],e,a,r)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return NT(o,c,()=>eq(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return hw(o).includes(c)},ownKeys(o){return hw(o)},set(o,c,d){const u=o._storage||(o._storage=i());return o[c]=u[c]=d,delete o._keys,!0}})}function zl(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:wT(t,r),setContext:a=>zl(t,a,n,r),override:a=>zl(t.override(a),e,n,r)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,o){return NT(a,l,()=>GW(a,l,o))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,o){return t[l]=o,delete a[l],!0}})}function wT(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Vi(n)?n:()=>n,isIndexable:Vi(r)?r:()=>r}}const KW=(t,e)=>t?t+Ay(e):e,zy=(t,e)=>Ye(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function GW(t,e,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=t;let o=r[e];return Vi(o)&&l.isScriptable(e)&&(o=YW(e,o,t,n)),yt(o)&&o.length&&(o=XW(e,o,t,l.isIndexable)),zy(e,o)&&(o=zl(o,i,a&&a[e],l)),o}function YW(t,e,n,r){const{_proxy:i,_context:a,_subProxy:l,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(a,l||r);return o.delete(t),zy(t,c)&&(c=Uy(i._scopes,i,t,c)),c}function XW(t,e,n,r){const{_proxy:i,_context:a,_subProxy:l,_descriptors:o}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(Ye(e[0])){const c=e,d=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=Uy(d,i,t,u);e.push(zl(h,a,l&&l[t],o))}}return e}function kT(t,e,n){return Vi(t)?t(e,n):t}const ZW=(t,e)=>t===!0?e:typeof t=="string"?Ma(e,t):void 0;function QW(t,e,n,r,i){for(const a of e){const l=ZW(n,a);if(l){t.add(l);const o=kT(l._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function Uy(t,e,n,r){const i=e._rootScopes,a=kT(e._fallback,n,r),l=[...t,...i],o=new Set;o.add(r);let c=uw(o,l,n,a||n,r);return c===null||typeof a<"u"&&a!==n&&(c=uw(o,l,a,c,r),c===null)?!1:Hy(Array.from(o),[""],i,a,()=>JW(e,n,r))}function uw(t,e,n,r,i){for(;n;)n=QW(t,e,n,r,i);return n}function JW(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return yt(i)&&Ye(n)?n:i||{}}function eq(t,e,n,r){let i;for(const a of e)if(i=ST(KW(a,t),n),typeof i<"u")return zy(t,i)?Uy(n,r,t,i):i}function ST(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function hw(t){let e=t._keys;return e||(e=t._keys=tq(t._scopes)),e}function tq(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const sq=Number.EPSILON||1e-14,Ul=(t,e)=>e<t.length&&!t[e].skip&&t[e],TT=t=>t==="x"?"y":"x";function nq(t,e,n,r){const i=t.skip?e:t,a=e,l=n.skip?e:n,o=ax(a,i),c=ax(l,a);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=r*d,m=r*u;return{previous:{x:a.x-h*(l.x-i.x),y:a.y-h*(l.y-i.y)},next:{x:a.x+m*(l.x-i.x),y:a.y+m*(l.y-i.y)}}}function rq(t,e,n){const r=t.length;let i,a,l,o,c,d=Ul(t,0);for(let u=0;u<r-1;++u)if(c=d,d=Ul(t,u+1),!(!c||!d)){if(dc(e[u],0,sq)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],a=n[u+1]/e[u],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(l=3/Math.sqrt(o),n[u]=i*l*e[u],n[u+1]=a*l*e[u])}}function iq(t,e,n="x"){const r=TT(n),i=t.length;let a,l,o,c=Ul(t,0);for(let d=0;d<i;++d){if(l=o,o=c,c=Ul(t,d+1),!o)continue;const u=o[n],h=o[r];l&&(a=(u-l[n])/3,o[`cp1${n}`]=u-a,o[`cp1${r}`]=h-a*e[d]),c&&(a=(c[n]-u)/3,o[`cp2${n}`]=u+a,o[`cp2${r}`]=h+a*e[d])}}function aq(t,e="x"){const n=TT(e),r=t.length,i=Array(r).fill(0),a=Array(r);let l,o,c,d=Ul(t,0);for(l=0;l<r;++l)if(o=c,c=d,d=Ul(t,l+1),!!c){if(d){const u=d[e]-c[e];i[l]=u!==0?(d[n]-c[n])/u:0}a[l]=o?d?pr(i[l-1])!==pr(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}rq(t,i,a),iq(t,a,e)}function tu(t,e,n){return Math.max(Math.min(t,n),e)}function lq(t,e){let n,r,i,a,l,o=Pr(t[0],e);for(n=0,r=t.length;n<r;++n)l=a,a=o,o=n<r-1&&Pr(t[n+1],e),a&&(i=t[n],l&&(i.cp1x=tu(i.cp1x,e.left,e.right),i.cp1y=tu(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=tu(i.cp2x,e.left,e.right),i.cp2y=tu(i.cp2y,e.top,e.bottom)))}function oq(t,e,n,r,i){let a,l,o,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")aq(t,i);else{let d=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)o=t[a],c=nq(d,o,t[Math.min(a+1,l-(r?0:1))%l],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}e.capBezierPoints&&lq(t,n)}function Wy(){return typeof window<"u"&&typeof document<"u"}function qy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qh(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Bm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cq(t,e){return Bm(t).getPropertyValue(e)}const dq=["top","right","bottom","left"];function ja(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=dq[i];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uq=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hq(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:a}=r;let l=!1,o,c;if(uq(i,a,t.target))o=i,c=a;else{const d=e.getBoundingClientRect();o=r.clientX-d.left,c=r.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function ra(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Bm(n),a=i.boxSizing==="border-box",l=ja(i,"padding"),o=ja(i,"border","width"),{x:c,y:d,box:u}=hq(t,n),h=l.left+(u&&o.left),m=l.top+(u&&o.top);let{width:g,height:y}=e;return a&&(g-=l.width+o.width,y-=l.height+o.height),{x:Math.round((c-h)/g*n.width/r),y:Math.round((d-m)/y*n.height/r)}}function mq(t,e,n){let r,i;if(e===void 0||n===void 0){const a=t&&qy(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),o=Bm(a),c=ja(o,"border","width"),d=ja(o,"padding");e=l.width-d.width-c.width,n=l.height-d.height-c.height,r=qh(o.maxWidth,a,"clientWidth"),i=qh(o.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||Uh,maxHeight:i||Uh}}const su=t=>Math.round(t*10)/10;function fq(t,e,n,r){const i=Bm(t),a=ja(i,"margin"),l=qh(i.maxWidth,t,"clientWidth")||Uh,o=qh(i.maxHeight,t,"clientHeight")||Uh,c=mq(t,e,n);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const m=ja(i,"border","width"),g=ja(i,"padding");d-=g.width+m.width,u-=g.height+m.height}return d=Math.max(0,d-a.width),u=Math.max(0,r?d/r:u-a.height),d=su(Math.min(d,l,c.maxWidth)),u=su(Math.min(u,o,c.maxHeight)),d&&!u&&(u=su(d/2)),(e!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=su(Math.floor(u*r))),{width:d,height:u}}function mw(t,e,n){const r=e||1,i=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==i||l.width!==a?(t.currentDevicePixelRatio=r,l.height=i,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const gq=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Wy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function fw(t,e){const n=cq(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ia(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function xq(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function pq(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=ia(t,i,n),o=ia(i,a,n),c=ia(a,e,n),d=ia(l,o,n),u=ia(o,c,n);return ia(d,u,n)}const yq=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vq=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Nl(t,e,n){return t?yq(e,n):vq()}function CT(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ET(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function DT(t){return t==="angle"?{between:Gc,compare:yW,normalize:Cn}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function gw({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function bq(t,e,n){const{property:r,start:i,end:a}=n,{between:l,normalize:o}=DT(r),c=e.length;let{start:d,end:u,loop:h}=t,m,g;if(h){for(d+=c,u+=c,m=0,g=c;m<g&&l(o(e[d%c][r]),i,a);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function jq(t,e,n){if(!n)return[t];const{property:r,start:i,end:a}=n,l=e.length,{compare:o,between:c,normalize:d}=DT(r),{start:u,end:h,loop:m,style:g}=bq(t,e,n),y=[];let x=!1,b=null,v,p,j;const N=()=>c(i,j,v)&&o(i,j)!==0,w=()=>o(a,v)===0||c(a,j,v),E=()=>x||N(),M=()=>!x||w();for(let k=u,T=u;k<=h;++k)p=e[k%l],!p.skip&&(v=d(p[r]),v!==j&&(x=c(v,i,a),b===null&&E()&&(b=o(v,i)===0?k:T),b!==null&&M()&&(y.push(gw({start:b,end:k,loop:m,count:l,style:g})),b=null),T=k,j=v));return b!==null&&y.push(gw({start:b,end:h,loop:m,count:l,style:g})),y}function wq(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const a=jq(r[i],t.points,e);a.length&&n.push(...a)}return n}function Nq(t,e,n,r){let i=0,a=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function kq(t,e,n,r){const i=t.length,a=[];let l=e,o=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%i];d.skip||d.stop?o.skip||(r=!1,a.push({start:e%i,end:(c-1)%i,loop:r}),e=l=d.stop?c:null):(l=c,o.skip&&(e=c)),o=d}return l!==null&&a.push({start:e%i,end:l%i,loop:r}),a}function Sq(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const a=!!t._loop,{start:l,end:o}=Nq(n,i,a,r);if(r===!0)return xw(t,[{start:l,end:o,loop:a}],n,e);const c=o<l?o+i:o,d=!!t._fullLoop&&l===0&&o===i-1;return xw(t,kq(n,l,c,d),n,e)}function xw(t,e,n,r){return!r||!r.setContext||!n?e:Tq(t,e,n,r)}function Tq(t,e,n,r){const i=t._chart.getContext(),a=pw(t.options),{_datasetIndex:l,options:{spanGaps:o}}=t,c=n.length,d=[];let u=a,h=e[0].start,m=h;function g(y,x,b,v){const p=o?-1:1;if(y!==x){for(y+=c;n[y%c].skip;)y-=p;for(;n[x%c].skip;)x+=p;y%c!==x%c&&(d.push({start:y%c,end:x%c,loop:b,style:v}),u=v,h=x%c)}}for(const y of e){h=o?h:y.start;let x=n[h%c],b;for(m=h+1;m<=y.end;m++){const v=n[m%c];b=pw(r.setContext(Wi(i,{type:"segment",p0:x,p1:v,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:l}))),Cq(b,u)&&g(h,m-1,y.loop,u),x=v,u=b}h<m-1&&g(h,m-1,y.loop,u)}return d}function pw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cq(t,e){if(!e)return!1;const n=[],r=function(i,a){return Fy(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function nu(t,e,n){return t.options.clip?t[n]:e[n]}function Eq(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:nu(n,e,"left"),right:nu(n,e,"right"),top:nu(r,e,"top"),bottom:nu(r,e,"bottom")}:e}function Dq(t,e){const n=e._clip;if(n.disabled)return!1;const r=Eq(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Pq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const a=n.listeners[i],l=n.duration;a.forEach(o=>o({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=pT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,o=!1,c;for(;l>=0;--l)c=a[l],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),o=!0):(a[l]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jr=new Pq;const yw="transparent",Mq={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=ow(t||yw),i=r.valid&&ow(e||yw);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class _q{constructor(e,n,r,i){const a=n[r];i=eu([e.to,i,a,e.from]);const l=eu([e.from,a,i]);this._active=!0,this._fn=e.fn||Mq[e.type||typeof l],this._easing=uc[e.easing]||uc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=eu([e.to,n,i,e.from]),this._from=eu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,a=this._from,l=this._loop,o=this._to;let c;if(this._active=a!==o&&(l||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=a;return}c=n/r%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class PT{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ye(e))return;const n=Object.keys(Lt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Ye(a))return;const l={};for(const o of n)l[o]=a[o];(yt(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,l)})})}_animateOptions(e,n){const r=n.options,i=Aq(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&Lq(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[d];let h=a[d];const m=r.get(d);if(h)if(m&&h.active()){h.update(m,u,o);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}a[d]=h=new _q(m,e,d,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return jr.add(this._chart,r),!0}}function Lq(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=t[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function Aq(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vw(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function Rq(t,e,n){if(n===!1)return!1;const r=vw(t,n),i=vw(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Iq(t){let e,n,r,i;return Ye(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function MT(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function bw(t,e,n,r={}){const i=t.keys,a=r.mode==="single";let l,o,c,d;if(e===null)return;let u=!1;for(l=0,o=i.length;l<o;++l){if(c=+i[l],c===n){if(u=!0,r.all)continue;break}d=t.values[c],es(d)&&(a||e===0||pr(e)===pr(d))&&(e+=d)}return!u&&!r.all?0:e}function Oq(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[i]:u,[a]:t[u]};return o}function rg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Fq(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Vq(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function $q(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function jw(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=t[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function ww(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:o}=r,c=a.axis,d=l.axis,u=Fq(a,l,r),h=e.length;let m;for(let g=0;g<h;++g){const y=e[g],{[c]:x,[d]:b}=y,v=y._stacks||(y._stacks={});m=v[d]=$q(i,u,x),m[o]=b,m._top=jw(m,l,!0,r.type),m._bottom=jw(m,l,!1,r.type);const p=m._visualValues||(m._visualValues={});p[o]=b}}function ig(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Bq(t,e){return Wi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Hq(t,e,n){return Wi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Co(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const ag=t=>t==="reset"||t==="none",Nw=(t,e)=>e?t:Object.assign({},t),zq=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:MT(n,!0),values:null};class wa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Co(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,m,g,y)=>h==="x"?m:h==="r"?y:g,a=n.xAxisID=Ve(r.xAxisID,ig(e,"x")),l=n.yAxisID=Ve(r.yAxisID,ig(e,"y")),o=n.rAxisID=Ve(r.rAxisID,ig(e,"r")),c=n.indexAxis,d=n.iAxisID=i(c,a,l,o),u=n.vAxisID=i(c,l,a,o);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&iw(this._data,this),e._stacked&&Co(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ye(n)){const i=this._cachedMeta;this._data=Oq(n,i)}else if(r!==n){if(r){iw(r,this);const i=this._cachedMeta;Co(i),i._parsed=[]}n&&Object.isExtensible(n)&&wW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=rg(n.vScale,n),n.stack!==r.stack&&(i=!0,Co(n),n.stack=r.stack),this._resyncElements(e),(i||a!==n._stacked)&&(ww(this,n._parsed),n._stacked=rg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:l}=r,o=a.axis;let c=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,m;if(this._parsing===!1)r._parsed=i,r._sorted=!0,m=i;else{yt(i[e])?m=this.parseArrayData(r,i,e,n):Ye(i[e])?m=this.parseObjectData(r,i,e,n):m=this.parsePrimitiveData(r,i,e,n);const g=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<n;++u)r._parsed[u+e]=h=m[u],c&&(g()&&(c=!1),d=h);r._sorted=c}l&&ww(this,m)}parsePrimitiveData(e,n,r,i){const{iScale:a,vScale:l}=e,o=a.axis,c=l.axis,d=a.getLabels(),u=a===l,h=new Array(i);let m,g,y;for(m=0,g=i;m<g;++m)y=m+r,h[m]={[o]:u||a.parse(d[y],y),[c]:l.parse(n[y],y)};return h}parseArrayData(e,n,r,i){const{xScale:a,yScale:l}=e,o=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+r,h=n[u],o[c]={x:a.parse(h[0],u),y:l.parse(h[1],u)};return o}parseObjectData(e,n,r,i){const{xScale:a,yScale:l}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,m,g;for(u=0,h=i;u<h;++u)m=u+r,g=n[m],d[u]={x:a.parse(Ma(g,o),m),y:l.parse(Ma(g,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,a=this._cachedMeta,l=n[e.axis],o={keys:MT(i,!0),values:n._stacks[e.axis]._visualValues};return bw(o,l,a.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const a=r[n.axis];let l=a===null?NaN:a;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,l=bw(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,l=i.length,o=this._getOtherScale(e),c=zq(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Vq(o);let m,g;function y(){g=i[m];const x=g[o.axis];return!es(g[e.axis])||u>x||h<x}for(m=0;m<l&&!(!y()&&(this.updateRangeFromParsed(d,e,g,c),a));++m);if(a){for(m=l-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,a,l;for(i=0,a=n.length;i<a;++i)l=n[i][e.axis],es(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Iq(Ve(this.options.clip,Rq(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||i.length-o,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,a,o,c),u=o;u<o+c;++u){const h=i[u];h.hidden||(h.active&&d?l.push(h):h.draw(e,a))}for(u=0;u<l.length;++u)l[u].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=Hq(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Bq(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",a=this._cachedDataOpts,l=e+"-"+n,o=a[l],c=this.enableOptionSharing&&qc(r);if(o)return Nw(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(Lt.elements[e]),y=()=>this.getContext(r,i,n),x=d.resolveNamedOptions(m,g,y,h);return x.$shared&&(x.$shared=c,a[l]=Object.freeze(Nw(x,c))),x}_resolveAnimations(e,n,r){const i=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,o=a[l];if(o)return o;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,r,n))}const d=new PT(i,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ag(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:l}}updateElement(e,n,r,i){ag(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!ag(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const i=r.length,a=n.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,n,r=!0){const i=this._cachedMeta,a=i.data,l=e+n;let o;const c=d=>{for(d.length+=n,o=d.length-1;o>=l;o--)d[o]=d[o-n]};for(c(a),o=e;o<l;++o)a[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Co(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ge(wa,"defaults",{}),ge(wa,"datasetElementType",null),ge(wa,"dataElementType",null);function Uq(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=xT(r.sort((i,a)=>i-a))}return t._cache.$bar}function Wq(t){const e=t.iScale,n=Uq(e,t.type);let r=e._length,i,a,l,o;const c=()=>{l===32767||l===-32768||(qc(o)&&(r=Math.min(r,Math.abs(l-o)||r)),o=l)};for(i=0,a=n.length;i<a;++i)l=e.getPixelForValue(n[i]),c();for(o=void 0,i=0,a=e.ticks.length;i<a;++i)l=e.getPixelForTick(i),c();return r}function qq(t,e,n,r){const i=n.barThickness;let a,l;return Ge(i)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=i*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function Kq(t,e,n,r){const i=e.pixels,a=i[t];let l=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;l===null&&(l=a-(o===null?e.end-e.start:o-a)),o===null&&(o=a+a-l);const d=a-(a-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/r,ratio:n.barPercentage,start:d}}function Gq(t,e,n,r){const i=n.parse(t[0],r),a=n.parse(t[1],r),l=Math.min(i,a),o=Math.max(i,a);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:a,min:l,max:o}}function _T(t,e,n,r){return yt(t)?Gq(t,e,n,r):e[n.axis]=n.parse(t,r),e}function kw(t,e,n,r){const i=t.iScale,a=t.vScale,l=i.getLabels(),o=i===a,c=[];let d,u,h,m;for(d=n,u=n+r;d<u;++d)m=e[d],h={},h[i.axis]=o||i.parse(l[d],d),c.push(_T(m,h,a,d));return c}function lg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Yq(t,e,n){return t!==0?pr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Xq(t){let e,n,r,i,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:e,top:i,bottom:a}}function Zq(t,e,n,r){let i=e.borderSkipped;const a={};if(!i){t.borderSkipped=a;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=Xq(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=u:(a[Sw(u,l,o,c)]=!0,i=d)),a[Sw(i,l,o,c)]=!0,t.borderSkipped=a}function Sw(t,e,n,r){return r?(t=Qq(t,e,n),t=Tw(t,n,e)):t=Tw(t,e,n),t}function Qq(t,e,n){return t===e?n:t===n?e:t}function Tw(t,e,n){return t==="start"?e:t==="end"?n:t}function Jq(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ru extends wa{parsePrimitiveData(e,n,r,i){return kw(e,n,r,i)}parseArrayData(e,n,r,i){return kw(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:a,vScale:l}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?o:c,u=l.axis==="x"?o:c,h=[];let m,g,y,x;for(m=r,g=r+i;m<g;++m)x=n[m],y={},y[a.axis]=a.parse(Ma(x,d),m),h.push(_T(Ma(x,u),y,l,m));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(e),l=a._custom,o=lg(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const a=i==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,i);for(let g=n;g<n+r;g++){const y=this.getParsed(g),x=a||Ge(y[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),v=(y._stacks||{})[o.axis],p={horizontal:d,base:x.base,enableBorderRadius:!v||lg(y._custom)||l===v._top||l===v._bottom,x:d?x.head:b.center,y:d?b.center:x.head,height:d?b.size:Math.abs(x.size),width:d?Math.abs(x.size):b.size};m&&(p.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const j=p.options||e[g].options;Zq(p,j,v,l),Jq(p,j,u.ratio),this.updateElement(e[g],g,p,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=r.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(n),c=o&&o[r.axis],d=u=>{const h=u._parsed.find(g=>g[r.axis]===c),m=h&&h[u.vScale.axis];if(Ge(m)||isNaN(m))return!0};for(const u of i)if(!(n!==void 0&&d(u))&&((a===!1||l.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,l;for(a=0,l=n.data.length;a<l;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const o=e.barThickness;return{min:o||Wq(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:l}}=this,o=a||0,c=this.getParsed(e),d=c._custom,u=lg(d);let h=c[n.axis],m=0,g=r?this.applyStack(n,c,r):h,y,x;g!==h&&(m=g-h,g=h),u&&(h=d.barStart,g=d.barEnd-d.barStart,h!==0&&pr(h)!==pr(d.barEnd)&&(m=0),m+=h);const b=!Ge(a)&&!u?a:m;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(m+g):y=v,x=y-v,Math.abs(x)<l){x=Yq(x,n,o)*l,h===o&&(v-=x/2);const p=n.getPixelForDecimal(0),j=n.getPixelForDecimal(1),N=Math.min(p,j),w=Math.max(p,j);v=Math.max(Math.min(v,w),N),y=v+x,r&&!u&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const p=pr(x)*n.getLineWidthForValue(o)/2;v+=p,x-=p}return{size:x,base:v,head:y,center:y+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,a=i.skipNull,l=Ve(i.maxBarThickness,1/0);let o,c;if(n.grouped){const d=a?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?Kq(e,n,i,d):qq(e,n,i,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);o=u.start+u.chunk*h+u.chunk/2,c=Math.min(l,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(l,n.min*n.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ge(Ru,"id","bar"),ge(Ru,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ge(Ru,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function eK(t,e,n){let r=1,i=1,a=0,l=0;if(e<vt){const o=t,c=o+e,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),m=Math.sin(c),g=(j,N,w)=>Gc(j,o,c,!0)?1:Math.max(N,N*n,w,w*n),y=(j,N,w)=>Gc(j,o,c,!0)?-1:Math.min(N,N*n,w,w*n),x=g(0,d,h),b=g(Ot,u,m),v=y(bt,d,h),p=y(bt+Ot,u,m);r=(x-v)/2,i=(b-p)/2,a=-(x+v)/2,l=-(b+p)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:l}}class $o extends wa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=c=>+r[c];if(Ye(r[e])){const{key:c="value"}=this._parsing;a=d=>+Ma(r[d],c)}let l,o;for(l=e,o=e+n;l<o;++l)i._parsed[l]=a(l)}}_getRotation(){return or(this.options.rotation-90)}_getCircumference(){return or(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),n=Math.max(n,a+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-l)/2,0),c=Math.min(lW(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:y,offsetY:x}=eK(h,u,c),b=(r.width-l)/m,v=(r.height-l)/g,p=Math.max(Math.min(b,v)/2,0),j=uT(this.options.radius,p),N=Math.max(j*c,0),w=(j-N)/this._getVisibleDatasetWeightTotal();this.offsetX=y*j,this.offsetY=x*j,i.total=this.calculateTotal(),this.outerRadius=j-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/vt)}updateElements(e,n,r,i){const a=i==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,m=a&&d.animateScale,g=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,i);let v=this._getRotation(),p;for(p=0;p<n;++p)v+=this._circumference(p,a);for(p=n;p<n+r;++p){const j=this._circumference(p,a),N=e[p],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+j,circumference:j,outerRadius:y,innerRadius:g};b&&(w.options=x||this.resolveDataElementOptions(p,N.active?"active":i)),v+=j,this.updateElement(N,p,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Vm(n._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,a,l,o,c;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,o=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ve(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ge($o,"id","doughnut"),ge($o,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ge($o,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ge($o,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((a,l)=>{const c=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Iu extends wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:o,count:c}=SW(n,i,l);this._drawStart=o,this._drawCount=c,TW(n)&&(o=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:d},e),this.updateElements(i,o,c,e)}updateElements(e,n,r,i){const a=i==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),m=l.axis,g=o.axis,{spanGaps:y,segment:x}=this.options,b=Kc(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||i==="none",p=n+r,j=e.length;let N=n>0&&this.getParsed(n-1);for(let w=0;w<j;++w){const E=e[w],M=v?E:{};if(w<n||w>=p){M.skip=!0;continue}const k=this.getParsed(w),T=Ge(k[g]),S=M[m]=l.getPixelForValue(k[m],w),P=M[g]=a||T?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,k,c):k[g],w);M.skip=isNaN(S)||isNaN(P)||T,M.stop=w>0&&Math.abs(k[m]-N[m])>b,x&&(M.parsed=k,M.raw=d.data[w]),h&&(M.options=u||this.resolveDataElementOptions(w,E.active?"active":i)),v||this.updateElement(E,w,M,i),N=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ge(Iu,"id","line"),ge(Iu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ge(Iu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ky{constructor(e){ge(this,"options");this.options=e||{}}static override(e){Object.assign(Ky.prototype,e)}init(){}formats(){return Qi()}parse(){return Qi()}format(){return Qi()}add(){return Qi()}diff(){return Qi()}startOf(){return Qi()}endOf(){return Qi()}}var tK={_date:Ky};function sK(t,e,n,r){const{controller:i,data:a,_sorted:l}=t,o=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&l&&a.length){const d=o._reversePixels?bW:ga;if(r){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(a,e,n-h),g=d(a,e,n+h);return{lo:m.lo,hi:g.hi}}}}else{const u=d(a,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:m}=t,g=m.slice(0,u.lo+1).reverse().findIndex(x=>!Ge(x[h.axis]));u.lo-=Math.max(0,g);const y=m.slice(u.hi).findIndex(x=>!Ge(x[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:a.length-1}}function gd(t,e,n,r,i){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let o=0,c=a.length;o<c;++o){const{index:d,data:u}=a[o],{lo:h,hi:m}=sK(a[o],e,l,i);for(let g=h;g<=m;++g){const y=u[g];y.skip||r(y,d,g)}}}function nK(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,l=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function og(t,e,n,r,i){const a=[];return!i&&!t.isPointInArea(e)||gd(t,n,e,function(o,c,d){!i&&!Pr(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&a.push({element:o,datasetIndex:c,index:d})},!0),a}function rK(t,e,n,r){let i=[];function a(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],r),{angle:h}=fT(l,{x:e.x,y:e.y});Gc(h,d,u)&&i.push({element:l,datasetIndex:o,index:c})}return gd(t,n,e,a),i}function iK(t,e,n,r,i,a){let l=[];const o=nK(n);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const g=u.inRange(e.x,e.y,i);if(r&&!g)return;const y=u.getCenterPoint(i);if(!(!!a||t.isPointInArea(y))&&!g)return;const b=o(e,y);b<c?(l=[{element:u,datasetIndex:h,index:m}],c=b):b===c&&l.push({element:u,datasetIndex:h,index:m})}return gd(t,n,e,d),l}function cg(t,e,n,r,i,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?rK(t,e,n,i):iK(t,e,n,r,i,a)}function Cw(t,e,n,r,i){const a=[],l=n==="x"?"inXRange":"inYRange";let o=!1;return gd(t,n,e,(c,d,u)=>{c[l]&&c[l](e[n],i)&&(a.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(e.x,e.y,i))}),r&&!o?[]:a}var aK={evaluateInteractionItems:gd,modes:{index(t,e,n,r){const i=ra(e,t),a=n.axis||"x",l=n.includeInvisible||!1,o=n.intersect?og(t,i,a,r,l):cg(t,i,a,!1,r,l),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,r){const i=ra(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let o=n.intersect?og(t,i,a,r,l):cg(t,i,a,!1,r,l);if(o.length>0){const c=o[0].datasetIndex,d=t.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(t,e,n,r){const i=ra(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return og(t,i,a,r,l)},nearest(t,e,n,r){const i=ra(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return cg(t,i,a,n.intersect,r,l)},x(t,e,n,r){const i=ra(e,t);return Cw(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ra(e,t);return Cw(t,i,"y",n.intersect,r)}}};const LT=["left","top","right","bottom"];function Eo(t,e){return t.filter(n=>n.pos===e)}function Ew(t,e){return t.filter(n=>LT.indexOf(n.pos)===-1&&n.box.axis===e)}function Do(t,e){return t.sort((n,r)=>{const i=e?r:n,a=e?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function lK(t){const e=[];let n,r,i,a,l,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:a,options:{stack:l,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:o});return e}function oK(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!LT.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function cK(t,e){const n=oK(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,l,o;for(a=0,l=t.length;a<l;++a){o=t[a];const{fullSize:c}=o.box,d=n[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*r:c&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:c&&e.availableHeight)}return n}function dK(t){const e=lK(t),n=Do(e.filter(d=>d.box.fullSize),!0),r=Do(Eo(e,"left"),!0),i=Do(Eo(e,"right")),a=Do(Eo(e,"top"),!0),l=Do(Eo(e,"bottom")),o=Ew(e,"x"),c=Ew(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(c).concat(l).concat(o),chartArea:Eo(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:a.concat(l).concat(o)}}function Dw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function AT(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uK(t,e,n,r){const{pos:i,box:a}=n,l=t.maxPadding;if(!Ye(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?a.height:a.width),n.size=h.size/h.count,t[i]+=n.size}a.getPadding&&AT(l,a.getPadding());const o=Math.max(0,e.outerWidth-Dw(l,t,"left","right")),c=Math.max(0,e.outerHeight-Dw(l,t,"top","bottom")),d=o!==t.w,u=c!==t.h;return t.w=o,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function hK(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function mK(t,e){const n=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return r(t?["left","right"]:["top","bottom"])}function Bo(t,e,n,r){const i=[];let a,l,o,c,d,u;for(a=0,l=t.length,d=0;a<l;++a){o=t[a],c=o.box,c.update(o.width||e.w,o.height||e.h,mK(o.horizontal,e));const{same:h,other:m}=uK(e,n,o,r);d|=h&&i.length,u=u||m,c.fullSize||i.push(o)}return d&&Bo(i,e,n,r)||u}function ru(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Pw(t,e,n,r){const i=n.padding;let{x:a,y:l}=e;for(const o of t){const c=o.box,d=r[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=e.w*u,m=d.size||c.height;qc(d.start)&&(l=d.start),c.fullSize?ru(c,i.left,l,n.outerWidth-i.right-i.left,m):ru(c,e.left+d.placed,l,h,m),d.start=l,d.placed+=h,l=c.bottom}else{const h=e.h*u,m=d.size||c.width;qc(d.start)&&(a=d.start),c.fullSize?ru(c,a,i.top,m,n.outerHeight-i.bottom-i.top):ru(c,a,e.top+d.placed,m,h),d.start=a,d.placed+=h,a=c.right}}e.x=a,e.y=l}var mn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ns(t.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(n-i.height,0),o=dK(t.boxes),c=o.vertical,d=o.horizontal;nt(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/u,hBoxMaxHeight:l/2}),m=Object.assign({},i);AT(m,Ns(r));const g=Object.assign({maxPadding:m,w:a,h:l,x:i.left,y:i.top},i),y=cK(c.concat(d),h);Bo(o.fullSize,g,h,y),Bo(c,g,h,y),Bo(d,g,h,y)&&Bo(c,g,h,y),hK(g),Pw(o.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,Pw(o.rightAndBottom,g,h,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},nt(o.chartArea,x=>{const b=x.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class RT{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class fK extends RT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ou="$chartjs",gK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mw=t=>t===null||t==="";function xK(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ou]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Mw(i)){const a=fw(t,"width");a!==void 0&&(t.width=a)}if(Mw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=fw(t,"height");a!==void 0&&(t.height=a)}return t}const IT=gq?{passive:!0}:!1;function pK(t,e,n){t&&t.addEventListener(e,n,IT)}function yK(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,IT)}function vK(t,e){const n=gK[t.type]||t.type,{x:r,y:i}=ra(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Kh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bK(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||Kh(o.addedNodes,r),l=l&&!Kh(o.removedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function jK(t,e,n){const r=t.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||Kh(o.removedNodes,r),l=l&&!Kh(o.addedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xc=new Map;let _w=0;function OT(){const t=window.devicePixelRatio;t!==_w&&(_w=t,Xc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function wK(t,e){Xc.size||window.addEventListener("resize",OT),Xc.set(t,e)}function NK(t){Xc.delete(t),Xc.size||window.removeEventListener("resize",OT)}function kK(t,e,n){const r=t.canvas,i=r&&qy(r);if(!i)return;const a=yT((o,c)=>{const d=i.clientWidth;n(o,c),d<i.clientWidth&&n()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return l.observe(i),wK(t,a),l}function dg(t,e,n){n&&n.disconnect(),e==="resize"&&NK(t)}function SK(t,e,n){const r=t.canvas,i=yT(a=>{t.ctx!==null&&n(vK(a,t))},t);return pK(r,e,i),i}class TK extends RT{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(xK(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ou])return!1;const r=n[Ou].initial;["height","width"].forEach(a=>{const l=r[a];Ge(l)?n.removeAttribute(a):n.setAttribute(a,l)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[Ou],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),l={attach:bK,detach:jK,resize:kK}[n]||SK;i[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:dg,detach:dg,resize:dg}[n]||yK)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return fq(e,n,r,i)}isAttached(e){const n=e&&qy(e);return!!(n&&n.isConnected)}}function CK(t){return!Wy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?fK:TK}var uu;let Kr=(uu=class{constructor(){ge(this,"x");ge(this,"y");ge(this,"active",!1);ge(this,"options");ge(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Kc(this.x)&&Kc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}},ge(uu,"defaults",{}),ge(uu,"defaultRoutes"),uu);function EK(t,e){const n=t.options.ticks,r=DK(t),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?MK(e):[],l=a.length,o=a[0],c=a[l-1],d=[];if(l>i)return _K(e,d,a,l/i),d;const u=PK(a,e,i);if(l>0){let h,m;const g=l>1?Math.round((c-o)/(l-1)):null;for(iu(e,d,u,Ge(g)?0:o-g,o),h=0,m=l-1;h<m;h++)iu(e,d,u,a[h],a[h+1]);return iu(e,d,u,c,Ge(g)?e.length:c+g),d}return iu(e,d,u),d}function DK(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function PK(t,e,n){const r=LK(t),i=e.length/n;if(!r)return Math.max(i,1);const a=gW(r);for(let l=0,o=a.length-1;l<o;l++){const c=a[l];if(c>i)return c}return Math.max(i,1)}function MK(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function _K(t,e,n,r){let i=0,a=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),i++,a=n[i*r])}function iu(t,e,n,r,i){const a=Ve(r,0),l=Math.min(Ve(i,t.length),t.length);let o=0,c,d,u;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=a;u<0;)o++,u=Math.round(a+o*n);for(d=Math.max(a,0);d<l;d++)d===u&&(e.push(t[d]),o++,u=Math.round(a+o*n))}function LK(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const AK=t=>t==="left"?"right":t==="right"?"left":t,Lw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Aw=(t,e)=>Math.min(e||t,t);function Rw(t,e){const n=[],r=t.length/e,i=t.length;let a=0;for(;a<i;a+=r)n.push(t[Math.floor(a)]);return n}function RK(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,o=1e-6;let c=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(c-a,l-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<a-o||c>l+o)))return c}function IK(t,e){nt(t,n=>{const r=n.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function Po(t){return t.drawTicks?t.tickLength:0}function Iw(t,e){if(!t.display)return 0;const n=Gt(t.font,e),r=Ns(t.padding);return(yt(t.text)?t.text.length:1)*n.lineHeight+r.height}function OK(t,e){return Wi(t,{scale:e,type:"scale"})}function FK(t,e,n){return Wi(t,{tick:n,index:e,type:"tick"})}function VK(t,e,n){let r=Oy(t);return(n&&e!=="right"||!n&&e==="right")&&(r=AK(r)),r}function $K(t,e,n,r){const{top:i,left:a,bottom:l,right:o,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,m,g,y;const x=l-i,b=o-a;if(t.isHorizontal()){if(g=xs(r,a,o),Ye(n)){const v=Object.keys(n)[0],p=n[v];y=u[v].getPixelForValue(p)+x-e}else n==="center"?y=(d.bottom+d.top)/2+x-e:y=Lw(t,n,e);m=o-a}else{if(Ye(n)){const v=Object.keys(n)[0],p=n[v];g=u[v].getPixelForValue(p)-b+e}else n==="center"?g=(d.left+d.right)/2-b+e:g=Lw(t,n,e);y=xs(r,l,i),h=n==="left"?-Ot:Ot}return{titleX:g,titleY:y,maxWidth:m,rotation:h}}class Ia extends Kr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Gs(e,Number.POSITIVE_INFINITY),n=Gs(n,Number.NEGATIVE_INFINITY),r=Gs(r,Number.POSITIVE_INFINITY),i=Gs(i,Number.NEGATIVE_INFINITY),{min:Gs(e,r),max:Gs(n,i),minDefined:es(e),maxDefined:es(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,e),i||(n=Math.min(n,l.min)),a||(r=Math.max(r,l.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:Gs(n,Gs(r,n)),max:Gs(r,Gs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:a,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qW(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Rw(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=EK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=ct(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Aw(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let l=i,o,c,d;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,g=js(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:g/(r-1),h+6>o&&(o=g/(r-(e.offset?.5:1)),c=this.maxHeight-Po(e.grid)-n.padding-Iw(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),l=Ry(Math.min(Math.asin(js((u.highest.height+6)/o,-1,1)),Math.asin(js(c/d,-1,1))-Math.asin(js(m/d,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=Iw(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Po(a)+c):(e.height=this.maxHeight,e.width=Po(a)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),g=r.padding*2,y=or(this.labelRotation),x=Math.cos(y),b=Math.sin(y);if(o){const v=r.mirror?0:b*h.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=r.mirror?0:x*h.width+b*m.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(d,u,b,x)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:a,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?d?(m=i*e.width,g=r*n.height):(m=r*e.height,g=i*n.width):a==="start"?g=n.width:a==="end"?m=e.width:a!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+l)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;a==="start"?(u=0,h=e.height):a==="end"&&(u=n.height,h=0),this.paddingTop=u+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ge(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Rw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:a}=this,l=[],o=[],c=Math.floor(n/Aw(n,r));let d=0,u=0,h,m,g,y,x,b,v,p,j,N,w;for(h=0;h<n;h+=c){if(y=e[h].label,x=this._resolveTickFontOptions(h),i.font=b=x.string,v=a[b]=a[b]||{data:{},gc:[]},p=x.lineHeight,j=N=0,!Ge(y)&&!yt(y))j=Wh(i,v.data,v.gc,j,y),N=p;else if(yt(y))for(m=0,g=y.length;m<g;++m)w=y[m],!Ge(w)&&!yt(w)&&(j=Wh(i,v.data,v.gc,j,w),N+=p);l.push(j),o.push(N),d=Math.max(j,d),u=Math.max(N,u)}IK(a,n);const E=l.indexOf(d),M=o.indexOf(u),k=T=>({width:l[T]||0,height:o[T]||0});return{first:k(0),last:k(n-1),widest:k(E),highest:k(M),widths:l,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return vW(this._alignToPixels?Zi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=FK(this.getContext(),e,r))}return this.$context||(this.$context=OK(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=or(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,o=a?a.widest.width+l:0,c=a?a.highest.height+l:0;return this.isHorizontal()?c*r>o*i?o/r:c/i:c*i<o*r?c/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:l,border:o}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Po(a),g=[],y=o.setContext(this.getContext()),x=y.display?y.width:0,b=x/2,v=function(L){return Zi(r,L,x)};let p,j,N,w,E,M,k,T,S,P,C,A;if(l==="top")p=v(this.bottom),M=this.bottom-m,T=p-b,P=v(e.top)+b,A=e.bottom;else if(l==="bottom")p=v(this.top),P=e.top,A=v(e.bottom)-b,M=p+b,T=this.top+m;else if(l==="left")p=v(this.right),E=this.right-m,k=p-b,S=v(e.left)+b,C=e.right;else if(l==="right")p=v(this.left),S=e.left,C=v(e.right)-b,E=p+b,k=this.left+m;else if(n==="x"){if(l==="center")p=v((e.top+e.bottom)/2+.5);else if(Ye(l)){const L=Object.keys(l)[0],O=l[L];p=v(this.chart.scales[L].getPixelForValue(O))}P=e.top,A=e.bottom,M=p+b,T=M+m}else if(n==="y"){if(l==="center")p=v((e.left+e.right)/2);else if(Ye(l)){const L=Object.keys(l)[0],O=l[L];p=v(this.chart.scales[L].getPixelForValue(O))}E=p-b,k=E-m,S=e.left,C=e.right}const I=Ve(i.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/I));for(j=0;j<h;j+=V){const L=this.getContext(j),O=a.setContext(L),D=o.setContext(L),R=O.lineWidth,B=O.color,X=D.dash||[],Z=D.dashOffset,$=O.tickWidth,Y=O.tickColor,_=O.tickBorderDash||[],H=O.tickBorderDashOffset;N=RK(this,j,c),N!==void 0&&(w=Zi(r,N,R),d?E=k=S=C=w:M=T=P=A=w,g.push({tx1:E,ty1:M,tx2:k,ty2:T,x1:S,y1:P,x2:C,y2:A,width:R,color:B,borderDash:X,borderDashOffset:Z,tickWidth:$,tickColor:Y,tickBorderDash:_,tickBorderDashOffset:H}))}return this._ticksLength=h,this._borderValue=p,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:a}=r,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,m=Po(r.grid),g=m+u,y=h?-u:g,x=-or(this.labelRotation),b=[];let v,p,j,N,w,E,M,k,T,S,P,C,A="middle";if(i==="top")E=this.bottom-y,M=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+y,M=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,w=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,w=V.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+g;else if(Ye(i)){const V=Object.keys(i)[0],L=i[V];E=this.chart.scales[V].getPixelForValue(L)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-g;else if(Ye(i)){const V=Object.keys(i)[0],L=i[V];w=this.chart.scales[V].getPixelForValue(L)}M=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?A="top":c==="end"&&(A="bottom"));const I=this._getLabelSizes();for(v=0,p=o.length;v<p;++v){j=o[v],N=j.label;const V=a.setContext(this.getContext(v));k=this.getPixelForTick(v)+a.labelOffset,T=this._resolveTickFontOptions(v),S=T.lineHeight,P=yt(N)?N.length:1;const L=P/2,O=V.color,D=V.textStrokeColor,R=V.textStrokeWidth;let B=M;l?(w=k,M==="inner"&&(v===p-1?B=this.options.reverse?"left":"right":v===0?B=this.options.reverse?"right":"left":B="center"),i==="top"?d==="near"||x!==0?C=-P*S+S/2:d==="center"?C=-I.highest.height/2-L*S+S:C=-I.highest.height+S/2:d==="near"||x!==0?C=S/2:d==="center"?C=I.highest.height/2-L*S:C=I.highest.height-P*S,h&&(C*=-1),x!==0&&!V.showLabelBackdrop&&(w+=S/2*Math.sin(x))):(E=k,C=(1-P)*S/2);let X;if(V.showLabelBackdrop){const Z=Ns(V.backdropPadding),$=I.heights[v],Y=I.widths[v];let _=C-Z.top,H=0-Z.left;switch(A){case"middle":_-=$/2;break;case"bottom":_-=$;break}switch(M){case"center":H-=Y/2;break;case"right":H-=Y;break;case"inner":v===p-1?H-=Y:v>0&&(H-=Y/2);break}X={left:H,top:_,width:Y+Z.width,height:$+Z.height,color:V.backdropColor}}b.push({label:N,font:T,textOffset:C,options:{rotation:x,color:O,strokeColor:D,strokeWidth:R,textAlign:B,textBaseline:A,translation:[w,E],backdrop:X}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-or(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),o=e+a,c=l.widest.width;let d,u;return n==="left"?i?(u=this.right+a,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?i?(u=this.left+a,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const o=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(a=0,l=i.length;a<l;++a){const c=i[a];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Zi(e,this.left,l)-l/2,u=Zi(e,this.right,o)+o/2,h=m=c):(h=Zi(e,this.top,l)-l/2,m=Zi(e,this.bottom,o)+o/2,d=u=c),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Vy(r,i);const a=this.getLabelItems(e);for(const l of a){const o=l.options,c=l.font,d=l.label,u=l.textOffset;La(r,d,0,u,c,o)}i&&$y(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=Gt(r.font),l=Ns(r.padding),o=r.align;let c=a.lineHeight/2;n==="bottom"||n==="center"||Ye(n)?(c+=l.bottom,yt(r.text)&&(c+=a.lineHeight*(r.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=$K(this,c,n,o);La(e,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:m,textAlign:VK(o,n,i),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ve(e.grid&&e.grid.z,-1),i=Ve(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ia.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,l;for(a=0,l=n.length;a<l;++a){const o=n[a];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class au{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;zK(n)&&(r=this.register(n));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,BK(e,l,r),this.override&&Lt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Lt[i]&&(delete Lt[i][r],this.override&&delete _a[r])}}function BK(t,e,n){const r=Wc(Object.create(null),[n?Lt.get(n):{},Lt.get(e),t.defaults]);Lt.set(e,r),t.defaultRoutes&&HK(e,t.defaultRoutes),t.descriptors&&Lt.describe(e,t.descriptors)}function HK(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),a=[t].concat(r).join("."),l=e[n].split("."),o=l.pop(),c=l.join(".");Lt.route(a,i,c,o)})}function zK(t){return"id"in t&&"defaults"in t}class UK{constructor(){this.controllers=new au(wa,"datasets",!0),this.elements=new au(Kr,"elements"),this.plugins=new au(Object,"plugins"),this.scales=new au(Ia,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):nt(i,l=>{const o=r||this._getRegistryForType(l);this._exec(e,o,l)})})}_exec(e,n,r){const i=Ay(e);ct(r["before"+i],[],r),n[e](r),ct(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var er=new UK;class WK{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,r,i){i=i||{};for(const a of e){const l=a.plugin,o=l[r],c=[n,i,a.options];if(ct(o,c,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ve(r.options&&r.options.plugins,{}),a=qK(r);return i===!1&&!n?[]:GK(e,a,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(a,l)=>a.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function qK(t){const e={},n=[],r=Object.keys(er.plugins.items);for(let a=0;a<r.length;a++)n.push(er.getPlugin(r[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function KK(t,e){return!e&&t===!1?null:t===!0?{}:t}function GK(t,{plugins:e,localIds:n},r,i){const a=[],l=t.getContext();for(const o of e){const c=o.id,d=KK(r[c],i);d!==null&&a.push({plugin:o,options:YK(t.config,{plugin:o,local:n[c]},d,l)})}return a}function YK(t,{plugin:e,local:n},r,i){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cx(t,e){const n=Lt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function XK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ZK(t,e){return t===e?"_index_":"_value_"}function Ow(t){if(t==="x"||t==="y"||t==="r")return t}function QK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dx(t,...e){if(Ow(t))return t;for(const n of e){const r=n.axis||QK(n.position)||t.length>1&&Ow(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Fw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function JK(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Fw(t,"x",n[0])||Fw(t,"y",n[0])}return{}}function eG(t,e){const n=_a[t.type]||{scales:{}},r=e.scales||{},i=cx(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const o=r[l];if(!Ye(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=dx(l,o,JK(l,t),Lt.scales[o.type]),d=ZK(c,i),u=n.scales||{};a[l]=cc(Object.create(null),[{axis:c},o,u[c],u[d]])}),t.data.datasets.forEach(l=>{const o=l.type||t.type,c=l.indexAxis||cx(o,e),u=(_a[o]||{}).scales||{};Object.keys(u).forEach(h=>{const m=XK(h,c),g=l[m+"AxisID"]||m;a[g]=a[g]||Object.create(null),cc(a[g],[{axis:m},r[g],u[h]])})}),Object.keys(a).forEach(l=>{const o=a[l];cc(o,[Lt.scales[o.type],Lt.scale])}),a}function FT(t){const e=t.options||(t.options={});e.plugins=Ve(e.plugins,{}),e.scales=eG(t,e)}function VT(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tG(t){return t=t||{},t.data=VT(t.data),FT(t),t}const Vw=new Map,$T=new Set;function lu(t,e){let n=Vw.get(t);return n||(n=e(),Vw.set(t,n),$T.add(n)),n}const Mo=(t,e,n)=>{const r=Ma(e,n);r!==void 0&&t.add(r)};class sG{constructor(e){this._config=tG(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=VT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),FT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return lu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return lu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return lu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return lu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:a}=this,l=this._cachedScopes(e,r),o=l.get(n);if(o)return o;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>Mo(c,e,h))),u.forEach(h=>Mo(c,i,h)),u.forEach(h=>Mo(c,_a[a]||{},h)),u.forEach(h=>Mo(c,Lt,h)),u.forEach(h=>Mo(c,lx,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),$T.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,_a[n]||{},Lt.datasets[n]||{},{type:n},Lt,lx]}resolveNamedOptions(e,n,r,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:o}=$w(this._resolverCache,e,i);let c=l;if(rG(l,n)){a.$shared=!1,r=Vi(r)?r():r;const d=this.createResolver(e,r,o);c=zl(l,r,d)}for(const d of n)a[d]=c[d];return a}createResolver(e,n,r=[""],i){const{resolver:a}=$w(this._resolverCache,e,r);return Ye(n)?zl(a,n,void 0,i):a}}function $w(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let a=r.get(i);return a||(a={resolver:Hy(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,a)),a}const nG=t=>Ye(t)&&Object.getOwnPropertyNames(t).some(e=>Vi(t[e]));function rG(t,e){const{isScriptable:n,isIndexable:r}=wT(t);for(const i of e){const a=n(i),l=r(i),o=(l||a)&&t[i];if(a&&(Vi(o)||nG(o))||l&&yt(o))return!0}return!1}var iG="4.4.9";const aG=["top","bottom","left","right","chartArea"];function Bw(t,e){return t==="top"||t==="bottom"||aG.indexOf(t)===-1&&e==="x"}function Hw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function zw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function lG(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function BT(t){return Wy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fu={},Uw=t=>{const e=BT(t);return Object.values(Fu).filter(n=>n.canvas===e).pop()};function oG(t,e,n){const r=Object.keys(t);for(const i of r){const a=+i;if(a>=e){const l=t[i];delete t[i],(n>0||a>e)&&(t[a+n]=l)}}}function cG(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Jr;let Hm=(Jr=class{static register(...e){er.add(...e),Ww()}static unregister(...e){er.remove(...e),Ww()}constructor(e,n){const r=this.config=new sG(n),i=BT(e),a=Uw(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||CK(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=aW(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NW(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],Fu[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}jr.listen(this,"complete",zw),jr.listen(this,"progress",lG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return Ge(e)?n&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dw(this.canvas,this.ctx),this}stop(){return jr.stop(this),this}resize(e,n){jr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,n,a),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,mw(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),ct(r.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};nt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((l,o)=>(l[o]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const o=n[l],c=dx(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),nt(a,l=>{const o=l.options,c=o.id,d=dx(c,o),u=Ve(o.type,l.dtype);(o.position===void 0||Bw(o.position,d)!==Bw(l.dposition))&&(o.position=l.dposition),i[c]=!0;let h=null;if(c in r&&r[c].type===u)h=r[c];else{const m=er.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),nt(i,(l,o)=>{l||delete r[o]}),nt(r,l=>{mn.configure(this,l,l.options),mn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Hw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let l=this.getDatasetMeta(r);const o=a.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=o,l.indexAxis=a.indexAxis||cx(o,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const c=er.getController(o),{datasetElementType:d,dataElementType:u}=Lt.datasets[o];Object.assign(c,{dataElementType:er.getElement(u),datasetElementType:d&&er.getElement(d)}),l.controller=new c(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){nt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(m),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||nt(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Hw("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){nt(this.scales,e=>{mn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!tw(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const l=r==="_removeElements"?-a:a;oG(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,o)=>o+","+l.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!tw(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],nt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Vi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jr.has(this)?this.attached&&!jr.running(this)&&jr.start(this):(this.draw(),zw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Dq(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Vy(n,i),e.controller.draw(),i&&$y(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Pr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const a=aK.modes[n];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Wi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);qc(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),jr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),dw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},i=(a,l,o)=>{a.offsetX=l,a.offsetY=o,this._eventHandler(a)};nt(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():l()}unbindEvents(){nt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},nt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let a,l,o,c;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){l=e[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[l],index:l}});!Hh(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),l=a(n,e),o=r?e:a(e,n);l.length&&this.updateHoverStyle(l,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:a}=this,l=n,o=this._getActiveElements(e,i,r,l),c=hW(e),d=cG(e,this._lastEvent,r,c);r&&(this._lastEvent=null,ct(a.onHover,[e,o,this],this),c&&ct(a.onClick,[e,o,this],this));const u=!Hh(o,i);return(u||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},ge(Jr,"defaults",Lt),ge(Jr,"instances",Fu),ge(Jr,"overrides",_a),ge(Jr,"registry",er),ge(Jr,"version",iG),ge(Jr,"getChart",Uw),Jr);function Ww(){return nt(Hm.instances,t=>t._plugins.invalidate())}function dG(t,e,n){const{startAngle:r,pixelMargin:i,x:a,y:l,outerRadius:o,innerRadius:c}=e;let d=i/o;t.beginPath(),t.arc(a,l,o,r-d,n+d),c>i?(d=i/c,t.arc(a,l,c,n+d,r-d,!0)):t.arc(a,l,i,n+Ot,r-Ot),t.closePath(),t.clip()}function uG(t){return By(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hG(t,e,n,r){const i=uG(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,r*e/2),o=c=>{const d=(n-Math.min(a,c))*r/2;return js(c,0,Math.min(a,d))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:js(i.innerStart,0,l),innerEnd:js(i.innerEnd,0,l)}}function qa(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Gh(t,e,n,r,i,a){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-d,0),m=u>0?u+r+n+d:0;let g=0;const y=i-c;if(r){const V=u>0?u-r:0,L=h>0?h-r:0,O=(V+L)/2,D=O!==0?y*O/(O+r):y;g=(y-D)/2}const x=Math.max(.001,y*h-n/bt)/h,b=(y-x)/2,v=c+b+g,p=i-b-g,{outerStart:j,outerEnd:N,innerStart:w,innerEnd:E}=hG(e,m,h,p-v),M=h-j,k=h-N,T=v+j/M,S=p-N/k,P=m+w,C=m+E,A=v+w/P,I=p-E/C;if(t.beginPath(),a){const V=(T+S)/2;if(t.arc(l,o,h,T,V),t.arc(l,o,h,V,S),N>0){const R=qa(k,S,l,o);t.arc(R.x,R.y,N,S,p+Ot)}const L=qa(C,p,l,o);if(t.lineTo(L.x,L.y),E>0){const R=qa(C,I,l,o);t.arc(R.x,R.y,E,p+Ot,I+Math.PI)}const O=(p-E/m+(v+w/m))/2;if(t.arc(l,o,m,p-E/m,O,!0),t.arc(l,o,m,O,v+w/m,!0),w>0){const R=qa(P,A,l,o);t.arc(R.x,R.y,w,A+Math.PI,v-Ot)}const D=qa(M,v,l,o);if(t.lineTo(D.x,D.y),j>0){const R=qa(M,T,l,o);t.arc(R.x,R.y,j,v-Ot,T)}}else{t.moveTo(l,o);const V=Math.cos(T)*h+l,L=Math.sin(T)*h+o;t.lineTo(V,L);const O=Math.cos(S)*h+l,D=Math.sin(S)*h+o;t.lineTo(O,D)}t.closePath()}function mG(t,e,n,r,i){const{fullCircles:a,startAngle:l,circumference:o}=e;let c=e.endAngle;if(a){Gh(t,e,n,r,c,i);for(let d=0;d<a;++d)t.fill();isNaN(o)||(c=l+(o%vt||vt))}return Gh(t,e,n,r,c,i),t.fill(),c}function fG(t,e,n,r,i){const{fullCircles:a,startAngle:l,circumference:o,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m}=c,g=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=m,g?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let y=e.endAngle;if(a){Gh(t,e,n,r,y,i);for(let x=0;x<a;++x)t.stroke();isNaN(o)||(y=l+(o%vt||vt))}g&&dG(t,e,y),a||(Gh(t,e,n,r,y,i),t.stroke())}class Ho extends Kr{constructor(n){super();ge(this,"circumference");ge(this,"endAngle");ge(this,"fullCircles");ge(this,"innerRadius");ge(this,"outerRadius");ge(this,"pixelMargin");ge(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.getProps(["x","y"],i),{angle:l,distance:o}=fT(a,{x:n,y:r}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=Ve(m,d-c),x=Gc(l,c,d)&&c!==d,b=y>=vt||x,v=pi(o,u+g,h+g);return b&&v}getCenterPoint(n){const{x:r,y:i,startAngle:a,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(a+l)/2,m=(o+c+u+d)/2;return{x:r+Math.cos(h)*m,y:i+Math.sin(h)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>vt?Math.floor(i/vt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(bt,i||0)),u=a*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,mG(n,this,u,l,o),fG(n,this,u,l,o),n.restore()}}ge(Ho,"id","arc"),ge(Ho,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ge(Ho,"defaultRoutes",{backgroundColor:"backgroundColor"}),ge(Ho,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function HT(t,e,n=e){t.lineCap=Ve(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ve(n.borderDash,e.borderDash)),t.lineDashOffset=Ve(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ve(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ve(n.borderWidth,e.borderWidth),t.strokeStyle=Ve(n.borderColor,e.borderColor)}function gG(t,e,n){t.lineTo(n.x,n.y)}function xG(t){return t.stepped?OW:t.tension||t.cubicInterpolationMode==="monotone"?FW:gG}function zT(t,e,n={}){const r=t.length,{start:i=0,end:a=r-1}=n,{start:l,end:o}=e,c=Math.max(i,l),d=Math.min(a,o),u=i<l&&a<l||i>o&&a>o;return{count:r,start:c,loop:e.loop,ilen:d<c&&!u?r+d-c:d-c}}function pG(t,e,n,r){const{points:i,options:a}=e,{count:l,start:o,loop:c,ilen:d}=zT(i,n,r),u=xG(a);let{move:h=!0,reverse:m}=r||{},g,y,x;for(g=0;g<=d;++g)y=i[(o+(m?d-g:g))%l],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):u(t,x,y,m,a.stepped),x=y);return c&&(y=i[(o+(m?d:0))%l],u(t,x,y,m,a.stepped)),!!c}function yG(t,e,n,r){const i=e.points,{count:a,start:l,ilen:o}=zT(i,n,r),{move:c=!0,reverse:d}=r||{};let u=0,h=0,m,g,y,x,b,v;const p=N=>(l+(d?o-N:N))%a,j=()=>{x!==b&&(t.lineTo(u,b),t.lineTo(u,x),t.lineTo(u,v))};for(c&&(g=i[p(0)],t.moveTo(g.x,g.y)),m=0;m<=o;++m){if(g=i[p(m)],g.skip)continue;const N=g.x,w=g.y,E=N|0;E===y?(w<x?x=w:w>b&&(b=w),u=(h*u+N)/++h):(j(),t.lineTo(N,w),y=E,h=0,x=b=w),v=w}j()}function ux(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?yG:pG}function vG(t){return t.stepped?xq:t.tension||t.cubicInterpolationMode==="monotone"?pq:ia}function bG(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),HT(t,e.options),t.stroke(i)}function jG(t,e,n,r){const{segments:i,options:a}=e,l=ux(e);for(const o of i)HT(t,a,o.style),t.beginPath(),l(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const wG=typeof Path2D=="function";function NG(t,e,n,r){wG&&!e.options.segment?bG(t,e,n,r):jG(t,e,n,r)}class zo extends Kr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;oq(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Sq(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],a=this.points,l=wq(this,{property:n,start:i,end:i});if(!l.length)return;const o=[],c=vG(r);let d,u;for(d=0,u=l.length;d<u;++d){const{start:h,end:m}=l[d],g=a[h],y=a[m];if(g===y){o.push(g);continue}const x=Math.abs((i-g[n])/(y[n]-g[n])),b=c(g,y,x,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return ux(this)(e,this,n,r)}path(e,n,r){const i=this.segments,a=ux(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)l&=a(e,this,o,{start:n,end:n+r-1});return!!l}draw(e,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),NG(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ge(zo,"id","line"),ge(zo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ge(zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ge(zo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function qw(t,e,n,r){const i=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<i.radius+i.hitRadius}class Vu extends Kr{constructor(n){super();ge(this,"parsed");ge(this,"skip");ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const a=this.options,{x:l,y:o}=this.getProps(["x","y"],i);return Math.pow(n-l,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,r){return qw(this,n,"x",r)}inYRange(n,r){return qw(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Pr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,ox(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ge(Vu,"id","point"),ge(Vu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ge(Vu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function UT(t,e){const{x:n,y:r,base:i,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let o,c,d,u,h;return t.horizontal?(h=l/2,o=Math.min(n,i),c=Math.max(n,i),d=r-h,u=r+h):(h=a/2,o=n-h,c=n+h,d=Math.min(r,i),u=Math.max(r,i)),{left:o,top:d,right:c,bottom:u}}function yi(t,e,n,r){return t?0:js(e,n,r)}function kG(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,a=jT(r);return{t:yi(i.top,a.top,0,n),r:yi(i.right,a.right,0,e),b:yi(i.bottom,a.bottom,0,n),l:yi(i.left,a.left,0,e)}}function SG(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=ba(i),l=Math.min(e,n),o=t.borderSkipped,c=r||Ye(i);return{topLeft:yi(!c||o.top||o.left,a.topLeft,0,l),topRight:yi(!c||o.top||o.right,a.topRight,0,l),bottomLeft:yi(!c||o.bottom||o.left,a.bottomLeft,0,l),bottomRight:yi(!c||o.bottom||o.right,a.bottomRight,0,l)}}function TG(t){const e=UT(t),n=e.right-e.left,r=e.bottom-e.top,i=kG(t,n/2,r/2),a=SG(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function ug(t,e,n,r){const i=e===null,a=n===null,o=t&&!(i&&a)&&UT(t,r);return o&&(i||pi(e,o.left,o.right))&&(a||pi(n,o.top,o.bottom))}function CG(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function EG(t,e){t.rect(e.x,e.y,e.w,e.h)}function hg(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+a,h:t.h+l,radius:t.radius}}class $u extends Kr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:l}=TG(this),o=CG(l.radius)?Yc:EG;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),o(e,hg(l,n,a)),e.clip(),o(e,hg(a,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,hg(a,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return ug(this,e,n,r)}inXRange(e,n){return ug(this,e,null,n)}inYRange(e,n){return ug(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ge($u,"id","bar"),ge($u,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ge($u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Kw=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},DG=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Gw extends Kr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Gt(r.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=Kw(r,a);let d,u;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,a,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,i,o,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:a,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+o;let h=e;a.textAlign="left",a.textBaseline="middle";let m=-1,g=-u;return this.legendItems.forEach((y,x)=>{const b=r+n/2+a.measureText(y.text).width;(x===0||d[d.length-1]+b+2*o>l)&&(h+=u,d[d.length-(x>0?0:1)]=0,g+=u,m++),c[x]={left:0,top:g,row:m,width:b,height:i},d[d.length-1]+=b+o}),h}_fitCols(e,n,r,i){const{ctx:a,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-e;let h=o,m=0,g=0,y=0,x=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:p,itemHeight:j}=PG(r,n,a,b,i);v>0&&g+j+2*o>u&&(h+=m+o,d.push({width:m,height:g}),y+=m+o,x++,m=g=0),c[v]={left:y,top:g,col:x,width:p,height:j},m=Math.max(m,p),g+=j+o}),h+=m,d.push({width:m,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,l=Nl(a,this.left,this.width);if(this.isHorizontal()){let o=0,c=xs(r,this.left+i,this.right-this.lineWidths[o]);for(const d of n)o!==d.row&&(o=d.row,c=xs(r,this.left+i,this.right-this.lineWidths[o])),d.top+=this.top+e+i,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+i}else{let o=0,c=xs(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const d of n)d.col!==o&&(o=d.col,c=xs(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vy(e,this),this._draw(),$y(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:l}=e,o=Lt.color,c=Nl(e.rtl,this.left,this.width),d=Gt(l.font),{padding:u}=l,h=d.size,m=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:b}=Kw(l,h),v=function(E,M,k){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;i.save();const T=Ve(k.lineWidth,1);if(i.fillStyle=Ve(k.fillStyle,o),i.lineCap=Ve(k.lineCap,"butt"),i.lineDashOffset=Ve(k.lineDashOffset,0),i.lineJoin=Ve(k.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=Ve(k.strokeStyle,o),i.setLineDash(Ve(k.lineDash,[])),l.usePointStyle){const S={radius:x*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:T},P=c.xPlus(E,y/2),C=M+m;bT(i,S,P,C,l.pointStyleWidth&&y)}else{const S=M+Math.max((h-x)/2,0),P=c.leftForLtr(E,y),C=ba(k.borderRadius);i.beginPath(),Object.values(C).some(A=>A!==0)?Yc(i,{x:P,y:S,w:y,h:x,radius:C}):i.rect(P,S,y,x),i.fill(),T!==0&&i.stroke()}i.restore()},p=function(E,M,k){La(i,k.text,E,M+b/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},j=this.isHorizontal(),N=this._computeTitleHeight();j?g={x:xs(a,this.left+u,this.right-r[0]),y:this.top+u+N,line:0}:g={x:this.left+u,y:xs(a,this.top+N+u,this.bottom-n[0].height),line:0},CT(this.ctx,e.textDirection);const w=b+u;this.legendItems.forEach((E,M)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const k=i.measureText(E.text).width,T=c.textAlign(E.textAlign||(E.textAlign=l.textAlign)),S=y+m+k;let P=g.x,C=g.y;c.setWidth(this.width),j?M>0&&P+S+u>this.right&&(C=g.y+=w,g.line++,P=g.x=xs(a,this.left+u,this.right-r[g.line])):M>0&&C+w>this.bottom&&(P=g.x=P+n[g.line].width+u,g.line++,C=g.y=xs(a,this.top+N+u,this.bottom-n[g.line].height));const A=c.x(P);if(v(A,C,E),P=kW(T,P+y+m,j?P+S:this.right,e.rtl),p(c.x(P),C,E),j)g.x+=S+u;else if(typeof E.text!="string"){const I=d.lineHeight;g.y+=WT(E,I)+u}else g.y+=w}),ET(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Gt(n.font),i=Ns(n.padding);if(!n.display)return;const a=Nl(e.rtl,this.left,this.width),l=this.ctx,o=n.position,c=r.size/2,d=i.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=xs(e.align,h,this.right-m);else{const y=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);u=d+xs(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const g=xs(o,h,h+m);l.textAlign=a.textAlign(Oy(o)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,La(l,n.text,g,u,r)}_computeTitleHeight(){const e=this.options.title,n=Gt(e.font),r=Ns(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,a;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],pi(e,i.left,i.left+i.width)&&pi(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!LG(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=DG(i,r);i&&!a&&ct(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&ct(n.onHover,[e,r,this],this)}else r&&ct(n.onClick,[e,r,this],this)}}function PG(t,e,n,r,i){const a=MG(r,t,e,n),l=_G(i,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function MG(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+r.measureText(i).width}function _G(t,e,n){let r=t;return typeof e.text!="string"&&(r=WT(e,n)),r}function WT(t,e){const n=t.text?t.text.length:0;return e*n}function LG(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var AG={id:"legend",_element:Gw,start(t,e,n){const r=t.legend=new Gw({ctx:t.ctx,options:n,chart:t});mn.configure(t,r,n),mn.addBox(t,r)},stop(t){mn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:l,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=Ns(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class qT extends Kr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=yt(r.text)?r.text.length:1;this._padding=Ns(r.padding);const a=i*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:a,options:l}=this,o=l.align;let c=0,d,u,h;return this.isHorizontal()?(u=xs(o,r,a),h=n+e,d=a-r):(l.position==="left"?(u=r+e,h=xs(o,i,n),c=bt*-.5):(u=a-e,h=xs(o,n,i),c=bt*.5),d=i-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Gt(n.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(a);La(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:Oy(n.align),textBaseline:"middle",translation:[l,o]})}}function RG(t,e){const n=new qT({ctx:t.ctx,options:e,chart:t});mn.configure(t,n,e),mn.addBox(t,n),t.titleBlock=n}var IG={id:"title",_element:qT,start(t,e,n){RG(t,n)},stop(t){const e=t.titleBlock;mn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uo={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,a=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),i+=c.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,l,o;for(a=0,l=t.length;a<l;++a){const c=t[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=ax(e,d);u<i&&(i=u,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Zn(t,e){return e&&(yt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function OG(t,e){const{element:n,datasetIndex:r,index:i}=e,a=t.getDatasetMeta(r).controller,{label:l,value:o}=a.getLabelAndValue(i);return{chart:t,label:l,parsed:a.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Yw(t,e){const n=t.chart.ctx,{body:r,footer:i,title:a}=t,{boxWidth:l,boxHeight:o}=e,c=Gt(e.bodyFont),d=Gt(e.titleFont),u=Gt(e.footerFont),h=a.length,m=i.length,g=r.length,y=Ns(e.padding);let x=y.height,b=0,v=r.reduce((N,w)=>N+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const N=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;x+=g*N+(v-g)*c.lineHeight+(v-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let p=0;const j=function(N){b=Math.max(b,n.measureText(N).width+p)};return n.save(),n.font=d.string,nt(t.title,j),n.font=c.string,nt(t.beforeBody.concat(t.afterBody),j),p=e.displayColors?l+2+e.boxPadding:0,nt(r,N=>{nt(N.before,j),nt(N.lines,j),nt(N.after,j)}),p=0,n.font=u.string,nt(t.footer,j),n.restore(),b+=y.width,{width:b,height:x}}function FG(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function VG(t,e,n,r){const{x:i,width:a}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&i+a+l>e.width||t==="right"&&i-a-l<0)return!0}function $G(t,e,n,r){const{x:i,width:a}=n,{width:l,chartArea:{left:o,right:c}}=t;let d="center";return r==="center"?d=i<=(o+c)/2?"left":"right":i<=a/2?d="left":i>=l-a/2&&(d="right"),VG(d,t,e,n)&&(d="center"),d}function Xw(t,e,n){const r=n.yAlign||e.yAlign||FG(t,n);return{xAlign:n.xAlign||e.xAlign||$G(t,e,n,r),yAlign:r}}function BG(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function HG(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Zw(t,e,n,r){const{caretSize:i,caretPadding:a,cornerRadius:l}=t,{xAlign:o,yAlign:c}=n,d=i+a,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:g}=ba(l);let y=BG(e,o);const x=HG(e,c,d);return c==="center"?o==="left"?y+=d:o==="right"&&(y-=d):o==="left"?y-=Math.max(u,m)+i:o==="right"&&(y+=Math.max(h,g)+i),{x:js(y,0,r.width-e.width),y:js(x,0,r.height-e.height)}}function ou(t,e,n){const r=Ns(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Qw(t){return Zn([],wr(t))}function zG(t,e,n){return Wi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const KT={beforeTitle:vr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:vr,beforeBody:vr,beforeLabel:vr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:vr,afterBody:vr,beforeFooter:vr,footer:vr,afterFooter:vr};function Os(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?KT[e].call(n,r):i}class hx extends Kr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new PT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=zG(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Os(r,"beforeTitle",this,e),a=Os(r,"title",this,e),l=Os(r,"afterTitle",this,e);let o=[];return o=Zn(o,wr(i)),o=Zn(o,wr(a)),o=Zn(o,wr(l)),o}getBeforeBody(e,n){return Qw(Os(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return nt(e,a=>{const l={before:[],lines:[],after:[]},o=Jw(r,a);Zn(l.before,wr(Os(o,"beforeLabel",this,a))),Zn(l.lines,Os(o,"label",this,a)),Zn(l.after,wr(Os(o,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,n){return Qw(Os(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Os(r,"beforeFooter",this,e),a=Os(r,"footer",this,e),l=Os(r,"afterFooter",this,e);let o=[];return o=Zn(o,wr(i)),o=Zn(o,wr(a)),o=Zn(o,wr(l)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],a=[],l=[];let o=[],c,d;for(c=0,d=n.length;c<d;++c)o.push(OG(this.chart,n[c]));return e.filter&&(o=o.filter((u,h,m)=>e.filter(u,h,m,r))),e.itemSort&&(o=o.sort((u,h)=>e.itemSort(u,h,r))),nt(o,u=>{const h=Jw(e.callbacks,u);i.push(Os(h,"labelColor",this,u)),a.push(Os(h,"labelPointStyle",this,u)),l.push(Os(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const o=Uo[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const c=this._size=Yw(this,r),d=Object.assign({},o,c),u=Xw(this.chart,r,d),h=Zw(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const a=this.getCaretPosition(e,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:o}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=ba(o),{x:m,y:g}=e,{width:y,height:x}=n;let b,v,p,j,N,w;return a==="center"?(N=g+x/2,i==="left"?(b=m,v=b-l,j=N+l,w=N-l):(b=m+y,v=b+l,j=N-l,w=N+l),p=b):(i==="left"?v=m+Math.max(c,u)+l:i==="right"?v=m+y-Math.max(d,h)-l:v=this.caretX,a==="top"?(j=g,N=j-l,b=v-l,p=v+l):(j=g+x,N=j+l,b=v+l,p=v-l),w=j),{x1:b,x2:v,x3:p,y1:j,y2:N,y3:w}}drawTitle(e,n,r){const i=this.title,a=i.length;let l,o,c;if(a){const d=Nl(r.rtl,this.x,this.width);for(e.x=ou(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",l=Gt(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,c=0;c<a;++c)n.fillText(i[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+o,c+1===a&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,a){const l=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=a,u=Gt(a.bodyFont),h=ou(this,"left",a),m=i.x(h),g=c<u.lineHeight?(u.lineHeight-c)/2:0,y=n.y+g;if(a.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=i.leftForLtr(m,d)+d/2,v=y+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ox(e,x,b,v),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ox(e,x,b,v)}else{e.lineWidth=Ye(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const x=i.leftForLtr(m,d),b=i.leftForLtr(i.xPlus(m,1),d-2),v=ba(l.borderRadius);Object.values(v).some(p=>p!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Yc(e,{x,y,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Yc(e,{x:b,y:y+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,y,d,c),e.strokeRect(x,y,d,c),e.fillStyle=l.backgroundColor,e.fillRect(b,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=r,h=Gt(r.bodyFont);let m=h.lineHeight,g=0;const y=Nl(r.rtl,this.x,this.width),x=function(k){n.fillText(k,y.x(e.x+g),e.y+m/2),e.y+=m+a},b=y.textAlign(l);let v,p,j,N,w,E,M;for(n.textAlign=l,n.textBaseline="middle",n.font=h.string,e.x=ou(this,b,r),n.fillStyle=r.bodyColor,nt(this.beforeBody,x),g=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,N=0,E=i.length;N<E;++N){for(v=i[N],p=this.labelTextColors[N],n.fillStyle=p,nt(v.before,x),j=v.lines,o&&j.length&&(this._drawColorBox(n,e,N,y,r),m=Math.max(h.lineHeight,c)),w=0,M=j.length;w<M;++w)x(j[w]),m=h.lineHeight;nt(v.after,x)}g=0,m=h.lineHeight,nt(this.afterBody,x),e.y-=a}drawFooter(e,n,r){const i=this.footer,a=i.length;let l,o;if(a){const c=Nl(r.rtl,this.x,this.width);for(e.x=ou(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",l=Gt(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,o=0;o<a;++o)n.fillText(i[o],c.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:a,yAlign:l}=this,{x:o,y:c}=e,{width:d,height:u}=r,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:y}=ba(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+h,c),l==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+d-m,c),n.quadraticCurveTo(o+d,c,o+d,c+m),l==="center"&&a==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+d,c+u-y),n.quadraticCurveTo(o+d,c+u,o+d-y,c+u),l==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+g,c+u),n.quadraticCurveTo(o,c+u,o,c+u-g),l==="center"&&a==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,c+h),n.quadraticCurveTo(o,c,o+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const l=Uo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=Yw(this,e),c=Object.assign({},l,this._size),d=Xw(n,e,c),u=Zw(e,c,d,n);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Ns(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,n),CT(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),ET(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),a=!Hh(r,i),l=this._positionChanged(i,n);(a||l)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,r),o=this._positionChanged(l,e),c=n||!Hh(l,a)||o;return c&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:i,options:a}=this,l=Uo[a.position].call(this,e,n);return l!==!1&&(r!==l.x||i!==l.y)}}ge(hx,"positioners",Uo);var UG={id:"tooltip",_element:hx,positioners:Uo,afterInit(t,e,n){n&&(t.tooltip=new hx({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const WG=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function qG(t,e,n,r){const i=t.indexOf(e);if(i===-1)return WG(t,e,n,r);const a=t.lastIndexOf(e);return i!==a?n:i}const KG=(t,e)=>t===null?null:js(Math.round(t),0,e);function eN(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class mx extends Ia{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ge(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:qG(r,e,Ve(n,e),this._addedLabels),KG(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)i.push({value:l});return i}getLabelForValue(e){return eN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ge(mx,"id","category"),ge(mx,"defaults",{ticks:{callback:eN}});function GG(t,e){const n=[],{bounds:i,step:a,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=t,g=a||1,y=u-1,{min:x,max:b}=e,v=!Ge(l),p=!Ge(o),j=!Ge(d),N=(b-x)/(h+1);let w=nw((b-x)/y/g)*g,E,M,k,T;if(w<1e-14&&!v&&!p)return[{value:x},{value:b}];T=Math.ceil(b/w)-Math.floor(x/w),T>y&&(w=nw(T*w/y/g)*g),Ge(c)||(E=Math.pow(10,c),w=Math.ceil(w*E)/E),i==="ticks"?(M=Math.floor(x/w)*w,k=Math.ceil(b/w)*w):(M=x,k=b),v&&p&&a&&pW((o-l)/a,w/1e3)?(T=Math.round(Math.min((o-l)/w,u)),w=(o-l)/T,M=l,k=o):j?(M=v?l:M,k=p?o:k,T=d-1,w=(k-M)/T):(T=(k-M)/w,dc(T,Math.round(T),w/1e3)?T=Math.round(T):T=Math.ceil(T));const S=Math.max(rw(w),rw(M));E=Math.pow(10,Ge(c)?S:c),M=Math.round(M*E)/E,k=Math.round(k*E)/E;let P=0;for(v&&(m&&M!==l?(n.push({value:l}),M<l&&P++,dc(Math.round((M+P*w)*E)/E,l,tN(l,N,t))&&P++):M<l&&P++);P<T;++P){const C=Math.round((M+P*w)*E)/E;if(p&&C>o)break;n.push({value:C})}return p&&m&&k!==o?n.length&&dc(n[n.length-1].value,o,tN(o,N,t))?n[n.length-1].value=o:n.push({value:o}):(!p||k===o)&&n.push({value:k}),n}function tN(t,e,{horizontal:n,minRotation:r}){const i=or(r),a=(n?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class Yh extends Ia{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const l=c=>i=n?i:c,o=c=>a=r?a:c;if(e){const c=pr(i),d=pr(a);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);o(a+c),e||l(i-c)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=GG(i,a);return e.bounds==="ticks"&&mT(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Vm(e,this.chart.options.locale,this.options.ticks.format)}}class fx extends Yh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=es(e)?e:0,this.max=es(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=or(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ge(fx,"id","linear"),ge(fx,"defaults",{ticks:{callback:$m.formatters.numeric}});const Zc=t=>Math.floor(xi(t)),Ji=(t,e)=>Math.pow(10,Zc(t)+e);function sN(t){return t/Math.pow(10,Zc(t))===1}function nN(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function YG(t,e){const n=e-t;let r=Zc(n);for(;nN(t,e,r)>10;)r++;for(;nN(t,e,r)<10;)r--;return Math.min(r,Zc(t))}function XG(t,{min:e,max:n}){e=Gs(t.min,e);const r=[],i=Zc(e);let a=YG(e,n),l=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),c=i>a?Math.pow(10,i):0,d=Math.round((e-c)*l)/l,u=Math.floor((e-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,a)),m=Gs(t.min,Math.round((c+u+h*Math.pow(10,a))*l)/l);for(;m<n;)r.push({value:m,major:sN(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,l=a>=0?1:l),m=Math.round((c+u+h*Math.pow(10,a))*l)/l;const g=Gs(t.max,m);return r.push({value:g,major:sN(g),significand:h}),r}class rN extends Ia{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Yh.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return es(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=es(e)?Math.max(0,e):null,this.max=es(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!es(this._userMin)&&(this.min=e===Ji(this.min,0)?Ji(this.min,-1):Ji(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const a=o=>r=e?r:o,l=o=>i=n?i:o;r===i&&(r<=0?(a(1),l(10)):(a(Ji(r,-1)),l(Ji(i,1)))),r<=0&&a(Ji(i,-1)),i<=0&&l(Ji(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=XG(n,this);return e.bounds==="ticks"&&mT(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Vm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=xi(e),this._valueRange=xi(this.max)-xi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(xi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ge(rN,"id","logarithmic"),ge(rN,"defaults",{ticks:{callback:$m.formatters.logarithmic,major:{enabled:!0}}});function gx(t){const e=t.ticks;if(e.display&&t.display){const n=Ns(e.backdropPadding);return Ve(e.font&&e.font.size,Lt.font.size)+n.height}return 0}function ZG(t,e,n){return n=yt(n)?n:[n],{w:IW(t,e.string,n),h:n.length*e.lineHeight}}function iN(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function QG(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],a=t._pointLabels.length,l=t.options.pointLabels,o=l.centerPointLabels?bt/a:0;for(let c=0;c<a;c++){const d=l.setContext(t.getPointLabelContext(c));i[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+i[c],o),h=Gt(d.font),m=ZG(t.ctx,h,t._pointLabels[c]);r[c]=m;const g=Cn(t.getIndexAngle(c)+o),y=Math.round(Ry(g)),x=iN(y,u.x,m.w,0,180),b=iN(y,u.y,m.h,90,270);JG(n,e,g,x,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=sY(t,r,i)}function JG(t,e,n,r,i){const a=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let o=0,c=0;r.start<e.l?(o=(e.l-r.start)/a,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(c=(e.t-i.start)/l,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/l,t.b=Math.max(t.b,e.b+c))}function eY(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:a,padding:l,size:o}=n,c=t.getPointPosition(e,r+i+l,a),d=Math.round(Ry(Cn(c.angle+Ot))),u=iY(c.y,o.h,d),h=nY(d),m=rY(c.x,o.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:m,top:u,right:m+o.w,bottom:u+o.h}}function tY(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:a}=t;return!(Pr({x:n,y:r},e)||Pr({x:n,y:a},e)||Pr({x:i,y:r},e)||Pr({x:i,y:a},e))}function sY(t,e,n){const r=[],i=t._pointLabels.length,a=t.options,{centerPointLabels:l,display:o}=a.pointLabels,c={extra:gx(a)/2,additionalAngle:l?bt/i:0};let d;for(let u=0;u<i;u++){c.padding=n[u],c.size=e[u];const h=eY(t,u,c);r.push(h),o==="auto"&&(h.visible=tY(h,d),h.visible&&(d=h))}return r}function nY(t){return t===0||t===180?"center":t<180?"left":"right"}function rY(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function iY(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function aY(t,e,n){const{left:r,top:i,right:a,bottom:l}=n,{backdropColor:o}=e;if(!Ge(o)){const c=ba(e.borderRadius),d=Ns(e.backdropPadding);t.fillStyle=o;const u=r-d.left,h=i-d.top,m=a-r+d.width,g=l-i+d.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),Yc(t,{x:u,y:h,w:m,h:g,radius:c}),t.fill()):t.fillRect(u,h,m,g)}}function lY(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const a=t._pointLabelItems[i];if(!a.visible)continue;const l=r.setContext(t.getPointLabelContext(i));aY(n,l,a);const o=Gt(l.font),{x:c,y:d,textAlign:u}=a;La(n,t._pointLabels[i],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function GT(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,vt);else{let a=t.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let l=1;l<r;l++)a=t.getPointPosition(l,e),i.lineTo(a.x,a.y)}}function oY(t,e,n,r,i){const a=t.ctx,l=e.circular,{color:o,lineWidth:c}=e;!l&&!r||!o||!c||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=c,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),GT(t,n,l,r),a.closePath(),a.stroke(),a.restore())}function cY(t,e,n){return Wi(t,{label:n,index:e,type:"pointLabel"})}class cu extends Yh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ns(gx(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=es(e)&&!isNaN(e)?e:0,this.max=es(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gx(this.options))}generateTickLabels(e){Yh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=ct(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?QG(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=vt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Cn(e*n+or(r))}getDistanceFromCenterForValue(e){if(Ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return cY(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Ot+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:a}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),GT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:a}=n,l=this._pointLabels.length;let o,c,d;if(n.pointLabels.display&&lY(this,l),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(h),g=i.setContext(m),y=a.setContext(m);oY(this,g,c,l,y)}}),r.display){for(e.save(),o=l-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:m}=u;!m||!h||(e.lineWidth=m,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(o,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let a,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(c)),u=Gt(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,l=e.measureText(o.label).width,e.fillStyle=d.backdropColor;const h=Ns(d.backdropPadding);e.fillRect(-l/2-h.left,-a-u.size/2-h.top,l+h.width,u.size+h.height)}La(e,o.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}ge(cu,"id","radialLinear"),ge(cu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$m.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ge(cu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ge(cu,"descriptors",{angleLines:{_fallback:"grid"}});const zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$s=Object.keys(zm);function aN(t,e){return t-e}function lN(t,e){if(Ge(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),es(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(i&&(l=i==="week"&&(Kc(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,i)),+l)}function oN(t,e,n,r){const i=$s.length;for(let a=$s.indexOf(t);a<i-1;++a){const l=zm[$s[a]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(o*l.size))<=r)return $s[a]}return $s[i-1]}function dY(t,e,n,r,i){for(let a=$s.length-1;a>=$s.indexOf(n);a--){const l=$s[a];if(zm[l].common&&t._adapter.diff(i,r,l)>=e-1)return l}return $s[n?$s.indexOf(n):0]}function uY(t){for(let e=$s.indexOf(t)+1,n=$s.length;e<n;++e)if(zm[$s[e]].common)return $s[e]}function cN(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Iy(n,e),a=n[r]>=e?n[r]:n[i];t[a]=!0}}function hY(t,e,n,r){const i=t._adapter,a=+i.startOf(e[0].value,r),l=e[e.length-1].value;let o,c;for(o=a;o<=l;o=+i.add(o,1,r))c=n[o],c>=0&&(e[c].major=!0);return e}function dN(t,e,n){const r=[],i={},a=e.length;let l,o;for(l=0;l<a;++l)o=e[l],i[o]=l,r.push({value:o,major:!1});return a===0||!n?r:hY(t,r,i,n)}class Xh extends Ia{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new tK._date(e.adapters.date);i.init(n),cc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:lN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!o&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=es(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=es(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,o=jW(i,a,l);return this._unit=n.unit||(r.autoSkip?oN(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):dY(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:uY(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),dN(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=js(n,0,l),r=js(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,l=a.unit||oN(a.minUnit,n,r,this._getLabelCapacity(n)),o=Ve(i.ticks.stepSize,1),c=l==="week"?a.isoWeekday:!1,d=Kc(c)||c===!0,u={};let h=n,m,g;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":l),e.diff(r,n,l)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+l);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(m=h,g=0;m<r;m=+e.add(m,o,l),g++)cN(u,m,y);return(m===r||i.bounds==="ticks"||g===1)&&cN(u,m,y),Object.keys(u).sort(aN).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,a=this._unit,l=n||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,i){const a=this.options,l=a.ticks.callback;if(l)return ct(l,[e,n,r],this);const o=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],m=r[n],g=d&&h&&m&&m.major;return this._adapter.format(e,i||(g?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=or(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),l=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*a+o*l,h:r*l+o*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,dN(this,[e],this._majorUnit),i),l=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(lN(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xT(e.sort(aN))}}ge(Xh,"id","time"),ge(Xh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function du(t,e,n){let r=0,i=t.length-1,a,l,o,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ga(t,"pos",e)),{pos:a,time:o}=t[r],{pos:l,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ga(t,"time",e)),{time:a,pos:o}=t[r],{time:l,pos:c}=t[i]);const d=l-a;return d?o+(c-o)*(e-a)/d:o}class uN extends Xh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=du(n,this.min),this._tableRange=du(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],a=[];let l,o,c,d,u;for(l=0,o=e.length;l<o;++l)d=e[l],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,o=i.length;l<o;++l)u=i[l+1],c=i[l-1],d=i[l],Math.round((u+c)/2)!==d&&a.push({time:d,pos:l/(o-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(du(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return du(this._table,r*this._tableRange+this._minPos,!0)}}ge(uN,"id","timeseries"),ge(uN,"defaults",Xh.defaults);const YT="label";function hN(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function XT(t,e){t.labels=e}function ZT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YT;const r=[];t.datasets=e.map(i=>{const a=t.datasets.find(l=>l[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function fY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YT;const n={labels:[],datasets:[]};return XT(n,t.labels),ZT(n,t.datasets,e),n}function gY(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,g=f.useRef(null),y=f.useRef(null),x=()=>{g.current&&(y.current=new Hm(g.current,{type:l,data:fY(o,a),options:c&&{...c},plugins:d}),hN(e,y.current))},b=()=>{hN(e,null),y.current&&(y.current.destroy(),y.current=null)};return f.useEffect(()=>{!i&&y.current&&c&&mY(y.current,c)},[i,c]),f.useEffect(()=>{!i&&y.current&&XT(y.current.config.data,o.labels)},[i,o.labels]),f.useEffect(()=>{!i&&y.current&&o.datasets&&ZT(y.current.config.data,o.datasets,a)},[i,o.datasets]),f.useEffect(()=>{y.current&&(i?(b(),setTimeout(x)):y.current.update(h))},[i,c,o.labels,o.datasets,h]),f.useEffect(()=>{y.current&&(b(),setTimeout(x))},[l]),f.useEffect(()=>(x(),()=>b()),[]),ie.createElement("canvas",{ref:g,role:"img",height:n,width:r,...m},u)}const xY=f.forwardRef(gY);function Gy(t,e){return Hm.register(e),f.forwardRef((n,r)=>ie.createElement(xY,{...n,ref:r,type:t}))}const pY=Gy("line",Iu),yY=Gy("bar",Ru),vY=Gy("doughnut",$o);Hm.register(mx,fx,Vu,zo,$u,IG,UG,AG,Ho);const bY=()=>{const[t,e]=f.useState("month"),[n,r]=f.useState("all"),i=[{title:"Tng s ngi dng",value:"1,234",change:"+12.5%",trend:"up",icon:Rl},{title:"Lch hn trong tun",value:"156",change:"-5.2%",trend:"down",icon:ve},{title:"n thuc mi",value:"89",change:"+8.3%",trend:"up",icon:Rn},{title:"T l hon thnh",value:"94.2%",change:"+2.1%",trend:"up",icon:us}],a={labels:["T2","T3","T4","T5","T6","T7","CN"],datasets:[{label:"Bnh nhn",data:[65,59,80,81,56,55,40],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)"},{label:"Bc s",data:[28,48,40,19,86,27,90],borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]},l={labels:["Hon thnh","Hy","ang ch","Qu hn"],datasets:[{data:[300,50,100,20],backgroundColor:["rgba(75, 192, 192, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(153, 102, 255, 0.8)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},o={labels:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],datasets:[{label:"S ca iu tr",data:[120,190,300,250,280,320,350,310,290,380,400,420],backgroundColor:"rgba(53, 162, 235, 0.5)"}]};return s.jsx(be,{currentRole:se.ADMIN,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thng k"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Theo di v phn tch d liu hot ng ca h thng"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{value:t,onChange:c=>e(c.target.value),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"day",children:"Hm nay"}),s.jsx("option",{value:"week",children:"Tun ny"}),s.jsx("option",{value:"month",children:"Thng ny"}),s.jsx("option",{value:"year",children:"Nm nay"})]}),s.jsxs("select",{value:n,onChange:c=>r(c.target.value),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[s.jsx("option",{value:"all",children:"Tt c d liu"}),s.jsx("option",{value:"users",children:"Ngi dng"}),s.jsx("option",{value:"appointments",children:"Lch hn"}),s.jsx("option",{value:"treatments",children:"iu tr"})]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx(An,{className:"h-5 w-5 mr-2"}),"Xut bo co"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:i.map((c,d)=>s.jsx(G,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(c.icon,{className:"h-8 w-8 text-gray-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:c.title}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:c.value}),s.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${c.trend==="up"?"text-green-600":"text-red-600"}`,children:[c.trend==="up"?s.jsx(yl,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}):s.jsx(D4,{className:"self-center flex-shrink-0 h-4 w-4 text-red-500"}),s.jsx("span",{className:"ml-1",children:c.change})]})]})]})})]})})},d))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hot ng ngi dng"}),s.jsx("div",{className:"h-80",children:s.jsx(pY,{data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Tin  iu tr"}),s.jsx("div",{className:"h-80",children:s.jsx(yY,{data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Trng thi lch hn"}),s.jsx("div",{className:"h-80",children:s.jsx(vY,{data:l,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})})]})}),s.jsx(G,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Ch s quan trng"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Thi gian phn hi trung bnh"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"15 pht"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"75%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mc  hi lng ca bnh nhn"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"92%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"92%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"T l iu tr thnh cng"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"88%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"88%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Thi gian hot ng h thng"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"99.9%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"99.9%"}})})]})]})]})})]})]})})},mN=()=>{const t=[{name:"Trang ch",href:"/customer/dashboard",description:"Tng quan v dch v ca chng ti"},{name:"Gii thiu",href:"/customer/info",description:"Thng tin v chng ti v s mnh ca chng ti"},{name:"Lch hn",href:"/customer/appointments",description:"t lch hn vi bc s chuyn khoa"},{name:"Xt nghim",href:"/customer/test-results",description:"Xem kt qu xt nghim v theo di sc khe"},{name:"Thuc iu tr",href:"/customer/medications",description:"Qun l thuc v lch ung thuc"},{name:"Blog",href:"/customer/blog",description:"Tin tc v bi vit v sc khe v iu tr HIV"},{name:"Lin h",href:"/customer/support",description:"Thng tin lin h v h tr"}];return s.jsx(be,{currentRole:se.CUSTOMER,userName:"Nguyn Vn An",pageTitle:"Thng Tin",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cc trang thng tin"}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>s.jsxs("a",{href:e.href,className:"block p-6 bg-white rounded-lg shadow hover:shadow-md transition duration-150",children:[s.jsx("h2",{className:"text-xl font-semibold text-primary-600 mb-2",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.description})]},e.name))})]})})},jY=()=>s.jsx(be,{currentRole:se.STAFF,children:s.jsx("div",{className:"p-8",children:"Trang chi tit bnh nhn"})}),wY=()=>s.jsx(be,{currentRole:se.STAFF,children:s.jsx("div",{className:"p-8",children:"Trang chnh sa thng tin bnh nhn"})}),NY=()=>s.jsx(be,{currentRole:se.ADMIN,children:s.jsx("div",{className:"p-8",children:"Trang thm ngi dng mi"})}),kY=()=>s.jsx(be,{currentRole:se.ADMIN,children:s.jsx("div",{className:"p-8",children:"Trang chnh sa ngi dng"})});function SY(){return s.jsx(CE,{children:s.jsxs(vE,{children:[s.jsx(de,{path:"/",element:s.jsx(Oj,{})}),s.jsx(de,{path:"/home",element:s.jsx(Oj,{})}),s.jsx(de,{path:"/about",element:s.jsx(eB,{})}),s.jsx(de,{path:"/services",element:s.jsx(tB,{})}),s.jsx(de,{path:"/blog",element:s.jsx(sB,{})}),s.jsx(de,{path:"/contact",element:s.jsx(nB,{})}),s.jsx(de,{path:"/resources",element:s.jsx(Z$,{})}),s.jsx(de,{path:"/doctors",element:s.jsx(oB,{})}),s.jsx(de,{path:"/schedule",element:s.jsx(rB,{})}),s.jsx(de,{path:"/login",element:s.jsx(DR,{})}),s.jsx(de,{path:"/register",element:s.jsx(_7,{})}),s.jsx(de,{path:"/notifications",element:s.jsx(L7,{})}),s.jsx(de,{path:"/customer",element:s.jsx(Jn,{to:"/customer/dashboard",replace:!0})}),s.jsx(de,{path:"/customer/dashboard",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(hB,{})})}),s.jsx(de,{path:"/customer/info",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(mN,{})})}),s.jsx(de,{path:"/dashboard",element:s.jsx(Jn,{to:"/customer/dashboard",replace:!0})}),s.jsx(de,{path:"/customer/appointment-selection",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(gB,{})})}),s.jsx(de,{path:"/customer/appointments",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(zd,{})})}),s.jsx(de,{path:"/customer/appointments/upcoming",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(zd,{})})}),s.jsx(de,{path:"/customer/appointments/history",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(zd,{})})}),s.jsx(de,{path:"/customer/appointments/new",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(zd,{})})}),s.jsx(de,{path:"/customer/test-results",element:s.jsx(Ud,{})}),s.jsx(de,{path:"/customer/test-results/latest",element:s.jsx(Ud,{})}),s.jsx(de,{path:"/customer/test-results/history",element:s.jsx(Ud,{})}),s.jsx(de,{path:"/customer/test-results/compare",element:s.jsx(Ud,{})}),s.jsx(de,{path:"/customer/medications",element:s.jsx(Wd,{})}),s.jsx(de,{path:"/customer/medications/current",element:s.jsx(Wd,{})}),s.jsx(de,{path:"/customer/medications/history",element:s.jsx(Wd,{})}),s.jsx(de,{path:"/customer/medications/refill",element:s.jsx(Wd,{})}),s.jsx(de,{path:"/customer/resources",element:s.jsx(qd,{})}),s.jsx(de,{path:"/customer/resources/treatment",element:s.jsx(qd,{})}),s.jsx(de,{path:"/customer/resources/living-with-hiv",element:s.jsx(qd,{})}),s.jsx(de,{path:"/customer/resources/support",element:s.jsx(qd,{})}),s.jsx(de,{path:"/customer/settings",element:s.jsx(xB,{})}),s.jsx(de,{path:"/customer/support",element:s.jsx(mN,{})}),s.jsx(de,{path:"/education",element:s.jsx(Jn,{to:"/resources",replace:!0})}),s.jsx(de,{path:"/customer/education",element:s.jsx(Jn,{to:"/customer/resources",replace:!0})}),s.jsx(de,{path:"/customer/online-consultation",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(Vj,{})})}),s.jsx(de,{path:"/customer/online-consultation/new",element:s.jsx(Yt,{allowedRoles:["CUSTOMER"],children:s.jsx(Vj,{})})}),s.jsx(de,{path:"/doctor",element:s.jsx(Jn,{to:"/doctor/dashboard",replace:!0})}),s.jsx(de,{path:"/doctor/dashboard",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(kB,{})})}),s.jsx(de,{path:"/doctor/patients",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(SB,{})})}),s.jsx(de,{path:"/doctor/treatment-plans",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(AB,{})})}),s.jsx(de,{path:"/doctor/appointments",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(EB,{})})}),s.jsx(de,{path:"/doctor/test-results",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(_B,{})})}),s.jsx(de,{path:"/doctor/calendar",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(nU,{})})}),s.jsx(de,{path:"/doctor/settings",element:s.jsx(Yt,{allowedRoles:["DOCTOR"],children:s.jsx(rU,{})})}),s.jsx(de,{path:"/staff",element:s.jsx(Jn,{to:"/staff/dashboard",replace:!0})}),s.jsx(de,{path:"/staff/dashboard",element:s.jsx(Yt,{allowedRoles:["STAFF"],children:s.jsx(aU,{})})}),s.jsx(de,{path:"/staff/patients",element:s.jsx(lU,{})}),s.jsx(de,{path:"/staff/patients/new",element:s.jsx(oU,{})}),s.jsx(de,{path:"/staff/patients/:patientId",element:s.jsx(jY,{})}),s.jsx(de,{path:"/staff/patients/:patientId/edit",element:s.jsx(wY,{})}),s.jsx(de,{path:"/staff/appointments",element:s.jsx(cU,{})}),s.jsx(de,{path:"/staff/appointments/new",element:s.jsx(dU,{})}),s.jsx(de,{path:"/staff/lab-requests",element:s.jsx(Yt,{allowedRoles:["STAFF"],children:s.jsx(bU,{})})}),s.jsx(de,{path:"/staff/test-results",element:s.jsx(uU,{})}),s.jsx(de,{path:"/staff/test-results/:testId/input",element:s.jsx(hU,{})}),s.jsx(de,{path:"/staff/reports",element:s.jsx(mU,{})}),s.jsx(de,{path:"/staff/settings",element:s.jsx(yU,{})}),s.jsx(de,{path:"/staff/schedule",element:s.jsx(pU,{})}),s.jsx(de,{path:"/staff/chat",element:s.jsx(vU,{})}),s.jsx(de,{path:"/manager",element:s.jsx(Jn,{to:"/manager/dashboard",replace:!0})}),s.jsx(de,{path:"/manager/dashboard",element:s.jsx(jU,{})}),s.jsx(de,{path:"/manager/staff",element:s.jsx(kU,{})}),s.jsx(de,{path:"/manager/doctors",element:s.jsx(CU,{})}),s.jsx(de,{path:"/manager/reports",element:s.jsx(SU,{})}),s.jsx(de,{path:"/manager/content",element:s.jsx(DU,{})}),s.jsx(de,{path:"/manager/analytics",element:s.jsx(MU,{})}),s.jsx(de,{path:"/manager/doctor-schedule",element:s.jsx(LU,{})}),s.jsx(de,{path:"/manager/settings",element:s.jsx(AU,{})}),s.jsx(de,{path:"/admin",element:s.jsx(Jn,{to:"/admin/dashboard",replace:!0})}),s.jsx(de,{path:"/admin/dashboard",element:s.jsx(RU,{})}),s.jsx(de,{path:"/admin/users",element:s.jsx(IU,{})}),s.jsx(de,{path:"/admin/users/new",element:s.jsx(NY,{})}),s.jsx(de,{path:"/admin/users/:userId/edit",element:s.jsx(kY,{})}),s.jsx(de,{path:"/admin/data-management",element:s.jsx(OU,{})}),s.jsx(de,{path:"/admin/statistics",element:s.jsx(bY,{})}),s.jsx(de,{path:"/unauthorized",element:s.jsx(J$,{})}),s.jsx(de,{path:"*",element:s.jsx(Q$,{})})]})})}mg.createRoot(document.getElementById("root")).render(s.jsx(ie.StrictMode,{children:s.jsx(SY,{})}));
